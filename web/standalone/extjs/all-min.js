Ext.define("Ext.util.Observable",{requires:["Ext.util.Event"],statics:{releaseCapture:function(a){a.fireEvent=this.prototype.fireEvent},capture:function(a,b,c){a.fireEvent=Ext.Function.createInterceptor(a.fireEvent,b,c)},observe:function(a,b){if(a){if(!a.isObservable){Ext.applyIf(a,new this);this.capture(a.prototype,a.fireEvent,a)}if(Ext.isObject(b)){a.on(b)}}return a},prepareClass:function(a,b){if(!a.HasListeners){var c=Ext.util.Observable,d=function(){},e=a.superclass.HasListeners||b&&b.HasListeners||c.HasListeners;a.prototype.HasListeners=a.HasListeners=d;d.prototype=a.hasListeners=new e}}},isObservable:true,eventsSuspended:0,constructor:function(a){var b=this;Ext.apply(b,a);if(!b.hasListeners){b.hasListeners=new b.HasListeners}b.events=b.events||{};if(b.listeners){b.on(b.listeners);b.listeners=null}if(b.bubbleEvents){b.enableBubble(b.bubbleEvents)}},onClassExtended:function(a){if(!a.HasListeners){Ext.util.Observable.prepareClass(a)}},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|vertical|horizontal|freezeEvent)$/,addManagedListener:function(a,b,c,d,e){var f=this,g=f.managedListeners=f.managedListeners||[],h;if(typeof b!=="string"){e=b;for(b in e){if(e.hasOwnProperty(b)){h=e[b];if(!f.eventOptionsRe.test(b)){f.addManagedListener(a,b,h.fn||h,h.scope||e.scope,h.fn?h:e)}}}}else{g.push({item:a,ename:b,fn:c,scope:d,options:e});a.on(b,c,d,e)}},removeManagedListener:function(a,b,c,d){var e=this,f,g,h,i,j;if(typeof b!=="string"){f=b;for(b in f){if(f.hasOwnProperty(b)){g=f[b];if(!e.eventOptionsRe.test(b)){e.removeManagedListener(a,b,g.fn||g,g.scope||f.scope)}}}}h=e.managedListeners?e.managedListeners.slice():[];for(j=0,i=h.length;j<i;j++){e.removeManagedListenerItem(false,h[j],a,b,c,d)}},fireEvent:function(a){a=a.toLowerCase();var b=this,c=b.events,d=c&&c[a],e=true;if(d&&b.hasListeners[a]){e=b.continueFireEvent(a,Ext.Array.slice(arguments,1),d.bubble)}return e},continueFireEvent:function(a,b,c){var d=this,e,f,g=true;do{if(d.eventsSuspended){if(e=d.eventQueue){e.push([a,b,c])}return g}else{f=d.events[a];if(f&&f!=true){if((g=f.fire.apply(f,b))===false){break}}}}while(c&&(d=d.getBubbleParent()));return g},getBubbleParent:function(){var a=this,b=a.getBubbleTarget&&a.getBubbleTarget();if(b&&b.isObservable){return b}return null},addListener:function(a,b,c,d){var e=this,f,g,h,i=0;if(typeof a!=="string"){d=a;for(a in d){if(d.hasOwnProperty(a)){f=d[a];if(!e.eventOptionsRe.test(a)){e.addListener(a,f.fn||f,f.scope||d.scope,f.fn?f:d)}}}}else{a=a.toLowerCase();g=e.events[a];if(g&&g.isEvent){i=g.listeners.length}else{e.events[a]=g=new Ext.util.Event(e,a)}if(typeof b==="string"){if(!(c[b]||e[b])){Ext.Error.raise('No method named "'+b+'"')}b=c[b]||e[b]}g.addListener(b,c,d);if(g.listeners.length!==i){h=e.hasListeners;if(h.hasOwnProperty(a)){++h[a]}else{h[a]=1}}}},removeListener:function(a,b,c){var d=this,e,f,g;if(typeof a!=="string"){g=a;for(a in g){if(g.hasOwnProperty(a)){e=g[a];if(!d.eventOptionsRe.test(a)){d.removeListener(a,e.fn||e,e.scope||g.scope)}}}}else{a=a.toLowerCase();f=d.events[a];if(f&&f.isEvent){if(f.removeListener(b,c)&&!--d.hasListeners[a]){delete d.hasListeners[a]}}}},clearListeners:function(){var a=this.events,b,c;for(c in a){if(a.hasOwnProperty(c)){b=a[c];if(b.isEvent){b.clearListeners()}}}this.clearManagedListeners()},purgeListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners.")}return this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){var a=this.managedListeners||[],b=0,c=a.length;for(;b<c;b++){this.removeManagedListenerItem(true,a[b])}this.managedListeners=[]},removeManagedListenerItem:function(a,b,c,d,e,f){if(a||b.item===c&&b.ename===d&&(!e||b.fn===e)&&(!f||b.scope===f)){b.item.un(b.ename,b.fn,b.scope);if(!a){Ext.Array.remove(this.managedListeners,b)}}},purgeManagedListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners.")}return this.clearManagedListeners.apply(this,arguments)},addEvents:function(a){var b=this,c=b.events||(b.events={}),d,e,f;if(typeof a=="string"){for(e=arguments,f=e.length;f--;){d=e[f];if(!c[d]){c[d]=true}}}else{Ext.applyIf(b.events,a)}},hasListener:function(a){return!!this.hasListeners[a.toLowerCase()]},suspendEvents:function(a){this.eventsSuspended+=1;if(a&&!this.eventQueue){this.eventQueue=[]}},resumeEvents:function(){var a=this,b=a.eventQueue,c,d;if(a.eventsSuspended&&!--a.eventsSuspended){delete a.eventQueue;if(b){c=b.length;for(d=0;d<c;d++){a.continueFireEvent.apply(a,b[d])}}}},relayEvents:function(a,b,c){var d=this,e=b.length,f=0,g,h;for(;f<e;f++){g=b[f];h=c?c+g:g;d.mon(a,g,d.createRelayer(h))}},createRelayer:function(a,b){var c=this;return function(){return c.fireEvent.apply(c,[a].concat(Array.prototype.slice.apply(arguments,b||[0,-1])))}},enableBubble:function(a){if(a){var b=this,c=typeof a=="string"?arguments:a,d=c.length,e=b.events,f,g,h;for(h=0;h<d;++h){f=c[h].toLowerCase();g=e[f];if(!g||typeof g=="boolean"){e[f]=g=new Ext.util.Event(b,f)}b.hasListeners[f]=(b.hasListeners[f]||0)+1;g.bubble=true}}}},function(){function e(a){var b=(this.methodEvents=this.methodEvents||{})[a],c,d,e,f=this,g;if(!b){this.methodEvents[a]=b={};b.originalFn=this[a];b.methodName=a;b.before=[];b.after=[];g=function(a,b,g){if((d=a.apply(b||f,g))!==undefined){if(typeof d=="object"){if(d.returnValue!==undefined){c=d.returnValue}else{c=d}e=!!d.cancel}else if(d===false){e=true}else{c=d}}};this[a]=function(){var a=Array.prototype.slice.call(arguments,0),h,i,j;c=d=undefined;e=false;for(i=0,j=b.before.length;i<j;i++){h=b.before[i];g(h.fn,h.scope,a);if(e){return c}}if((d=b.originalFn.apply(f,a))!==undefined){c=d}for(i=0,j=b.after.length;i<j;i++){h=b.after[i];g(h.fn,h.scope,a);if(e){return c}}return c}}return b}var a=this,b=a.prototype,c=function(){},d=function(b){if(!b.HasListeners){var c=b.prototype;a.prepareClass(b,this);b.onExtended(function(b){a.prepareClass(b)});if(c.onClassMixedIn){Ext.override(b,{onClassMixedIn:function(a){d.call(this,a);this.callParent(arguments)}})}else{c.onClassMixedIn=function(a){d.call(this,a)}}}};c.prototype={};b.HasListeners=a.HasListeners=c;a.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});a.observeClass=a.observe;Ext.apply(b,{onClassMixedIn:d,beforeMethod:function(a,b,c){e.call(this,a).before.push({fn:b,scope:c})},afterMethod:function(a,b,c){e.call(this,a).after.push({fn:b,scope:c})},removeMethodListener:function(a,b,c){var d=this.getMethodEvent(a),e,f;for(e=0,f=d.before.length;e<f;e++){if(d.before[e].fn==b&&d.before[e].scope==c){Ext.Array.erase(d.before,e,1);return}}for(e=0,f=d.after.length;e<f;e++){if(d.after[e].fn==b&&d.after[e].scope==c){Ext.Array.erase(d.after,e,1);return}}},toggleEventLogging:function(a){Ext.util.Observable[a?"capture":"releaseCapture"](this,function(a){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(a,arguments)}})}})});Ext.define("Ext.chart.Callout",{constructor:function(a){if(a.callouts){a.callouts.styles=Ext.applyIf(a.callouts.styles||{},{color:"#000",font:"11px Helvetica, sans-serif"});this.callouts=Ext.apply(this.callouts||{},a.callouts);this.calloutsArray=[]}},renderCallouts:function(){if(!this.callouts){return}var a=this,b=a.items,c=a.chart.animate,d=a.callouts,e=d.styles,f=a.calloutsArray,g=a.chart.store,h=g.getCount(),i=b.length/h,j=[],k,l,m,n,o,p,q,r;for(k=0,l=0;k<h;k++){for(m=0;m<i;m++){o=b[l];p=f[l];q=g.getAt(k);r=d.filter(q);if(!r&&!p){l++;continue}if(!p){f[l]=p=a.onCreateCallout(q,o,k,r,m,l)}for(n in p){if(p[n]&&p[n].setAttributes){p[n].setAttributes(e,true)}}if(!r){for(n in p){if(p[n]){if(p[n].setAttributes){p[n].setAttributes({hidden:true},true)}else if(p[n].setVisible){p[n].setVisible(false)}}}}d.renderer(p,q);a.onPlaceCallout(p,q,o,k,r,c,m,l,j);j.push(p);l++}}this.hideCallouts(l)},onCreateCallout:function(a,b,c,d){var e=this,f=e.calloutsGroup,g=e.callouts,h=g.styles,i=h.width,j=h.height,k=e.chart,l=k.surface,m={lines:false};m.lines=l.add(Ext.apply({},{type:"path",path:"M0,0",stroke:e.getLegendColor()||"#555"},h));if(g.items){m.panel=new Ext.Panel({style:"position: absolute;",width:i,height:j,items:g.items,renderTo:k.el})}return m},hideCallouts:function(a){var b=this.calloutsArray,c=b.length,d,e;while(c-->a){d=b[c];for(e in d){if(d[e]){d[e].hide(true)}}}}});Ext.define("Ext.chart.Navigation",{constructor:function(){this.originalStore=this.store},setZoom:function(a){var b=this,c=b.axes,d=c.items,e,f,g,h=b.chartBBox,i=1/h.width,j=1/h.height,k={x:a.x*i,y:a.y*j,width:a.width*i,height:a.height*j},l,m,n;for(e=0,f=d.length;e<f;e++){g=d[e];l=g.calcEnds();if(g.position=="bottom"||g.position=="top"){m=(l.to-l.from)*k.x+l.from;n=(l.to-l.from)*k.width+m;g.minimum=m;g.maximum=n}else{n=(l.to-l.from)*(1-k.y)+l.from;m=n-(l.to-l.from)*k.height;g.minimum=m;g.maximum=n}}b.redraw(false)},restoreZoom:function(){if(this.originalStore){this.store=this.substore=this.originalStore;this.redraw(true)}}});Ext.define("Ext.chart.Shape",{singleton:true,circle:function(a,b){return a.add(Ext.apply({type:"circle",x:b.x,y:b.y,stroke:null,radius:b.radius},b))},line:function(a,b){return a.add(Ext.apply({type:"rect",x:b.x-b.radius,y:b.y-b.radius,height:2*b.radius,width:2*b.radius/5},b))},square:function(a,b){return a.add(Ext.applyIf({type:"rect",x:b.x-b.radius,y:b.y-b.radius,height:2*b.radius,width:2*b.radius,radius:null},b))},triangle:function(a,b){b.radius*=1.75;return a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x,",",b.y,"m0-",b.radius*.58,"l",b.radius*.5,",",b.radius*.87,"-",b.radius,",0z")},b))},diamond:function(a,b){var c=b.radius;c*=1.5;return a.add(Ext.apply({type:"path",stroke:null,path:["M",b.x,b.y-c,"l",c,c,-c,c,-c,-c,c,-c,"z"]},b))},cross:function(a,b){var c=b.radius;c=c/1.7;return a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x-c,",",b.y,"l",[-c,-c,c,-c,c,c,c,-c,c,c,-c,c,c,c,-c,c,-c,-c,-c,c,-c,-c,"z"])},b))},plus:function(a,b){var c=b.radius/1.3;return a.add(Ext.apply({type:"path",stroke:null,path:"M".concat(b.x-c/2,",",b.y-c/2,"l",[0,-c,c,0,0,c,c,0,0,c,-c,0,0,c,-c,0,0,-c,-c,0,0,-c,"z"])},b))},arrow:function(a,b){var c=b.radius;return a.add(Ext.apply({type:"path",path:"M".concat(b.x-c*.7,",",b.y-c*.4,"l",[c*.6,0,0,-c*.4,c,c*.8,-c,c*.8,0,-c*.4,-c*.6,0],"z")},b))},drop:function(a,b,c,d,e,f){e=e||30;f=f||0;a.add({type:"path",path:["M",b,c,"l",e,0,"A",e*.4,e*.4,0,1,0,b+e*.7,c-e*.7,"z"],fill:"#000",stroke:"none",rotate:{degrees:22.5-f,x:b,y:c}});f=(f+90)*Math.PI/180;a.add({type:"text",x:b+e*Math.sin(f)-10,y:c+e*Math.cos(f)+5,text:d,"font-size":e*12/40,stroke:"none",fill:"#fff"})}});Ext.define("Ext.data.IdGenerator",{isGenerator:true,constructor:function(a){var b=this;Ext.apply(b,a);if(b.id){Ext.data.IdGenerator.all[b.id]=b}},getRecId:function(a){return a.modelName+"-"+a.internalId},statics:{all:{},get:function(a){var b,c,d;if(typeof a=="string"){c=d=a;a=null}else if(a.isGenerator){return a}else{c=a.id||a.type;d=a.type}b=this.all[c];if(!b){b=Ext.create("idgen."+d,a)}return b}}});Ext.define("Ext.data.Operation",{synchronous:true,action:undefined,filters:undefined,sorters:undefined,groupers:undefined,start:undefined,limit:undefined,batch:undefined,callback:undefined,scope:undefined,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(a){Ext.apply(this,a||{})},commitRecords:function(a){var b=this,c,d,e,f,g,h,i;if(!b.actionSkipSyncRe.test(b.action)){e=b.records;if(e&&e.length){if(e.length>1){if(b.action=="update"||e[0].clientIdProperty){c=new Ext.util.MixedCollection;c.addAll(a);for(d=e.length;d--;){g=e[d];f=c.findBy(b.matchClientRec,g);g.copyFrom(f)}}else{for(h=0,i=e.length;h<i;++h){g=e[h];f=a[h];if(g&&f){b.updateRecord(g,f)}}}}else{this.updateRecord(e[0],a[0])}if(b.actionCommitRecordsRe.test(b.action)){for(d=e.length;d--;){e[d].commit()}}}}},updateRecord:function(a,b){if(b&&(a.phantom||a.getId()===b.getId())){a.copyFrom(b)}},matchClientRec:function(a){var b=this,c=b.getId();if(c&&a.getId()===c){return true}return a.internalId===b.internalId},setStarted:function(){this.started=true;this.running=true},setCompleted:function(){this.complete=true;this.running=false},setSuccessful:function(){this.success=true},setException:function(a){this.exception=true;this.success=false;this.running=false;this.error=a},hasException:function(){return this.exception===true},getError:function(){return this.error},getRecords:function(){var a=this.getResultSet();return this.records||(a?a.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===true},isRunning:function(){return this.running===true},isComplete:function(){return this.complete===true},wasSuccessful:function(){return this.isComplete()&&this.success===true},setBatch:function(a){this.batch=a},allowWrite:function(){return this.action!="read"}});Ext.define("Ext.data.validations",{singleton:true,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(a,b){if(arguments.length===1){b=a}return!!b||b===0},length:function(a,b){if(b===undefined||b===null){return false}var c=b.length,d=a.min,e=a.max;if(d&&c<d||e&&c>e){return false}else{return true}},email:function(a,b){return Ext.data.validations.emailRe.test(b)},format:function(a,b){return!!(a.matcher&&a.matcher.test(b))},inclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)!=-1},exclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)==-1}});Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(a){var b=this;if(arguments.length!==1||typeof a==="string"||a.dom||a.tagName||a===document||a.isComponent){b.legacyConstructor.apply(b,arguments);return}Ext.apply(b,a);b.bindings=[];if(!b.target.isComponent){b.target=Ext.get(b.target)}if(b.binding){b.addBinding(b.binding)}else if(a.key){b.addBinding(a)}b.enable()},legacyConstructor:function(a,b,c){var d=this;Ext.apply(d,{target:Ext.get(a),eventName:c||d.eventName,bindings:[]});if(b){d.addBinding(b)}d.enable()},addBinding:function(a){var b=a.key,c=false,d,e,f,g,h;if(Ext.isArray(a)){for(g=0,h=a.length;g<h;g++){this.addBinding(a[g])}return}if(Ext.isString(b)){e=[];f=b.toUpperCase();for(g=0,h=f.length;g<h;++g){e.push(f.charCodeAt(g))}b=e;c=true}if(!Ext.isArray(b)){b=[b]}if(!c){for(g=0,h=b.length;g<h;++g){d=b[g];if(Ext.isString(d)){b[g]=d.toUpperCase().charCodeAt(0)}}}this.bindings.push(Ext.apply({keyCode:b},a))},handleTargetEvent:function(){var a=/input|textarea/i;return function(b){var c=this,d,e,f,g,h;if(this.enabled){d=this.bindings;e=0;f=d.length;b=c.processEvent.apply(c||c.processEventScope,arguments);if(c.ignoreInputFields){g=b.target;h=g.contentEditable;if(a.test(g.tagName)||h===""||h==="true"){return}}if(!b.getKey){return b}for(;e<f;++e){this.processBinding(d[e],b)}}}}(),processEvent:function(a){return a},processBinding:function(a,b){if(this.checkModifiers(a,b)){var c=b.getKey(),d=a.fn||a.handler,e=a.scope||this,f=a.keyCode,g=a.defaultEventAction,h,i,j=new Ext.EventObjectImpl(b);for(h=0,i=f.length;h<i;++h){if(c===f[h]){if(d.call(e,c,b)!==true&&g){j[g]()}break}}}},checkModifiers:function(a,b){var c=["shift","ctrl","alt"],d=0,e=c.length,f,g;for(;d<e;++d){g=c[d];f=a[g];if(!(f===undefined||f===b[g+"Key"])){return false}}return true},on:function(a,b,c){var d,e,f,g;if(Ext.isObject(a)&&!Ext.isArray(a)){d=a.key;e=a.shift;f=a.ctrl;g=a.alt}else{d=a}this.addBinding({key:d,shift:e,ctrl:f,alt:g,fn:b,scope:c})},isEnabled:function(){return this.enabled},enable:function(){var a=this;if(!a.enabled){a.target.on(a.eventName,a.handleTargetEvent,a);a.enabled=true}},disable:function(){var a=this;if(a.enabled){a.target.removeListener(a.eventName,a.handleTargetEvent,a);a.enabled=false}},setDisabled:function(a){if(a){this.disable()}else{this.enable()}},destroy:function(a){var b=this,c=b.target;b.bindings=[];b.disable();if(a===true){if(c.isComponent){c.destroy()}else{c.remove()}}delete b.target}});Ext.define("Ext.util.Memento",function(){function a(a,b,c,d){a[d?d+c:c]=b[c]}function b(a,b,c){delete a[c]}function c(a,b,c,e){var f=e?e+c:c,g=a[f];if(g||a.hasOwnProperty(f)){d(b,c,g)}}function d(a,b,c){if(Ext.isDefined(c)){a[b]=c}else{delete a[b]}}function e(a,b,c,d,e){if(b){if(Ext.isArray(d)){var f,g=d.length;for(f=0;f<g;f++){a(b,c,d[f],e)}}else{a(b,c,d,e)}}}return{data:null,target:null,constructor:function(a,b){if(a){this.target=a;if(b){this.capture(b)}}},capture:function(b,c,d){var f=this;e(a,f.data||(f.data={}),c||f.target,b,d)},remove:function(a){e(b,this.data,null,a)},restore:function(a,b,d,f){e(c,this.data,d||this.target,a,f);if(b!==false){this.remove(a)}},restoreAll:function(a,b){var c=this,e=b||this.target,f=c.data,g;for(g in f){if(f.hasOwnProperty(g)){d(e,g,f[g])}}if(a!==false){delete c.data}}}}());Ext.define("Ext.form.field.VTypes",function(){var a=/^[a-zA-Z_]+$/,b=/^[a-zA-Z0-9_]+$/,c=/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,d=/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(a){return c.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[a-z0-9_\.\-@\+]/i,url:function(a){return d.test(a)},urlText:'This field should be a URL in the format "http:/'+'/www.example.com"',alpha:function(b){return a.test(b)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return b.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}());Ext.define("Ext.Template",{requires:["Ext.dom.Helper","Ext.util.Format"],inheritableStatics:{from:function(a,b){a=Ext.getDom(a);return new this(a.value||a.innerHTML,b||"")}},constructor:function(a){var b=this,c=arguments,d=[],e=0,f=c.length,g;b.initialConfig={};if(f===1&&Ext.isArray(a)){c=a;f=c.length}if(f>1){for(;e<f;e++){g=c[e];if(typeof g=="object"){Ext.apply(b.initialConfig,g);Ext.apply(b,g)}else{d.push(g)}}}else{d.push(a)}b.html=d.join("");if(b.compiled){b.compile()}},isTemplate:true,disableFormats:false,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(a){function g(b,f,g,h){if(g&&c){if(h){h=[a[f]].concat(Ext.functionFactory("return ["+h+"];")())}else{h=[a[f]]}if(g.substr(0,5)=="this."){return e[g.substr(5)].apply(e,h)}else{return d[g].apply(d,h)}}else{return a[f]!==undefined?a[f]:""}}var b=this,c=b.disableFormats!==true,d=Ext.util.Format,e=b,f;if(b.compiled){return b.compiled(a).join("")}f=b.html.replace(b.re,g);return f},applyOut:function(a,b){var c=this;if(c.compiled){b.push.apply(b,c.compiled(a))}else{b.push(c.apply(a))}return b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(a,b){var c=this;c.html=a;c.compiled=null;return b?c.compile():c},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){function fn(a,b,c,d){if(c&&useFormat){d=d?","+d:"";if(c.substr(0,5)!="this."){c="fm."+c+"("}else{c="this."+c.substr(5)+"("}}else{d="";c="(values['"+b+"'] == undefined ? '' : "}return"',"+c+"values['"+b+"']"+d+") ,'"}var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==true,body,bodyReturn;bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn);body="this.compiled = function(values){ return ['"+bodyReturn+"'];};";eval(body);return me},insertFirst:function(a,b,c){return this.doInsert("afterBegin",a,b,c)},insertBefore:function(a,b,c){return this.doInsert("beforeBegin",a,b,c)},insertAfter:function(a,b,c){return this.doInsert("afterEnd",a,b,c)},append:function(a,b,c){return this.doInsert("beforeEnd",a,b,c)},doInsert:function(a,b,c,d){var e=Ext.DomHelper.insertHtml(a,Ext.getDom(b),this.apply(c));return d?Ext.get(e):e},overwrite:function(a,b,c){var d=Ext.DomHelper.overwrite(Ext.getDom(a),this.apply(b));return c?Ext.get(d):d}});Ext.define("Ext.util.ClickRepeater",{extend:"Ext.util.Observable",constructor:function(a,b){var c=this;c.el=Ext.get(a);c.el.unselectable();Ext.apply(c,b);c.callParent();c.addEvents("mousedown","click","mouseup");if(!c.disabled){c.disabled=true;c.enable()}if(c.handler){c.on("click",c.handler,c.scope||c)}},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE&&!(Ext.isStrict&&Ext.isIE9)){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(a){if(a||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){if(this.preventDefault){a.preventDefault()}if(this.stopDefault){a.stopEvent()}},destroy:function(){this.disable(true);Ext.destroy(this.el);this.clearListeners()},handleDblClick:function(a){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.el.blur();if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date;Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a);if(this.accelerate){this.delay=400}a=new Ext.EventObjectImpl(a);this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a])},click:function(a){this.fireEvent("click",this,a);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[a])},easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click()},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent("mouseup",this,a)}});Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(a,b,c){var d=this,e=d.shared;if(!e){e=d.shared=new d(a,c)}e.bind(a);e.setFixedWidth(c||"auto");return e.getSize(b)},destroy:function(){var a=this;Ext.destroy(a.shared);a.shared=null}},constructor:function(a,b){var c=this.measure=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"textmetrics"});this.el=Ext.get(a);c.position("absolute");c.setLeftTop(-1e3,-1e3);c.hide();if(b){c.setWidth(b)}},getSize:function(a){var b=this.measure,c;b.update(a);c=b.getSize();b.update("");return c},bind:function(a){var b=this;b.el=Ext.get(a);b.measure.setStyle(b.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){this.measure.dom.style.width="auto";return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){var a=this;a.measure.remove();delete a.el;delete a.measure}},function(){Ext.Element.addMethods({getTextWidth:function(a,b,c){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(a,this.dom.innerHTML,true)).width,b||0,c||1e6)}})});Ext.define("Ext.form.field.Field",{isFormField:true,disabled:false,submitValue:true,validateOnChange:true,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange");this.initValue()},initValue:function(){var a=this;a.value=a.transformOriginalValue(a.value);a.originalValue=a.lastValue=a.value;a.suspendCheckChange++;a.setValue(a.value);a.suspendCheckChange--},transformOriginalValue:function(a){return a},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(a){var b=this;b.value=a;b.checkChange();return b},isEqual:function(a,b){return String(a)===String(b)},isEqualAsString:function(a,b){return String(Ext.value(a,""))===String(Ext.value(b,""))},getSubmitData:function(){var a=this,b=null;if(!a.disabled&&a.submitValue&&!a.isFileUpload()){b={};b[a.getName()]=""+a.getValue()}return b},getModelData:function(){var a=this,b=null;if(!a.disabled&&!a.isFileUpload()){b={};b[a.getName()]=a.getValue()}return b},reset:function(){var a=this;a.beforeReset();a.setValue(a.originalValue);a.clearInvalid();delete a.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var a=this,b=a.getValue(),c=a.lastValue;if(!a.isEqual(b,c)&&!a.isDestroyed){a.lastValue=b;a.fireEvent("change",a,b,c);a.onChange(b,c)}}},onChange:function(a,b){if(this.validateOnChange){this.validate()}this.checkDirty()},isDirty:function(){var a=this;return!a.disabled&&!a.isEqual(a.getValue(),a.originalValue)},checkDirty:function(){var a=this,b=a.isDirty();if(b!==a.wasDirty){a.fireEvent("dirtychange",a,b);a.onDirtyChange(b);a.wasDirty=b}},onDirtyChange:Ext.emptyFn,getErrors:function(a){return[]},isValid:function(){var a=this;return a.disabled||Ext.isEmpty(a.getErrors())},validate:function(){var a=this,b=a.isValid();if(b!==a.wasValid){a.wasValid=b;a.fireEvent("validitychange",a,b)}return b},batchChanges:function(a){try{this.suspendCheckChange++;a()}catch(b){throw b}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.define("Ext.util.Bindable",{bindStore:function(a,b){var c=this,d=c.store;if(!b&&c.store){c.onUnbindStore(d,b);if(a!==d&&d.autoDestroy){d.destroyStore()}else{c.unbindStoreListeners(d)}}if(a){a=Ext.data.StoreManager.lookup(a);c.bindStoreListeners(a);c.onBindStore(a,b)}c.store=a||null;return c},getStore:function(){return this.store},unbindStoreListeners:function(a){var b=this.storeListeners;if(b){a.un(b)}},bindStoreListeners:function(a){var b=this,c=Ext.apply({},b.getStoreListeners());if(!c.scope){c.scope=b}b.storeListeners=c;a.on(c)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn});Ext.define("Ext.draw.Color",{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:.2,constructor:function(a,b,c){var d=this,e=Ext.Number.constrain;d.r=e(a,0,255);d.g=e(b,0,255);d.b=e(c,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){var a=this;return[a.r,a.g,a.b]},getHSL:function(){var a=this,b=a.r/255,c=a.g/255,d=a.b/255,e=Math.max(b,c,d),f=Math.min(b,c,d),g=e-f,h,i=0,j=.5*(e+f);if(f!=e){i=j<.5?g/(e+f):g/(2-e-f);if(b==e){h=60*(c-d)/g}else if(c==e){h=120+60*(d-b)/g}else{h=240+60*(b-c)/g}if(h<0){h+=360}if(h>=360){h-=360}}return[h,i,j]},getLighter:function(a){var b=this.getHSL();a=a||this.lightnessFactor;b[2]=Ext.Number.constrain(b[2]+a,0,1);return this.fromHSL(b[0],b[1],b[2])},getDarker:function(a){a=a||this.lightnessFactor;return this.getLighter(-a)},toString:function(){var a=this,b=Math.round,c=b(a.r).toString(16),d=b(a.g).toString(16),e=b(a.b).toString(16);c=c.length==1?"0"+c:c;d=d.length==1?"0"+d:d;e=e.length==1?"0"+e:e;return["#",c,d,e].join("")},toHex:function(a){if(Ext.isArray(a)){a=a[0]}if(!Ext.isString(a)){return""}if(a.substr(0,1)==="#"){return a}var b=this.colorToHexRe.exec(a),c,d,e,f;if(Ext.isArray(b)){c=parseInt(b[2],10);d=parseInt(b[3],10);e=parseInt(b[4],10);f=e|d<<8|c<<16;return b[1]+"#"+("000000"+f.toString(16)).slice(-6)}else{return a}},fromString:function(a){var b,c,d,e,f=parseInt;if((a.length==4||a.length==7)&&a.substr(0,1)==="#"){b=a.match(this.hexRe);if(b){c=f(b[1],16)>>0;d=f(b[2],16)>>0;e=f(b[3],16)>>0;if(a.length==4){c+=c*16;d+=d*16;e+=e*16}}}else{b=a.match(this.rgbRe);if(b){c=b[1];d=b[2];e=b[3]}}return typeof c=="undefined"?undefined:new Ext.draw.Color(c,d,e)},getGrayscale:function(){return this.r*.3+this.g*.59+this.b*.11},fromHSL:function(a,b,c){var d,e,f,g,h=[],i=Math.abs,j=Math.floor;if(b==0||a==null){h=[c,c,c]}else{a/=60;d=b*(1-i(2*c-1));e=d*(1-i(a-2*j(a/2)-1));f=c-d/2;switch(j(a)){case 0:h=[d,e,0];break;case 1:h=[e,d,0];break;case 2:h=[0,d,e];break;case 3:h=[0,e,d];break;case 4:h=[e,0,d];break;case 5:h=[d,0,e];break}h=[h[0]+f,h[1]+f,h[2]+f]}return new Ext.draw.Color(h[0]*255,h[1]*255,h[2]*255)}},function(){var a=this.prototype;this.addStatics({fromHSL:function(){return a.fromHSL.apply(a,arguments)},fromString:function(){return a.fromString.apply(a,arguments)},toHex:function(){return a.toHex.apply(a,arguments)}})});Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",primaryKey:"id",defaultReaderType:"json",isAssociation:true,initialConfig:null,statics:{AUTO_ID:1e3,create:function(a){if(Ext.isString(a)){a={type:a}}switch(a.type){case"belongsTo":return new Ext.data.association.BelongsTo(a);case"hasMany":return new Ext.data.association.HasMany(a);case"hasOne":return new Ext.data.association.HasOne(a);default:Ext.Error.raise('Unknown Association type: "'+a.type+'"')}return a}},constructor:function(a){Ext.apply(this,a);var b=this,c=Ext.ModelManager.types,d=a.ownerModel,e=a.associatedModel,f=c[d],g=c[e];b.initialConfig=a;if(f===undefined){Ext.Error.raise("The configured ownerModel was not valid (you tried "+d+")")}if(g===undefined){Ext.Error.raise("The configured associatedModel was not valid (you tried "+e+")")}b.ownerModel=f;b.associatedModel=g;Ext.applyIf(b,{ownerName:d,associatedName:e});b.associationId="association"+ ++b.statics().AUTO_ID},getReader:function(){var a=this,b=a.reader,c=a.associatedModel;if(b){if(Ext.isString(b)){b={type:b}}if(b.isReader){b.setModel(c)}else{Ext.applyIf(b,{model:c,type:a.defaultReaderType})}a.reader=Ext.createByAlias("reader."+b.type,b)}return a.reader||null}});Ext.define("Ext.data.SortTypes",{singleton:true,none:function(a){return a},stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){if(!a){return 0}if(Ext.isDate(a)){return a.getTime()}return Date.parse(String(a))},asFloat:function(a){var b=parseFloat(String(a).replace(/,/g,""));return isNaN(b)?0:b},asInt:function(a){var b=parseInt(String(a).replace(/,/g,""),10);return isNaN(b)?0:b}});Ext.define("Ext.draw.Draw",{singleton:true,requires:["Ext.draw.Color"],pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(a,b){b=String(b).toLowerCase();return b=="object"&&a===Object(a)||b=="undefined"&&typeof a==b||b=="null"&&a===null||b=="array"&&Array.isArray&&Array.isArray(a)||Object.prototype.toString.call(a).toLowerCase().slice(8,-1)==b},ellipsePath:function(a){var b=a.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",b.x,b.y-b.ry,b.rx,b.ry,b.y+b.ry)},rectPath:function(a){var b=a.attr;if(b.radius){return Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",b.x+b.radius,b.y,b.width-b.radius*2,b.radius,-b.radius,b.height-b.radius*2,b.radius*2-b.width,b.radius*2-b.height)}else{return Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",b.x,b.y,b.width+b.x,b.height+b.y)}},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(a){return a.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(a){if(!a){return null}var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[],d=this;if(d.is(a,"array")&&d.is(a[0],"array")){c=d.pathClone(a)}if(!c.length){String(a).replace(d.pathCommandRE,function(a,e,f){var g=[],h=e.toLowerCase();f.replace(d.pathValuesRE,function(a,b){b&&g.push(+b)});if(h=="m"&&g.length>2){c.push([e].concat(Ext.Array.splice(g,0,2)));h="l";e=e=="m"?"l":"L"}while(g.length>=b[h]){c.push([e].concat(Ext.Array.splice(g,0,b[h])));if(!b[h]){break}}})}c.toString=d.path2string;return c},mapPath:function(a,b){if(!b){return a}var c,d,e,f,g,h,i;a=this.path2curve(a);for(e=0,f=a.length;e<f;e++){i=a[e];for(g=1,h=i.length;g<h-1;g+=2){c=b.x(i[g],i[g+1]);d=b.y(i[g],i[g+1]);i[g]=c;i[g+1]=d}}return a},pathClone:function(a){var b=[],c,d,e,f;if(!this.is(a,"array")||!this.is(a&&a[0],"array")){a=this.parsePathString(a)}for(e=0,f=a.length;e<f;e++){b[e]=[];for(c=0,d=a[e].length;c<d;c++){b[e][c]=a[e][c]}}b.toString=this.path2string;return b},pathToAbsolute:function(a){if(!this.is(a,"array")||!this.is(a&&a[0],"array")){a=this.parsePathString(a)}var b=[],c=0,d=0,e=0,f=0,g=0,h=a.length,i,j,k,l;if(h&&a[0][0]=="M"){c=+a[0][1];d=+a[0][2];e=c;f=d;g++;b[0]=["M",c,d]}for(;g<h;g++){i=b[g]=[];j=a[g];if(j[0]!=j[0].toUpperCase()){i[0]=j[0].toUpperCase();switch(i[0]){case"A":i[1]=j[1];i[2]=j[2];i[3]=j[3];i[4]=j[4];i[5]=j[5];i[6]=+(j[6]+c);i[7]=+(j[7]+d);break;case"V":i[1]=+j[1]+d;break;case"H":i[1]=+j[1]+c;break;case"M":e=+j[1]+c;f=+j[2]+d;default:k=1;l=j.length;for(;k<l;k++){i[k]=+j[k]+(k%2?c:d)}}}else{k=0;l=j.length;for(;k<l;k++){b[g][k]=j[k]}}switch(i[0]){case"Z":c=e;d=f;break;case"H":c=i[1];break;case"V":d=i[1];break;case"M":j=b[g];l=j.length;e=j[l-2];f=j[l-1];default:j=b[g];l=j.length;c=j[l-2];d=j[l-1]}}b.toString=this.path2string;return b},pathToRelative:function(a){if(!this.is(a,"array")||!this.is(a&&a[0],"array")){a=this.parsePathString(a)}var b=[],c=0,d=0,e=0,f=0,g=0,h,i,j,k,l,m,n,o,p;if(a[0][0]=="M"){c=a[0][1];d=a[0][2];e=c;f=d;g++;b.push(["M",c,d])}for(j=g,n=a.length;j<n;j++){h=b[j]=[];i=a[j];if(i[0]!=i[0].toLowerCase()){h[0]=i[0].toLowerCase();switch(h[0]){case"a":h[1]=i[1];h[2]=i[2];h[3]=i[3];h[4]=i[4];h[5]=i[5];h[6]=+(i[6]-c).toFixed(3);h[7]=+(i[7]-d).toFixed(3);break;case"v":h[1]=+(i[1]-d).toFixed(3);break;case"m":e=i[1];f=i[2];default:for(k=1,o=i.length;k<o;k++){h[k]=+(i[k]-(k%2?c:d)).toFixed(3)}}}else{h=b[j]=[];if(i[0]=="m"){e=i[1]+c;f=i[2]+d}for(l=0,p=i.length;l<p;l++){b[j][l]=i[l]}}m=b[j].length;switch(b[j][0]){case"z":c=e;d=f;break;case"h":c+=+b[j][m-1];break;case"v":d+=+b[j][m-1];break;default:c+=+b[j][m-2];d+=+b[j][m-1]}}b.toString=this.path2string;return b},path2curve:function(a){var b=this,c=b.pathToAbsolute(a),d=c.length,e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f,g,h,i;for(f=0;f<d;f++){c[f]=b.command2curve(c[f],e);if(c[f].length>7){c[f].shift();i=c[f];while(i.length){Ext.Array.splice(c,f++,0,["C"].concat(Ext.Array.splice(i,0,6)))}Ext.Array.erase(c,f,1);d=c.length;f--}g=c[f];h=g.length;e.x=g[h-2];e.y=g[h-1];e.bx=parseFloat(g[h-4])||e.x;e.by=parseFloat(g[h-3])||e.y}return c},interpolatePaths:function(a,b){var c=this,d=c.pathToAbsolute(a),e=c.pathToAbsolute(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=function(a,b){if(a[b].length>7){a[b].shift();var c=a[b];while(c.length){Ext.Array.splice(a,b++,0,["C"].concat(Ext.Array.splice(c,0,6)))}Ext.Array.erase(a,b,1);k=Math.max(d.length,e.length||0)}},i=function(a,b,c,f,g){if(a&&b&&a[g][0]=="M"&&b[g][0]!="M"){Ext.Array.splice(b,g,0,["M",f.x,f.y]);c.bx=0;c.by=0;c.x=a[g][1];c.y=a[g][2];k=Math.max(d.length,e.length||0)}},j,k,l,m,n,o;for(j=0,k=Math.max(d.length,e.length||0);j<k;j++){d[j]=c.command2curve(d[j],f);h(d,j);e[j]=c.command2curve(e[j],g);h(e,j);i(d,e,f,g,j);i(e,d,g,f,j);l=d[j];m=e[j];n=l.length;o=m.length;f.x=l[n-2];f.y=l[n-1];f.bx=parseFloat(l[n-4])||f.x;f.by=parseFloat(l[n-3])||f.y;g.bx=parseFloat(m[o-4])||g.x;g.by=parseFloat(m[o-3])||g.y;g.x=m[o-2];g.y=m[o-1]}return[d,e]},command2curve:function(a,b){var c=this;if(!a){return["C",b.x,b.y,b.x,b.y,b.x,b.y]}if(a[0]!="T"&&a[0]!="Q"){b.qx=b.qy=null}switch(a[0]){case"M":b.X=a[1];b.Y=a[2];break;case"A":a=["C"].concat(c.arc2curve.apply(c,[b.x,b.y].concat(a.slice(1))));break;case"S":a=["C",b.x+(b.x-(b.bx||b.x)),b.y+(b.y-(b.by||b.y))].concat(a.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x));b.qy=b.y+(b.y-(b.qy||b.y));a=["C"].concat(c.quadratic2curve(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(c.quadratic2curve(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"].concat(b.x,b.y,a[1],a[2],a[1],a[2]);break;case"H":a=["C"].concat(b.x,b.y,a[1],b.y,a[1],b.y);break;case"V":a=["C"].concat(b.x,b.y,b.x,a[1],b.x,a[1]);break;case"Z":a=["C"].concat(b.x,b.y,b.X,b.Y,b.X,b.Y);break}return a},quadratic2curve:function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},rotate:function(a,b,c){var d=Math.cos(c),e=Math.sin(c),f=a*d-b*e,g=a*e+b*d;return{x:f,y:g}},arc2curve:function(a,b,c,d,e,f,g,h,i,j){var k=this,l=Math.PI,m=k.radian,n=l*120/180,o=m*(+e||0),p=[],q=Math,r=q.cos,s=q.sin,t=q.sqrt,u=q.abs,v=q.asin,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$;if(!j){w=k.rotate(a,b,-o);a=w.x;b=w.y;w=k.rotate(h,i,-o);h=w.x;i=w.y;x=r(m*e);y=s(m*e);z=(a-h)/2;A=(b-i)/2;B=z*z/(c*c)+A*A/(d*d);if(B>1){B=t(B);c=B*c;d=B*d}C=c*c;D=d*d;E=(f==g?-1:1)*t(u((C*D-C*A*A-D*z*z)/(C*A*A+D*z*z)));F=E*c*A/d+(a+h)/2;G=E*-d*z/c+(b+i)/2;H=v(((b-G)/d).toFixed(7));I=v(((i-G)/d).toFixed(7));H=a<F?l-H:H;I=h<F?l-I:I;if(H<0){H=l*2+H}if(I<0){I=l*2+I}if(g&&H>I){H=H-l*2}if(!g&&I>H){I=I-l*2}}else{H=j[0];I=j[1];F=j[2];G=j[3]}J=I-H;if(u(J)>n){Y=I;Z=h;$=i;I=H+n*(g&&I>H?1:-1);h=F+c*r(I);i=G+d*s(I);p=k.arc2curve(h,i,c,d,e,0,g,Z,$,[I,Y,F,G])}J=I-H;K=r(H);L=s(H);M=r(I);N=s(I);O=q.tan(J/4);P=4/3*c*O;Q=4/3*d*O;R=[a,b];S=[a+P*L,b-Q*K];T=[h+P*N,i-Q*M];U=[h,i];S[0]=2*R[0]-S[0];S[1]=2*R[1]-S[1];if(j){return[S,T,U].concat(p)}else{p=[S,T,U].concat(p).join().split(",");V=[];X=p.length;for(W=0;W<X;W++){V[W]=W%2?k.rotate(p[W-1],p[W],o).y:k.rotate(p[W],p[W+1],o).x}return V}},rotateAndTranslatePath:function(a){var b=a.rotation.degrees,c=a.rotation.x,d=a.rotation.y,e=a.translation.x,f=a.translation.y,g,h,i,j,k,l=[];if(!b&&!e&&!f){return this.pathToAbsolute(a.attr.path)}e=e||0;f=f||0;g=this.pathToAbsolute(a.attr.path);for(h=g.length;h--;){i=l[h]=g[h].slice();if(i[0]=="A"){j=this.rotatePoint(i[6],i[7],b,c,d);i[6]=j.x+e;i[7]=j.y+f}else{k=1;while(i[k+1]!=null){j=this.rotatePoint(i[k],i[k+1],b,c,d);i[k]=j.x+e;i[k+1]=j.y+f;k+=2}}}return l},rotatePoint:function(a,b,c,d,e){if(!c){return{x:a,y:b}}d=d||0;e=e||0;a=a-d;b=b-e;c=c*this.radian;var f=Math.cos(c),g=Math.sin(c);return{x:a*f-b*g+d,y:a*g+b*f+e}},pathDimensions:function(a){if(!a||!(a+"")){return{x:0,y:0,width:0,height:0}}a=this.path2curve(a);var b=0,c=0,d=[],e=[],f=0,g=a.length,h,i,j,k;for(;f<g;f++){h=a[f];if(h[0]=="M"){b=h[1];c=h[2];d.push(b);e.push(c)}else{k=this.curveDim(b,c,h[1],h[2],h[3],h[4],h[5],h[6]);d=d.concat(k.min.x,k.max.x);e=e.concat(k.min.y,k.max.y);b=h[5];c=h[6]}}i=Math.min.apply(0,d);j=Math.min.apply(0,e);return{x:i,y:j,path:a,width:Math.max.apply(0,d)-i,height:Math.max.apply(0,e)-j}},intersectInside:function(a,b,c){return(c[0]-b[0])*(a[1]-b[1])>(c[1]-b[1])*(a[0]-b[0])},intersectIntersection:function(a,b,c,d){var e=[],f=c[0]-d[0],g=c[1]-d[1],h=a[0]-b[0],i=a[1]-b[1],j=c[0]*d[1]-c[1]*d[0],k=a[0]*b[1]-a[1]*b[0],l=1/(f*i-g*h);e[0]=(j*h-k*f)*l;e[1]=(j*i-k*g)*l;return e},intersect:function(a,b){var c=this,d=0,e=b.length,f=b[e-1],g=a,h,i,j,k,l,m,n;for(;d<e;++d){h=b[d];m=g;g=[];i=m[m.length-1];n=0;l=m.length;for(;n<l;n++){j=m[n];if(c.intersectInside(j,f,h)){if(!c.intersectInside(i,f,h)){g.push(c.intersectIntersection(i,j,f,h))}g.push(j)}else if(c.intersectInside(i,f,h)){g.push(c.intersectIntersection(i,j,f,h))}i=j}f=h}return g},bezier:function(a,b,c,d,e){if(e===0){return a}else if(e===1){return d}var f=1-e,g=f*f*f,h=e/f;return g*(a+h*(3*b+h*(3*c+d*h)))},bezierDim:function(a,b,c,d){var e=[],f,g,h,i,j,k,l,m,n,o;if(a+3*c==d+3*b){f=a-b;f/=2*(a-b-b+c);if(f<1&&f>0){e.push(f)}}else{g=a-3*b+3*c-d;h=2*(a-b-b+c);i=a-b;j=h*h-4*g*i;k=g+g;if(j===0){f=h/k;if(f<1&&f>0){e.push(f)}}else if(j>0){l=Math.sqrt(j);f=(l+h)/k;if(f<1&&f>0){e.push(f)}f=(h-l)/k;if(f<1&&f>0){e.push(f)}}}m=Math.min(a,d);n=Math.max(a,d);for(o=0;o<e.length;o++){m=Math.min(m,this.bezier(a,b,c,d,e[o]));n=Math.max(n,this.bezier(a,b,c,d,e[o]))}return[m,n]},curveDim:function(a,b,c,d,e,f,g,h){var i=this.bezierDim(a,c,e,g),j=this.bezierDim(b,d,f,h);return{min:{x:i[0],y:j[0]},max:{x:i[1],y:j[1]}}},getAnchors:function(a,b,c,d,e,f,g){g=g||4;var h=Math,i=h.PI,j=i/2,k=h.abs,l=h.sin,m=h.cos,n=h.atan,o,p,q,r,s,t,u,v,w;o=(c-a)/g;p=(e-c)/g;if(d>=b&&d>=f||d<=b&&d<=f){q=r=j}else{q=n((c-a)/k(d-b));if(b<d){q=i-q}r=n((e-c)/k(d-f));if(f<d){r=i-r}}w=j-(q+r)%(i*2)/2;if(w>j){w-=i}q+=w;r+=w;s=c-o*l(q);t=d+o*m(q);u=c+p*l(r);v=d+p*m(r);if(d>b&&t<b||d<b&&t>b){s+=k(b-t)*(s-c)/(t-d);t=b}if(d>f&&v<f||d<f&&v>f){u-=k(f-v)*(u-c)/(v-d);v=f}return{x1:s,y1:t,x2:u,y2:v}},smooth:function(a,b){var c=this.path2curve(a),d=[c[0]],e=c[0][1],f=c[0][2],g,h,i=1,j=c.length,k=1,l=e,m=f,n=0,o=0,p,q,r,s,t,u,v;for(;i<j;i++){p=c[i];q=p.length;r=c[i-1];s=r.length;t=c[i+1];u=t&&t.length;if(p[0]=="M"){l=p[1];m=p[2];g=i+1;while(c[g][0]!="C"){g++}n=c[g][5];o=c[g][6];d.push(["M",l,m]);k=d.length;e=l;f=m;continue}if(p[q-2]==l&&p[q-1]==m&&(!t||t[0]=="M")){v=d[k].length;h=this.getAnchors(r[s-2],r[s-1],l,m,d[k][v-2],d[k][v-1],b);d[k][1]=h.x2;d[k][2]=h.y2}else if(!t||t[0]=="M"){h={x1:p[q-2],y1:p[q-1]}}else{h=this.getAnchors(r[s-2],r[s-1],p[q-2],p[q-1],t[u-2],t[u-1],b)}d.push(["C",e,f,h.x1,h.y1,p[q-2],p[q-1]]);e=h.x2;f=h.y2}return d},findDotAtSegment:function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:Math.pow(j,3)*a+Math.pow(j,2)*3*i*c+j*3*i*i*e+Math.pow(i,3)*g,y:Math.pow(j,3)*b+Math.pow(j,2)*3*i*d+j*3*i*i*f+Math.pow(i,3)*h}},snapEnds:function(a,b,c,d){if(Ext.isDate(a)){return this.snapEndsByDate(a,b,c)}var e=(b-a)/c,f=Math.floor(Math.log(e)/Math.LN10)+1,g=Math.pow(10,f),h,i=Math.round(e%g*Math.pow(10,2-f)),j=[[0,15],[20,4],[30,2],[40,4],[50,9],[60,4],[70,2],[80,4],[100,15]],k=0,l,m,n,o,p=1e9,q=j.length;h=a=Math.floor(a/g)*g;if(d){for(n=0;n<q;n++){l=j[n][0];m=l-i<0?1e6:(l-i)/j[n][1];if(m<p){o=l;p=m}}e=Math.floor(e*Math.pow(10,-f))*Math.pow(10,f)+o*Math.pow(10,f-2);while(h<b){h+=e;k++}b=+h.toFixed(10)}else{k=c}return{from:a,to:b,power:f,step:e,steps:k}},snapEndsByDate:function(a,b,c,d){var e=false,f=[[Ext.Date.MILLI,[1,2,3,5,10,20,30,50,100,200,300,500]],[Ext.Date.SECOND,[1,2,3,5,10,15,30]],[Ext.Date.MINUTE,[1,2,3,5,10,20,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,3,7,14]],[Ext.Date.MONTH,[1,2,3,4,6]]],g=f.length,h=false,i,j,k,l;for(l=0;l<g;l++){i=f[l];if(!h){for(j=0;j<i[1].length;j++){if(b<Ext.Date.add(a,i[0],i[1][j]*c)){e=[i[0],i[1][j]];h=true;break}}}}if(!e){k=this.snapEnds(a.getFullYear(),b.getFullYear()+1,c,d);e=[Date.YEAR,Math.round(k.step)]}return this.snapEndsByDateAndStep(a,b,e,d)},snapEndsByDateAndStep:function(a,b,c,d){var e=[a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()],f=0,g,h;if(d){g=a}else{switch(c[0]){case Ext.Date.MILLI:g=new Date(e[0],e[1],e[2],e[3],e[4],e[5],Math.floor(e[6]/c[1])*c[1]);break;case Ext.Date.SECOND:g=new Date(e[0],e[1],e[2],e[3],e[4],Math.floor(e[5]/c[1])*c[1],0);break;case Ext.Date.MINUTE:g=new Date(e[0],e[1],e[2],e[3],Math.floor(e[4]/c[1])*c[1],0,0);break;case Ext.Date.HOUR:g=new Date(e[0],e[1],e[2],Math.floor(e[3]/c[1])*c[1],0,0,0);break;case Ext.Date.DAY:g=new Date(e[0],e[1],Math.floor(e[2]-1/c[1])*c[1]+1,0,0,0,0);break;case Ext.Date.MONTH:g=new Date(e[0],Math.floor(e[1]/c[1])*c[1],1,0,0,0,0);break;default:g=new Date(Math.floor(e[0]/c[1])*c[1],0,1,0,0,0,0);break}}h=g;while(h<b){h=Ext.Date.add(h,c[0],c[1]);f++}if(d){h=b}return{from:+g,to:+h,step:(h-g)/f,steps:f}},sorter:function(a,b){return a.offset-b.offset},rad:function(a){return a%360*Math.PI/180},degrees:function(a){return a*180/Math.PI%360},withinBox:function(a,b,c){c=c||{};return a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},parseGradient:function(a){var b=this,c=a.type||"linear",d=a.angle||0,e=b.radian,f=a.stops,g=[],h,i,j,k;if(c=="linear"){i=[0,0,Math.cos(d*e),Math.sin(d*e)];j=1/(Math.max(Math.abs(i[2]),Math.abs(i[3]))||1);i[2]*=j;i[3]*=j;if(i[2]<0){i[0]=-i[2];i[2]=0}if(i[3]<0){i[1]=-i[3];i[3]=0}}for(h in f){if(f.hasOwnProperty(h)&&b.stopsRE.test(h)){k={offset:parseInt(h,10),color:Ext.draw.Color.toHex(f[h].color)||"#ffffff",opacity:f[h].opacity||1};g.push(k)}}Ext.Array.sort(g,b.sorter);if(c=="linear"){return{id:a.id,type:c,vector:i,stops:g}}else{return{id:a.id,type:c,centerX:a.centerX,centerY:a.centerY,focalX:a.focalX,focalY:a.focalY,radius:a.radius,vector:i,stops:g}}}});Ext.define("Ext.util.Offset",{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=a!=null&&!isNaN(a)?a:0;this.y=b!=null&&!isNaN(b)?b:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){if(!(a instanceof this.statics())){Ext.Error.raise("Offset must be an instance of Ext.util.Offset")}return this.x==a.x&&this.y==a.y},round:function(a){if(!isNaN(a)){var b=Math.pow(10,a);this.x=Math.round(this.x*b)/b;this.y=Math.round(this.y*b)/b}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}});Ext.define("Ext.dd.DragTracker",{uses:["Ext.util.Region"],mixins:{observable:"Ext.util.Observable"},active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(a){var b=this;Ext.apply(b,a);b.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag");b.dragRegion=new Ext.util.Region(0,0,0,0);if(b.el){b.initEl(b.el)}b.mixins.observable.constructor.call(b);if(b.disabled){b.disable()}},initEl:function(a){var b=this;b.el=Ext.get(a);b.handle=Ext.get(b.delegate);b.delegate=b.handle?undefined:b.delegate;if(!b.handle){b.handle=b.el}b.mon(b.handle,{mousedown:b.onMouseDown,delegate:b.delegate,scope:b});if(b.trackOver||b.overCls){b.mon(b.handle,{mouseover:b.onMouseOver,mouseout:b.onMouseOut,delegate:b.delegate,scope:b})}},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){this.clearListeners();delete this.el},onMouseOver:function(a,b){var c=this;if(!c.disabled){if(Ext.EventManager.contains(a)||c.delegate){c.mouseIsOut=false;if(c.overCls){c.el.addCls(c.overCls)}c.fireEvent("mouseover",c,a,c.delegate?a.getTarget(c.delegate,b):c.handle)}}},onMouseOut:function(a){var b=this;if(b.mouseIsDown){b.mouseIsOut=true}else{if(b.overCls){b.el.removeCls(b.overCls)}b.fireEvent("mouseout",b,a)}},onMouseDown:function(a,b){var c=this,d;if(c.disabled||a.dragTracked){return}c.dragTarget=c.delegate?b:c.handle.dom;c.startXY=c.lastXY=a.getXY();c.startRegion=Ext.fly(c.dragTarget).getRegion();if(c.fireEvent("mousedown",c,a)===false||c.fireEvent("beforedragstart",c,a)===false||c.onBeforeStart(a)===false){return}c.mouseIsDown=true;a.dragTracked=true;d=c.el.dom;if(Ext.isIE&&d.setCapture){d.setCapture()}if(c.preventDefault!==false){a.preventDefault()}Ext.getDoc().on({scope:c,mouseup:c.onMouseUp,mousemove:c.onMouseMove,selectstart:c.stopSelect});if(c.autoStart){c.timer=Ext.defer(c.triggerStart,c.autoStart===true?1e3:c.autoStart,c,[a])}},onMouseMove:function(a,b){var c=this,d=a.getXY(),e=c.startXY;a.preventDefault();c.lastXY=d;if(!c.active){if(Math.max(Math.abs(e[0]-d[0]),Math.abs(e[1]-d[1]))>c.tolerance){c.triggerStart(a)}else{return}}if(c.fireEvent("mousemove",c,a)===false){c.onMouseUp(a)}else{c.onDrag(a);c.fireEvent("drag",c,a)}},onMouseUp:function(a){var b=this;b.mouseIsDown=false;if(b.mouseIsOut){b.mouseIsOut=false;b.onMouseOut(a)}a.preventDefault();if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}b.fireEvent("mouseup",b,a);b.endDrag(a)},endDrag:function(a){var b=this,c=Ext.getDoc(),d=b.active;c.un("mousemove",b.onMouseMove,b);c.un("mouseup",b.onMouseUp,b);c.un("selectstart",b.stopSelect,b);b.clearStart();b.active=false;if(d){b.onEnd(a);b.fireEvent("dragend",b,a)}delete b._constrainRegion;delete Ext.EventObject.dragTracked},triggerStart:function(a){var b=this;b.clearStart();b.active=true;b.onStart(a);b.fireEvent("dragstart",b,a)},clearStart:function(){var a=this.timer;if(a){clearTimeout(a);delete this.timer}},stopSelect:function(a){a.stopEvent();return false},onBeforeStart:function(a){},onStart:function(a){},onDrag:function(a){},onEnd:function(a){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var a=this;if(a.constrainTo){if(a.constrainTo instanceof Ext.util.Region){return a.constrainTo}if(!a._constrainRegion){a._constrainRegion=Ext.fly(a.constrainTo).getViewRegion()}}else{if(!a._constrainRegion){a._constrainRegion=a.getDragCt().getViewRegion()}}return a._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(a){var b=this.getXY(a),c=this.startXY;return[b[0]-c[0],b[1]-c[1]]},constrainModes:{point:function(a,b){var c=a.dragRegion,d=a.getConstrainRegion();if(!d){return b}c.x=c.left=c[0]=c.right=b[0];c.y=c.top=c[1]=c.bottom=b[1];c.constrainTo(d);return[c.left,c.top]},dragTarget:function(a,b){var c=a.startXY,d=a.startRegion.copy(),e=a.getConstrainRegion(),f;if(!e){return b}d.translateBy(b[0]-c[0],b[1]-c[1]);if(d.right>e.right){b[0]+=f=e.right-d.right;d.left+=f}if(d.left<e.left){b[0]+=e.left-d.left}if(d.bottom>e.bottom){b[1]+=f=e.bottom-d.bottom;d.top+=f}if(d.top<e.top){b[1]+=e.top-d.top}return b}}});Ext.define("Ext.fx.CubicBezier",{singleton:true,cubicBezierAtTime:function(a,b,c,d,e,f){function m(a){return((i*a+h)*a+g)*a}function n(a,b){var c=o(a,b);return((l*c+k)*c+j)*c}function o(a,b){var c,d,e,f,j,k;for(e=a,k=0;k<8;k++){f=m(e)-a;if(Math.abs(f)<b){return e}j=(3*i*e+2*h)*e+g;if(Math.abs(j)<1e-6){break}e=e-f/j}c=0;d=1;e=a;if(e<c){return c}if(e>d){return d}while(c<d){f=m(e);if(Math.abs(f-a)<b){return e}if(a>f){c=e}else{d=e}e=(d-c)/2+c}return e}var g=3*b,h=3*(d-b)-g,i=1-g-h,j=3*c,k=3*(e-c)-j,l=1-j-k;return n(a,1/(200*f))},cubicBezier:function(a,b,c,d){var e=function(e){return Ext.fx.CubicBezier.cubicBezierAtTime(e,a,b,c,d,1)};e.toCSS3=function(){return"cubic-bezier("+[a,b,c,d].join(",")+")"};e.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-c,1-d,1-a,1-b)};return e}});Ext.define("Ext.fx.PropertyHandler",{requires:["Ext.draw.Draw"],statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(a,b,c,d,e){c=typeof c=="number"?c:1;var f=this.unitRE,g=f.exec(a),h,i;if(g){a=g[1];i=g[2];if(!this.scrollRE.test(e)&&!i&&this.pixelDefaultsRE.test(e)){i="px"}}a=+a||0;g=f.exec(b);if(g){b=g[1];i=g[2]||i}b=+b||0;h=d!=null?d:a;return{from:a,delta:(b-h)*c,units:i}},get:function(a,b,c,d,e){var f=a.length,g=[],h,i,j,k,l;for(h=0;h<f;h++){if(d){i=d[h][1].from}if(Ext.isArray(a[h][1])&&Ext.isArray(b)){j=[];k=0;l=a[h][1].length;for(;k<l;k++){j.push(this.computeDelta(a[h][1][k],b[k],c,i,e))}g.push([a[h][0],j])}else{g.push([a[h][0],this.computeDelta(a[h][1],b,c,i,e)])}}return g},set:function(a,b){var c=a.length,d=[],e,f,g,h,i;for(e=0;e<c;e++){f=a[e][1];if(Ext.isArray(f)){g=[];i=0;h=f.length;for(;i<h;i++){g.push(f[i].from+f[i].delta*b+(f[i].units||0))}d.push([a[e][0],g])}else{d.push([a[e][0],f.from+f.delta*b+(f.units||0)])}}return d}},stringHandler:{computeDelta:function(a,b,c,d,e){return{from:a,delta:b}},get:function(a,b,c,d,e){var f=a.length,g=[],h,i,j,k,l;for(h=0;h<f;h++){g.push([a[h][0],this.computeDelta(a[h][1],b,c,i,e)])}return g},set:function(a,b){var c=a.length,d=[],e,f,g,h,i;for(e=0;e<c;e++){f=a[e][1];d.push([a[e][0],f.delta])}return d}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(a,b){b=typeof b=="number"?b:1;var c=false,d=[this.hexRE,this.rgbRE,this.hex3RE],e=d.length,f,g,h,i;for(i=0;i<e;i++){h=d[i];g=i%2===0?16:10;f=h.exec(a);if(f&&f.length===4){if(i===2){f[1]+=f[1];f[2]+=f[2];f[3]+=f[3]}c={red:parseInt(f[1],g),green:parseInt(f[2],g),blue:parseInt(f[3],g)};break}}return c||a},computeDelta:function(a,b,c,d){a=this.parseColor(a);b=this.parseColor(b,c);var e=d?d:a,f=typeof e,g=typeof b;if(f=="string"||f=="undefined"||g=="string"||g=="undefined"){return b||e}return{from:a,delta:{red:Math.round((b.red-e.red)*c),green:Math.round((b.green-e.green)*c),blue:Math.round((b.blue-e.blue)*c)}}},get:function(a,b,c,d){var e=a.length,f=[],g,h;for(g=0;g<e;g++){if(d){h=d[g][1].from}f.push([a[g][0],this.computeDelta(a[g][1],b,c,h)])}return f},set:function(a,b){var c=a.length,d=[],e,f,g,h,i;for(e=0;e<c;e++){f=a[e][1];if(f){h=f.from;i=f.delta;f=typeof f=="object"&&"red"in f?"rgb("+f.red+", "+f.green+", "+f.blue+")":f;f=typeof f=="object"&&f.length?f[0]:f;if(typeof f=="undefined"){return[]}g=typeof f=="string"?f:"rgb("+[(h.red+Math.round(i.red*b))%256,(h.green+Math.round(i.green*b))%256,(h.blue+Math.round(i.blue*b))%256].join(",")+")";d.push([a[e][0],g])}}return d}},object:{interpolate:function(a,b){b=typeof b=="number"?b:1;var c={},d;for(d in a){c[d]=parseFloat(a[d])*b}return c},computeDelta:function(a,b,c,d){a=this.interpolate(a);b=this.interpolate(b,c);var e=d?d:a,f={},g;for(g in b){f[g]=b[g]-e[g]}return{from:a,delta:f}},get:function(a,b,c,d){var e=a.length,f=[],g,h;for(g=0;g<e;g++){if(d){h=d[g][1].from}f.push([a[g][0],this.computeDelta(a[g][1],b,c,h)])}return f},set:function(a,b){var c=a.length,d=[],e={},f,g,h,i,j;for(f=0;f<c;f++){i=a[f][1];g=i.from;h=i.delta;for(j in g){e[j]=g[j]+h[j]*b}d.push([a[f][0],e])}return d}},path:{computeDelta:function(a,b,c,d){c=typeof c=="number"?c:1;var e;a=+a||0;b=+b||0;e=d!=null?d:a;return{from:a,delta:(b-e)*c}},forcePath:function(a){if(!Ext.isArray(a)&&!Ext.isArray(a[0])){a=Ext.draw.Draw.parsePathString(a)}return a},get:function(a,b,c,d){var e=this.forcePath(b),f=[],g=a.length,h,i,j,k,l,m,n,o,p;for(j=0;j<g;j++){p=this.forcePath(a[j][1]);k=Ext.draw.Draw.interpolatePaths(p,e);p=k[0];e=k[1];h=p.length;o=[];for(m=0;m<h;m++){k=[p[m][0]];i=p[m].length;for(n=1;n<i;n++){l=d&&d[0][1][m][n].from;k.push(this.computeDelta(p[m][n],e[m][n],c,l))}o.push(k)}f.push([a[j][0],o])}return f},set:function(a,b){var c=a.length,d=[],e,f,g,h,i,j,k,l;for(e=0;e<c;e++){j=a[e][1];h=[];k=j.length;for(f=0;f<k;f++){i=[j[f][0]];l=j[f].length;for(g=1;g<l;g++){i.push(j[f][g].from+j[f][g].delta*b)}h.push(i.join(","))}d.push([a[e][0],h.join(",")])}return d}}}},function(){var a=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],b=a.length,c=0,d;for(;c<b;c++){d=a[c];this[d]=this.color}a=["cursor"];b=a.length;c=0;for(;c<b;c++){d=a[c];this[d]=this.stringHandler}});Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:true,constructor:function(a,b){var c=this;c.panel=a;c.id=c.panel.id+"-ddproxy";Ext.apply(c,b)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var a=this;if(a.ghost){if(a.proxy){a.proxy.remove();delete a.proxy}a.panel.unghost(null,a.moveOnDrag);delete a.ghost}},show:function(){var a=this,b;if(!a.ghost){b=a.panel.getSize();a.panel.el.setVisibilityMode(Ext.Element.DISPLAY);a.ghost=a.panel.ghost();if(a.insertProxy){a.proxy=a.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"});a.proxy.setSize(b)}}},repair:function(a,b,c){this.hide();Ext.callback(b,c||this)},moveProxy:function(a,b){if(this.proxy){a.insertBefore(this.proxy.dom,b)}}});Ext.define("Ext.util.ElementContainer",{childEls:[],constructor:function(){var a=this,b;if(a.hasOwnProperty("childEls")){b=a.childEls;delete a.childEls;a.addChildEls.apply(a,b)}},destroy:function(){var a=this,b=a.getChildEls(),c,d,e,f;for(e=b.length;e--;){d=b[e];if(typeof d!="string"){d=d.name}c=a[d];if(c){a[d]=null;c.remove()}}},addChildEls:function(){var a=this,b=arguments;if(a.hasOwnProperty("childEls")){a.childEls.push.apply(a.childEls,b)}else{a.childEls=a.getChildEls().concat(Array.prototype.slice.call(b))}a.prune(a.childEls,false)},applyChildEls:function(a,b){var c=this,d=c.getChildEls(),e,f,g,h,i;e=(b||c.id)+"-";for(g=d.length;g--;){f=d[g];if(typeof f=="string"){i=a.getById(e+f)}else{if(h=f.select){i=Ext.select(h,true,a.dom)}else if(h=f.selectNode){i=Ext.get(Ext.DomQuery.selectNode(h,a.dom))}else{i=a.getById(f.id||e+f.itemId)}f=f.name}c[f]=i}},getChildEls:function(){var a=this,b;if(a.hasOwnProperty("childEls")){return a.childEls}b=a.self;return b.$childEls||a.getClassChildEls(b)},getClassChildEls:function(a){var b=this,c=a.$childEls,d,e,f,g,h,i,j,k,l,m,n;if(!c){m=a.superclass;if(m){m=m.self;k=[m.$childEls||b.getClassChildEls(m)];n=m.prototype.mixins||{}}else{k=[];n={}}l=a.prototype;i=l.mixins;for(j in i){if(i.hasOwnProperty(j)&&!n.hasOwnProperty(j)){h=i[j].self;k.push(h.$childEls||b.getClassChildEls(h))}}k.push(l.hasOwnProperty("childEls")&&l.childEls);for(e=0,f=k.length;e<f;++e){d=k[e];if(d&&d.length){if(!c){c=d}else{if(!g){g=true;c=c.slice(0)}c.push.apply(c,d)}}}a.$childEls=c=c?b.prune(c,!g):[]}return c},prune:function(a,b){var c=a.length,d={},e;while(c--){e=a[c];if(typeof e!="string"){e=e.name}if(!d[e]){d[e]=1}else{if(b){b=false;a=a.slice(0)}Ext.Array.erase(a,c,1)}}return a},removeChildEls:function(a){var b=this,c=b.getChildEls(),d=b.childEls=[],e,f,g;for(f=0,e=c.length;f<e;++f){g=c[f];if(!a(g)){d.push(g)}}}});Ext.define("Ext.util.Floating",{uses:["Ext.Layer","Ext.window.Window"],focusOnToFront:true,shadow:"sides",constructor:function(a){var b=this;b.el=new Ext.Layer(Ext.apply({hideMode:b.hideMode,hidden:b.hidden,shadow:typeof b.shadow!="undefined"?b.shadow:"sides",shadowOffset:b.shadowOffset,constrain:false,shim:b.shim===false?false:undefined},b.floating),a);b.floating=true;b.registerWithOwnerCt()},registerWithOwnerCt:function(){var a=this;if(a.zIndexParent){a.zIndexParent.unregisterFloatingItem(a)}a.zIndexParent=a.up("[floating]");a.setFloatParent(a.ownerCt);delete a.ownerCt;if(a.zIndexParent){a.zIndexParent.registerFloatingItem(a)}else{Ext.WindowManager.register(a)}},setFloatParent:function(a){var b=this;if(b.floatParent){b.mun(b.floatParent,{hide:b.onFloatParentHide,show:b.onFloatParentShow,scope:b})}b.floatParent=a;if(a){b.mon(b.floatParent,{hide:b.onFloatParentHide,show:b.onFloatParentShow,scope:b})}if((b.constrain||b.constrainHeader)&&!b.constrainTo){b.constrainTo=a?a.getTargetEl():b.container}},onAfterFloatLayout:function(){this.syncShadow()},onFloatParentHide:function(){var a=this;if(a.hideOnParentHide!==false&&a.isVisible()){a.hide();a.showOnParentShow=true}},onFloatParentShow:function(){if(this.showOnParentShow){delete this.showOnParentShow;this.show()}},setZIndex:function(a){var b=this;b.el.setZIndex(a);a+=10;if(b.floatingDescendants){a=Math.floor(b.floatingDescendants.setBase(a)/100)*100+1e4}return a},doConstrain:function(a){var b=this,c=b.getConstrainVector(a),d;if(c){d=b.getPosition(!!b.floatParent);d[0]+=c[0];d[1]+=c[1];b.setPosition(d)}},getConstrainVector:function(a){var b=this;if(b.constrain||b.constrainHeader){a=a||b.floatParent&&b.floatParent.getTargetEl()||b.container||b.el.getScopeParent();return(b.constrainHeader?b.header.el:b.el).getConstrainVector(a)}},alignTo:function(a,b,c){this.setPagePosition(this.el.getAlignToXY(a.el||a,b,c));return this},toFront:function(a){var b=this;if(b.zIndexParent&&b.bringParentToFront!==false){b.zIndexParent.toFront(true)}if(!Ext.isDefined(a)){a=!b.focusOnToFront}if(a){b.preventFocusOnActivate=true}if(b.zIndexManager.bringToFront(b)){if(!a){b.focus(false,true)}}delete b.preventFocusOnActivate;return b},setActive:function(a,b){var c=this;if(a){if(c.el.shadow&&!c.maximized){c.el.enableShadow(true)}if(c.modal&&!c.preventFocusOnActivate){c.focus(false,true)}c.fireEvent("activate",c)}else{if(c.isWindow&&b&&b.isWindow){c.el.disableShadow()}c.fireEvent("deactivate",c)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var a=this,b;if(a.isVisible()){b=a.el.getAlignToXY(a.container,"c-c");a.setPagePosition(b)}else{a.needsCenter=true}return a},onFloatShow:function(){if(this.needsCenter){this.center()}delete this.needsCenter},syncShadow:function(){if(this.floating){this.el.sync(true)}},fitContainer:function(){var a=this,b=a.floatParent,c=b?b.getTargetEl():a.container;a.setSize(c.getViewSize(false));a.setPosition.apply(a,b?[0,0]:c.getXY())}});Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(a,b){this.layout=a;Ext.apply(this,b)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,finishedLayout:Ext.emptyFn,completeLayout:function(a){var b=this,c=a.state.boxPlan,d;if(c&&c.tooNarrow){d=b.handleOverflow(a);if(d){if(d.reservedSpace){b.layout.publishInnerCtSize(a,d.reservedSpace)}}}else{b.clearOverflow()}},onRemove:Ext.emptyFn,getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(a){var b;if(a.isToolbar){b="toolbar"}else if(a.isTabBar){b="tabbar"}else if(a.isMenu){b="menu"}else{b=a.getXType()}return b},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}});Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.util.ClickRepeater","Ext.Element"],alternateClassName:"Ext.layout.boxOverflow.Scroller",mixins:{observable:"Ext.util.Observable"},animateScroll:false,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(a,b){var c=this;c.layout=a;Ext.apply(c,b||{});c.mixins.observable.constructor.call(c);c.addEvents("scroll");c.scrollPosition=0;c.scrollSize=0},getPrefixConfig:function(){var a=this;a.initCSSClasses();return{cls:Ext.layout.container.Box.prototype.innerCls+" "+a.beforeCtCls,cn:{id:a.layout.owner.id+"-before-scroller",cls:a.scrollerCls+" "+a.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){var a=this;return{cls:Ext.layout.container.Box.prototype.innerCls+" "+a.afterCtCls,cn:{id:a.layout.owner.id+"-after-scroller",cls:a.scrollerCls+" "+a.afterScrollerCls,style:"display:none"}}},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var a=this,b=Ext.baseCSSPrefix,c=a.layout,d=c.getNames(),e=d.left,f=d.right,g=a.getOwnerType(c.owner);a.beforeCtCls=a.beforeCtCls||b+"box-scroller-"+e;a.afterCtCls=a.afterCtCls||b+"box-scroller-"+f;a.beforeScrollerCls=a.beforeScrollerCls||b+g+"-scroll-"+e;a.afterScrollerCls=a.afterScrollerCls||b+g+"-scroll-"+f},beginLayout:function(a){var b=this.layout,c=b.getNames();a.innerCtScrollPos=b.innerCt.dom["scroll"+c.leftCap];this.callParent(arguments)},completeLayout:function(a){this.scrollSize=a.props["content"+this.layout.getNames().widthCap];this.callParent(arguments)},finishedLayout:function(a){var b=this,c=b.layout,d=c.getNames(),e=Math.min(b.getMaxScrollPosition(),a.innerCtScrollPos);c.innerCt.dom["scroll"+d.leftCap]=e},handleOverflow:function(a){var b=this,c=b.layout,d=c.getNames(),e="get"+d.widthCap;b.captureChildElements();b.showScrollers();return{reservedSpace:b.beforeCt[e]()+b.afterCt[e]()}},captureChildElements:function(){var a=this,b=a.layout.owner.el,c,d;if(!a.beforeCt){c=a.beforeScroller=b.getById(a.layout.owner.id+"-before-scroller");d=a.afterScroller=b.getById(a.layout.owner.id+"-after-scroller");a.beforeCt=c.up("");a.afterCt=d.up("");a.createWheelListener();c.addClsOnOver(a.beforeScrollerCls+"-hover");d.addClsOnOver(a.afterScrollerCls+"-hover");c.setVisibilityMode(Ext.Element.DISPLAY);d.setVisibilityMode(Ext.Element.DISPLAY);a.beforeRepeater=new Ext.util.ClickRepeater(c,{interval:a.scrollRepeatInterval,handler:a.scrollLeft,scope:a});a.afterRepeater=new Ext.util.ClickRepeater(d,{interval:a.scrollRepeatInterval,handler:a.scrollRight,scope:a})}},createWheelListener:function(){this.layout.innerCt.on({mousewheel:function(a){this.scrollBy(a.getWheelDelta()*this.wheelIncrement*-1,false)},stopEvent:true,scope:this})},clearOverflow:function(){var a=this.layout;this.hideScrollers()},showScrollers:function(){var a=this;a.captureChildElements();a.beforeScroller.show();a.afterScroller.show();a.updateScrollButtons();a.layout.owner.addClsWithUI("scroller")},hideScrollers:function(){var a=this;if(a.beforeScroller!==undefined){a.beforeScroller.hide();a.afterScroller.hide();a.layout.owner.removeClsWithUI("scroller")}},destroy:function(){var a=this;Ext.destroy(a.beforeRepeater,a.afterRepeater,a.beforeScroller,a.afterScroller,a.beforeCt,a.afterCt)},scrollBy:function(a,b){this.scrollTo(this.getScrollPosition()+a,b)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var a=this,b,c,d,e;if(a.beforeScroller===undefined||a.afterScroller===undefined){return}b=a.atExtremeBefore()?"addCls":"removeCls";c=a.atExtremeAfter()?"addCls":"removeCls";d=a.beforeScrollerCls+"-disabled";e=a.afterScrollerCls+"-disabled";a.beforeScroller[b](d);a.afterScroller[c](e);a.scrolling=false},atExtremeBefore:function(){return!this.getScrollPosition()},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var a=this,b=a.layout,c;if(a.hasOwnProperty("scrollPosition")){c=a.scrollPosition}else{c=parseInt(b.innerCt.dom["scroll"+b.getNames().leftCap],10)||0}return c},getMaxScrollPosition:function(){var a=this,b=a.layout,c=b.getNames(),d=a.scrollSize-b.innerCt["get"+c.widthCap]();return d<0?0:d},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(a,b){var c=this,d=c.layout,e=d.getNames(),f=c.getScrollPosition(),g=Ext.Number.constrain(a,0,c.getMaxScrollPosition());if(g!=f&&!c.scrolling){delete c.scrollPosition;if(b===undefined){b=c.animateScroll}d.innerCt.scrollTo(e.left,g,b?c.getScrollAnim():false);if(b){c.scrolling=true}else{c.updateScrollButtons()}c.fireEvent("scroll",c,g,b?c.getScrollAnim():false)}},scrollToItem:function(a,b){var c=this,d=c.layout,e=d.getNames(),f,g,h;a=c.getItem(a);if(a!==undefined){f=c.getItemVisibility(a);if(!f.fullyVisible){g=a.getBox(true,true);h=g[e.x];if(f.hiddenEnd){h-=c.layout.innerCt["get"+e.widthCap]()-g[e.width]}c.scrollTo(h,b)}}},getItemVisibility:function(a){var b=this,c=b.getItem(a).getBox(true,true),d=b.layout,e=d.getNames(),f=c[e.x],g=f+c[e.width],h=b.getScrollPosition(),i=h+d.innerCt["get"+e.widthCap]();return{hiddenStart:f<h,hiddenEnd:g>i,fullyVisible:f>h&&g<i}}});Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9e3},constructor:function(a){var b=this;b.list={};b.zIndexStack=[];b.front=null;if(a){if(a.isContainer){a.on("resize",b._onContainerResize,b);b.zseed=Ext.Number.from(b.rendered?a.getEl().getStyle("zIndex"):undefined,b.getNextZSeed());b.targetEl=a.getTargetEl();b.container=a}else{Ext.EventManager.onWindowResize(b._onContainerResize,b);b.zseed=b.getNextZSeed();b.targetEl=Ext.get(a)}}else{Ext.EventManager.onWindowResize(b._onContainerResize,b);b.zseed=b.getNextZSeed();Ext.onDocumentReady(function(){b.targetEl=Ext.getBody()})}},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(a){this.zseed=a;var b=this.assignZIndices();this._activateLast();return b},assignZIndices:function(){var a=this.zIndexStack,b=a.length,c=0,d=this.zseed,e;for(;c<b;c++){e=a[c];if(e&&!e.hidden){d=e.setZIndex(d)}}this._activateLast();return d},_setActiveChild:function(a,b){var c=this.front;if(a!==c){if(c&&!c.destroying){c.setActive(false,a)}this.front=a;if(a&&a!=b){a.setActive(true);if(a.modal){this._showModalMask(a)}}}},onComponentHide:function(a){a.setActive(false);this._activateLast()},_activateLast:function(){var a=this,b=a.zIndexStack,c=b.length-1,d=a.front,e;a.front=undefined;for(;c>=0&&b[c].hidden;--c);if(e=b[c]){a._setActiveChild(e,d);if(e.modal){return}}for(;c>=0;--c){e=b[c];if(e.isVisible()&&e.modal){a._showModalMask(e);return}}a._hideModalMask()},_showModalMask:function(a){var b=this,c=a.el.getStyle("zIndex")-4,d=a.floatParent?a.floatParent.getTargetEl():a.container,e=d.getBox();if(d.dom===document.body){e.height=Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight());e.width=Math.max(document.body.scrollWidth,e.width)}if(!b.mask){b.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask"});b.mask.setVisibilityMode(Ext.Element.DISPLAY);b.mask.on("click",b._onMaskClick,b)}b.mask.maskTarget=d;d.addCls(Ext.baseCSSPrefix+"body-masked");b.mask.setStyle("zIndex",c);b.mask.show();b.mask.setBox(e)},_hideModalMask:function(){var a=this.mask;if(a&&a.isVisible()){a.maskTarget.removeCls(Ext.baseCSSPrefix+"body-masked");a.maskTarget=undefined;a.hide()}},_onMaskClick:function(){if(this.front){this.front.focus()}},_onContainerResize:function(){var a=this.mask,b,c;if(a&&a.isVisible()){a.hide();b=a.maskTarget;if(b.dom===document.body){c={height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth)}}else{c=b.getViewSize(true)}a.setSize(c);a.show()}},register:function(a){var b=this;if(a.zIndexManager){a.zIndexManager.unregister(a)}a.zIndexManager=b;b.list[a.id]=a;b.zIndexStack.push(a);a.on("hide",b.onComponentHide,b)},unregister:function(a){var b=this,c=b.list;delete a.zIndexManager;if(c&&c[a.id]){delete c[a.id];a.un("hide",b.onComponentHide);Ext.Array.remove(b.zIndexStack,a);b._activateLast()}},get:function(a){return a.isComponent?a:this.list[a]},bringToFront:function(a){var b=this,c=false,d=b.zIndexStack;a=b.get(a);if(a!==b.front){Ext.Array.remove(d,a);if(a.preventBringToFront){d.unshift(a)}else{d.push(a)}b.assignZIndices();c=true;this.front=a}if(c&&a.modal){b._showModalMask(a)}return c},sendToBack:function(a){var b=this;a=b.get(a);Ext.Array.remove(b.zIndexStack,a);b.zIndexStack.unshift(a);b.assignZIndices();this._activateLast();return a},hideAll:function(){var a=this.list,b,c;for(c in a){if(a.hasOwnProperty(c)){b=a[c];if(b.isComponent&&b.isVisible()){b.hide()}}}},hide:function(){var a=this,b=a.mask,c=0,d=a.zIndexStack,e=d.length,f;a.tempHidden=a.tempHidden||[];for(;c<e;c++){f=d[c];if(f.isVisible()){a.tempHidden.push(f);f.el.hide()}}if(b){b.hide()}},show:function(){var a=this,b=a.mask,c=0,d=a.tempHidden,e=d?d.length:0,f;for(;c<e;c++){f=d[c];f.el.show();f.setPosition(f.x,f.y)}a.tempHidden.length=0;if(b){b.show();b.alignTo(b.maskTarget,"tl-tl")}},getActive:function(){return this.front},getBy:function(a,b){var c=[],d=0,e=this.zIndexStack,f=e.length,g;for(;d<f;d++){g=e[d];if(a.call(b||g,g)!==false){c.push(g)}}return c},each:function(a,b){var c=this.list,d,e;for(d in c){if(c.hasOwnProperty(d)){e=c[d];if(e.isComponent&&a.call(b||e,e)===false){return}}}},eachBottomUp:function(a,b){var c=this.zIndexStack,d=0,e=c.length,f;for(;d<e;d++){f=c[d];if(f.isComponent&&a.call(b||f,f)===false){return}}},eachTopDown:function(a,b){var c=this.zIndexStack,d=c.length,e;for(;d-->0;){e=c[d];if(e.isComponent&&a.call(b||e,e)===false){return}}},destroy:function(){var a=this,b=a.list,c,d;for(d in b){if(b.hasOwnProperty(d)){c=b[d];if(c.isComponent){c.destroy()}}}delete a.zIndexStack;delete a.list;delete a.container;delete a.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this});Ext.define("Ext.util.Animate",{uses:["Ext.fx.Manager","Ext.fx.Anim"],animate:function(a){var b=this;if(Ext.fx.Manager.hasFxBlock(b.id)){return b}Ext.fx.Manager.queueFx(new Ext.fx.Anim(b.anim(a)));return this},anim:function(a){if(!Ext.isObject(a)){return a?{}:false}var b=this;if(a.stopAnimation){b.stopAnimation()}Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(b.id));return Ext.apply({target:b,paused:true},a)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},function(){Ext.applyIf(Ext.Element.prototype,this.prototype);Ext.CompositeElementLite.importElementMethods()});Ext.define("Ext.util.HashMap",{mixins:{observable:"Ext.util.Observable"},constructor:function(a){a=a||{};var b=this,c=a.keyFn;b.addEvents("add","clear","remove","replace");b.mixins.observable.constructor.call(b,a);b.clear(true);if(c){b.getKey=c}},getCount:function(){return this.length},getData:function(a,b){if(b===undefined){b=a;a=this.getKey(b)}return[a,b]},getKey:function(a){return a.id},add:function(a,b){var c=this;if(b===undefined){b=a;a=c.getKey(b)}if(c.containsKey(a)){return c.replace(a,b)}c.map[a]=b;++c.length;if(c.hasListeners.add){c.fireEvent("add",c,a,b)}return b},replace:function(a,b){var c=this,d=c.map,e;if(b===undefined){b=a;a=c.getKey(b)}if(!c.containsKey(a)){c.add(a,b)}e=d[a];d[a]=b;if(c.hasListeners.replace){c.fireEvent("replace",c,a,b,e)}return b},remove:function(a){var b=this.findKey(a);if(b!==undefined){return this.removeAtKey(b)}return false},removeAtKey:function(a){var b=this,c;if(b.containsKey(a)){c=b.map[a];delete b.map[a];--b.length;if(b.hasListeners.remove){b.fireEvent("remove",b,a,c)}return true}return false},get:function(a){return this.map[a]},clear:function(a){var b=this;b.map={};b.length=0;if(a!==true&&b.hasListeners.clear){b.fireEvent("clear",b)}return b},containsKey:function(a){return this.map[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(a){var b=[],c,d=this.map;for(c in d){if(d.hasOwnProperty(c)){b.push(a?c:d[c])}}return b},each:function(a,b){var c=Ext.apply({},this.map),d,e=this.length;b=b||this;for(d in c){if(c.hasOwnProperty(d)){if(a.call(b,d,c[d],e)===false){break}}}return this},clone:function(){var a=new this.self,b=this.map,c;a.suspendEvents();for(c in b){if(b.hasOwnProperty(c)){a.add(c,b[c])}}a.resumeEvents();return a},findKey:function(a){var b,c=this.map;for(b in c){if(c.hasOwnProperty(b)&&c[b]===a){return b}}return undefined}});Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(a){var b=this;Ext.apply(b,a);if(b.property===undefined&&b.sorterFn===undefined){Ext.Error.raise("A Sorter requires either a property or a sorter function")}b.updateSortFunction()},createSortFunction:function(a){var b=this,c=b.property,d=b.direction||"ASC",e=d.toUpperCase()=="DESC"?-1:1;return function(c,d){return e*a.call(b,c,d)}},defaultSorterFn:function(a,b){var c=this,d=c.transform,e=c.getRoot(a)[c.property],f=c.getRoot(b)[c.property];if(d){e=d(e);f=d(f)}return e>f?1:e<f?-1:0},getRoot:function(a){return this.root===undefined?a:a[this.root]},setDirection:function(a){var b=this;b.direction=a?a.toUpperCase():a;b.updateSortFunction()},toggle:function(){var a=this;a.direction=Ext.String.toggle(a.direction,"ASC","DESC");a.updateSortFunction()},updateSortFunction:function(a){var b=this;a=a||b.sorterFn||b.defaultSorterFn;b.sort=b.createSortFunction(a)}});Ext.define("Ext.util.Filter",{anyMatch:false,exactMatch:false,caseSensitive:false,constructor:function(a){var b=this;Ext.apply(b,a);b.filter=b.filter||b.filterFn;if(b.filter===undefined){if(b.property===undefined||b.value===undefined){}else{b.filter=b.createFilterFn()}b.filterFn=b.filter}},createFilterFn:function(){var a=this,b=a.createValueMatcher(),c=a.property;return function(d){var e=a.getRoot.call(a,d)[c];return b===null?e===null:b.test(e)}},getRoot:function(a){var b=this.root;return b===undefined?a:a[b]},createValueMatcher:function(){var a=this,b=a.value,c=a.anyMatch,d=a.exactMatch,e=a.caseSensitive,f=Ext.String.escapeRegex;if(b===null){return b}if(!b.exec){b=String(b);if(c===true){b=f(b)}else{b="^"+f(b);if(d===true){b+="$"}}b=new RegExp(b,e?"":"i")}return b}});Ext.define("Ext.XTemplateParser",{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(a){var b=this,c=a.length,d={elseif:"elif"},e=b.topRe,f=b.actionsRe,g,h,i,j,k,l,m,n,o,p,q,r;b.level=0;b.stack=h=[];for(g=0;g<c;g=p){e.lastIndex=g;j=e.exec(a);if(!j){b.doText(a.substring(g,c));break}o=j.index;p=e.lastIndex;if(g<o){b.doText(a.substring(g,o))}if(j[1]){p=a.indexOf("%}",o+2);b.doEval(a.substring(o+2,p));p+=2}else if(j[2]){p=a.indexOf("]}",o+2);b.doExpr(a.substring(o+2,p));p+=2}else if(j[3]){b.doTag(j[3])}else if(j[4]){q=null;while((n=f.exec(j[4]))!==null){i=n[2]||n[3];if(i){i=Ext.String.htmlDecode(i);k=n[1];k=d[k]||k;q=q||{};l=q[k];if(typeof l=="string"){q[k]=[l,i]}else if(l){q[k].push(i)}else{q[k]=i}}}if(!q){if(b.elseRe.test(j[4])){b.doElse()}else if(b.defaultRe.test(j[4])){b.doDefault()}else{b.doTpl();h.push({type:"tpl"})}}else if(q["if"]){b.doIf(q["if"],q);h.push({type:"if"})}else if(q["switch"]){b.doSwitch(q["switch"],q);h.push({type:"switch"})}else if(q["case"]){b.doCase(q["case"],q)}else if(q["elif"]){b.doElseIf(q["elif"],q)}else if(q["for"]){++b.level;if(r=b.propRe.exec(j[4])){q.propName=r[1]||r[2]}b.doFor(q["for"],q);h.push({type:"for",actions:q})}else if(q.exec){b.doExec(q.exec,q);h.push({type:"exec",actions:q})}}else if(j[0].length===5){h.push({type:"tpl"})}else{m=h.pop();b.doEnd(m.type,m.actions);if(m.type=="for"){--b.level}}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]*)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|exec|switch|case|eval)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/});Ext.define("Ext.fx.Queue",{requires:["Ext.util.HashMap"],constructor:function(){this.targets=new Ext.util.HashMap;this.fxQueue={}},getFxDefaults:function(a){var b=this.targets.get(a);if(b){return b.fxDefaults}return{}},setFxDefaults:function(a,b){var c=this.targets.get(a);if(c){c.fxDefaults=Ext.apply(c.fxDefaults||{},b)}},stopAnimation:function(a){var b=this,c=b.getFxQueue(a),d=c.length;while(d){c[d-1].end();d--}},getActiveAnimation:function(a){var b=this.getFxQueue(a);return b&&!!b.length?b[0]:false},hasFxBlock:function(a){var b=this.getFxQueue(a);return b&&b[0]&&b[0].block},getFxQueue:function(a){if(!a){return false}var b=this,c=b.fxQueue[a],d=b.targets.get(a);if(!d){return false}if(!c){b.fxQueue[a]=[];if(d.type!="element"){d.target.on("destroy",function(){b.fxQueue[a]=[]})}}return b.fxQueue[a]},queueFx:function(a){var b=this,c=a.target,d,e;if(!c){return}d=b.getFxQueue(c.getId());e=d.length;if(e){if(a.concurrent){a.paused=false}else{d[e-1].on("afteranimate",function(){a.paused=false})}}else{a.paused=false}a.on("afteranimate",function(){Ext.Array.remove(d,a);if(a.remove){if(c.type=="element"){var b=Ext.get(c.id);if(b){b.remove()}}}},this);d.push(a)}});Ext.define("Ext.util.Renderable",{requires:["Ext.dom.Element"],frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElementCls:{tl:[],tc:[],tr:[],ml:[],mc:[],mr:[],bl:[],bc:[],br:[]},frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>" style="background-position: {tl}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>" style="background-position: {tr}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>" style="background-position: {tc}; height: {frameWidth}px" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>" style="background-position: {ml}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>" style="background-position: {mr}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>" style="background-position: {bl}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>" style="background-position: {br}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>" style="background-position: {bc}; height: {frameWidth}px" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}","<table><tbody>",'<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>" style="background-position: {tl}; padding-left:{frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>" style="background-position: {tc}; height: {frameWidth}px" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>" style="background-position: {tr}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>" style="background-position: {ml}; padding-left: {frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>" style="background-position: 0 0;" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>" style="background-position: {mr}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>" style="background-position: {bl}; padding-left: {frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>" style="background-position: {bc}; height: {frameWidth}px" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>" style="background-position: {br}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var a=this,b={},c=a.protoEl,d=a.getTargetEl(),e;a.finishRenderChildren();if(a.styleHtmlContent){d.addCls(a.styleHtmlCls)}c.writeTo(b);e=b.removed;if(e){d.removeCls(e)}e=b.cls;if(e.length){d.addCls(e)}e=b.style;if(b.style){d.setStyle(e)}a.protoEl=null;if(!a.ownerCt){a.updateLayout()}},afterFirstLayout:function(a,b){var c=this,d=Ext.isDefined(c.x),e=Ext.isDefined(c.y),f,g;if(c.floating&&(!d||!e)){if(c.floatParent){f=c.floatParent.getTargetEl().getViewRegion();g=c.el.getAlignToXY(c.floatParent.getTargetEl(),"c-c");f.left=g[0]-f.left;f.top=g[1]-f.top}else{g=c.el.getAlignToXY(c.container,"c-c");f=c.container.translatePoints(g[0],g[1])}c.x=d?c.x:f.left;c.y=e?c.y:f.top;d=e=true}if(d||e){c.setPosition(c.x,c.y)}c.onBoxReady(a,b);if(c.hasListeners.boxready){c.fireEvent("boxready",c,a,b)}},onBoxReady:Ext.emptyFn,applyRenderSelectors:function(){var a=this,b=a.renderSelectors,c=a.el,d=c.dom,e;a.applyChildEls(c);if(b){for(e in b){if(b.hasOwnProperty(e)&&b[e]){a[e]=Ext.get(Ext.DomQuery.selectNode(b[e],d))}}}},beforeRender:function(){var a=this,b=a.getTargetEl(),c=a.getComponentLayout();a.frame=a.frame||a.alwaysFramed;if(!c.initialized){c.initLayout()}if(b){b.setStyle(a.getOverflowStyle());a.overflowStyleSet=true}a.setUI(a.ui);if(a.disabled){a.disable(true)}},doApplyRenderTpl:function(a,b){var c=b.$comp,d;if(!c.rendered){d=c.initRenderTpl();d.applyOut(b.renderData,a)}},doAutoRender:function(){var a=this;if(!a.rendered){if(a.floating){a.render(document.body)}else{a.render(Ext.isBoolean(a.autoRender)?Ext.getBody():a.autoRender)}}},doRenderContent:function(a,b){var c=b.$comp;if(c.html){Ext.DomHelper.generateMarkup(c.html,a);delete c.html}if(c.tpl){if(!c.tpl.isTemplate){c.tpl=new Ext.XTemplate(c.tpl)}if(c.data){c.tpl.applyOut(c.data,a);delete c.data}}},doRenderFramingDockedItems:function(a,b,c){var d=b.$comp;if(!d.rendered&&d.doRenderDockedItems){b.renderData.$skipDockedItems=true;d.doRenderDockedItems.call(this,a,b,c)}},finishRender:function(a){var b=this,c,d,e,f,g,h;if(!b.el||b.$pid){if(b.container){f=b.container.getById(b.id,true)}else{f=Ext.getDom(b.id)}if(!b.el){b.wrapPrimaryEl(f)}else{delete b.$pid;if(!b.el.dom){b.wrapPrimaryEl(b.el)}f.parentNode.insertBefore(b.el.dom,f);Ext.removeNode(f)}}else if(!b.rendering){c=b.initRenderTpl();if(c){d=b.initRenderData();c.insertFirst(b.getTargetEl(),d)}}if(!b.container){b.container=Ext.get(b.el.dom.parentNode)}if(b.ctCls){b.container.addCls(b.ctCls)}b.onRender(b.container,a);if(!b.overflowStyleSet){b.getTargetEl().setStyle(b.getOverflowStyle())}b.el.setVisibilityMode(Ext.Element[b.hideMode.toUpperCase()]);if(b.overCls){b.el.hover(b.addOverCls,b.removeOverCls,b)}if(b.hasListeners.render){b.fireEvent("render",b)}if(b.contentEl){g=Ext.baseCSSPrefix;h=g+"hide-";e=Ext.get(b.contentEl);e.removeCls([g+"hidden",h+"display",h+"offsets",h+"nosize"]);b.getTargetEl().appendChild(e.dom)}b.afterRender();if(b.hasListeners.afterrender){b.fireEvent("afterrender",b)}b.initEvents();if(b.hidden){b.el.hide()}},finishRenderChildren:function(){var a=this.getComponentLayout();a.finishRender()},getElConfig:function(){var a=this,b=a.autoEl,c=a.getFrameInfo(),d={tag:"div",tpl:c?a.initFramingTpl(c.table):a.initRenderTpl()},e,f,g,h,i;a.initStyles(a.protoEl);a.protoEl.writeTo(d);a.protoEl.flush();if(Ext.isString(b)){d.tag=b}else{Ext.apply(d,b)}d.id=a.id;if(d.tpl){if(c){f=a.frameElNames;g=f.length;i=a.id+"-frame1";a.frameGenId=1;d.tplData=Ext.apply({},{$comp:a,fgid:i,ui:a.ui,uiCls:a.uiCls,frameCls:a.frameCls,baseCls:a.baseCls,frameWidth:c.maxWidth,top:!!c.top,left:!!c.left,right:!!c.right,bottom:!!c.bottom,renderData:a.initRenderData()},a.getFramePositions(c));for(e=0;e<g;e++){h=f[e];a.addChildEls({name:"frame"+h,id:i+h})}a.addChildEls({name:"frameBody",id:i+"MC"})}else{d.tplData=a.initRenderData()}}return d},initFramingTpl:function(a){var b=a?this.getTpl("frameTableTpl"):this.getTpl("frameTpl");if(b&&!b.applyRenderTpl){this.setupFramingTpl(b)}return b},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl;a.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(a){if(a!==undefined){if(Ext.isNumber(a)){a=this.container.dom.childNodes[a]}else{a=Ext.getDom(a)}}return a},getRenderTree:function(){var a=this;if(!a.hasListeners.beforerender||a.fireEvent("beforerender",a)!==false){a.beforeRender();a.rendering=true;if(a.el){return{tag:"div",id:a.$pid=Ext.id()}}return a.getElConfig()}return null},initContainer:function(a){var b=this;if(!a&&b.el){a=b.el.dom.parentNode;b.allowDomMove=false}b.container=a.dom?a:Ext.get(a);return b.container},initRenderData:function(){var a=this;return Ext.apply({$comp:a,id:a.id,ui:a.ui,uiCls:a.uiCls,baseCls:a.baseCls,componentCls:a.componentCls,frame:a.frame},a.renderData)},initRenderTpl:function(){var a=this.getTpl("renderTpl");if(a&&!a.renderContent){this.setupRenderTpl(a)}return a},onRender:function(a,b){var c=this,d=c.x,e=c.y,f,g,h,i=c.el,j=Ext.getBody().dom;if(Ext.scopeResetCSS&&!c.ownerCt){if(i.dom===j){i.parent().addCls(Ext.resetCls)}else{if(c.floating&&c.el.dom.parentNode===j){Ext.resetElement.appendChild(c.el)}else{c.resetEl=i.wrap(Ext.resetElementSpec,false,Ext.supports.CSS3LinearGradient?undefined:"*")}}}c.applyRenderSelectors();delete c.rendering;c.rendered=true;f=null;if(d!==undefined){f=f||{};f.x=d}if(e!==undefined){f=f||{};f.y=e}if(!c.getFrameInfo()&&Ext.isBorderBox){g=c.width;h=c.height;if(typeof g=="number"){f=f||{};f.width=g}if(typeof h=="number"){f=f||{};f.height=h}}c.lastBox=c.el.lastBox=f},render:function(a,b){var c=this,d=c.el&&(c.el=Ext.get(c.el)),e,f,g;Ext.suspendLayouts();a=c.initContainer(a);g=c.getInsertPosition(b);if(!d){f=c.getRenderTree();if(c.ownerLayout&&c.ownerLayout.transformItemRenderTree){f=c.ownerLayout.transformItemRenderTree(f)}if(f){if(g){d=Ext.DomHelper.insertBefore(g,f)}else{d=Ext.DomHelper.append(a,f)}c.wrapPrimaryEl(d)}}else{if(!c.hasListeners.beforerender||c.fireEvent("beforerender",c)!==false){c.initStyles(d);if(c.allowDomMove!==false){if(g){a.dom.insertBefore(d.dom,g)}else{a.dom.appendChild(d.dom)}}}else{e=true}}if(d&&!e){c.finishRender(b)}Ext.resumeLayouts(!a.isDetachedBody)},ensureAttachedToBody:function(a){var b=this,c;while(b.ownerCt){b=b.ownerCt}if(b.container.isDetachedBody){b.container=c=Ext.resetElement;c.appendChild(b.el.dom);if(a){b.updateLayout()}if(typeof b.x=="number"||typeof b.y=="number"){b.setPosition(b.x,b.y)}}},setupRenderTpl:function(a){a.renderBody=a.renderContent=this.doRenderContent},wrapPrimaryEl:function(a){this.el=Ext.get(a,true)},initFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var a=this,b=a.getFrameInfo(),c,d,e,f,g=a.frameElNames,h=g.length,i;if(b){c=b.maxWidth;d=a.getFrameTpl(b.table);a.frameGenId=e=(a.frameGenId||0)+1;e=a.id+"-frame"+e;d.insertFirst(a.el,Ext.apply({$comp:a,fgid:e,ui:a.ui,uiCls:a.uiCls,frameCls:a.frameCls,baseCls:a.baseCls,frameWidth:c,top:!!b.top,left:!!b.left,right:!!b.right,bottom:!!b.bottom},a.getFramePositions(b)));a.frameBody=a.el.down("."+a.frameCls+"-mc");a.removeChildEls(function(b){return b.id&&a.frameIdRegex.test(b.id)});for(f=0;f<h;f++){i=g[f];a["frame"+i]=a.el.getById(e+i)}}},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var a=this,b=this.frameSize&&this.frameSize.table,c=this.frameTL,d=this.frameBL,e=this.frameML,f=this.frameMC,g;this.initFrame();if(f){if(a.frame){g=this.frameMC.dom.className;f.insertAfter(this.frameMC);this.frameMC.remove();this.frameBody=this.frameMC=f;f.dom.className=g;if(b){a.el.query("> table")[1].remove()}else{if(c){c.remove()}if(d){d.remove()}if(e){e.remove()}}}}else if(a.frame){this.applyRenderSelectors()}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return false}var a=this,b=a.frameInfoCache,c=a.el||a.protoEl,d=c.dom?c.dom.className:c.classList.join(" "),e=b[d],f,g,h,i;if(e==null){f=Ext.fly(a.getStyleProxy(d),"frame-style-el");g=f.getStyle("background-position-x");h=f.getStyle("background-position-y");if(!g&&!h){i=f.getStyle("background-position").split(" ");g=i[0];h=i[1]}e=a.calculateFrame(g,h);if(e){c.setStyle("background-image","none")}if(a.frame===true&&!e){Ext.log.error("You have set frame: true explicity on this component ("+a.getXType()+") and it "+"does not have any framing defined in the CSS template. In this case IE cannot figure out "+"what sizes to use and thus framing on this component will be disabled.")}b[d]=e}a.frame=!!e;a.frameSize=e;return e},calculateFrame:function(a,b){if(!(parseInt(a,10)>=1e6&&parseInt(b,10)>=1e6)){return false}var c=Math.max,d=parseInt(a.substr(3,2),10),e=parseInt(a.substr(5,2),10),f=parseInt(b.substr(3,2),10),g=parseInt(b.substr(5,2),10),h={table:a.substr(0,3)=="110",vertical:b.substr(0,3)=="110",top:c(d,e),right:c(e,f),bottom:c(g,f),left:c(d,g)};h.maxWidth=c(h.top,h.right,h.bottom,h.left);h.width=h.left+h.right;h.height=h.top+h.bottom;return h},getStyleProxy:function(a){var b=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.resetElement.createChild({style:{position:"absolute",top:"-10000px"}},null,true));b.className=a;return b},getFramePositions:function(a){var b=this,c=a.maxWidth,d=b.dock,e,f,g,h,i;if(a.vertical){f="0 -"+c*0+"px";g="0 -"+c*1+"px";if(d&&d=="right"){f="right -"+c*0+"px";g="right -"+c*1+"px"}e={tl:"0 -"+c*0+"px",tr:"0 -"+c*1+"px",bl:"0 -"+c*2+"px",br:"0 -"+c*3+"px",ml:"-"+c*1+"px 0",mr:"right 0",tc:f,bc:g}}else{h="-"+c*0+"px 0";i="right 0";if(d&&d=="bottom"){h="left bottom";i="right bottom"}e={tl:"0 -"+c*2+"px",tr:"right -"+c*3+"px",bl:"0 -"+c*4+"px",br:"right -"+c*5+"px",ml:h,mr:i,tc:"0 -"+c*0+"px",bc:"0 -"+c*1+"px"}}return e},getFrameTpl:function(a){return this.getTpl(a?"frameTableTpl":"frameTpl")},frameInfoCache:{}});Ext.define("Ext.ComponentQuery",{singleton:true,uses:["Ext.ComponentManager"]},function(){var a=this,b=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),c=function(a,b){return b.method.apply(this,[a].concat(b.args))},d=function(a,b){var c=[],d=0,e=a.length,f,g=b!==">";for(;d<e;d++){f=a[d];if(f.getRefItems){c=c.concat(f.getRefItems(g))}}return c},e=function(a){var b=[],c=0,d=a.length,e;for(;c<d;c++){e=a[c];while(!!(e=e.ownerCt||e.floatParent)){b.push(e)}}return b},f=function(a,b,c){if(b==="*"){return a.slice()}else{var d=[],e=0,f=a.length,g;for(;e<f;e++){g=a[e];if(g.isXType(b,c)){d.push(g)}}return d}},g=function(a,b){var c=Ext.Array,d=[],e=0,f=a.length,g;for(;e<f;e++){g=a[e];if(g.hasCls(b)){d.push(g)}}return d},h=function(a,b,c,d){var e=[],f=0,g=a.length,h;for(;f<g;f++){h=a[f];if(!d?!!h[b]:String(h[b])===d){e.push(h)}}return e},i=function(a,b){var c=[],d=0,e=a.length,f;for(;d<e;d++){f=a[d];if(f.getItemId()===b){c.push(f)}}return c},j=function(b,c,d){return a.pseudos[c](b,d)},k=/^(\s?([>\^])\s?|\s|$)/,l=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,m=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:f},{re:/^(?:[\[](?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]])/,method:h},{re:/^#([\w\-]+)/,method:i},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:j},{re:/^(?:\{([^\}]+)\})/,method:b}];a.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,a)},execute:function(a){var b=this.operations,f=0,g=b.length,h,i;if(!a){i=Ext.ComponentManager.all.getArray()}else if(Ext.isArray(a)){i=a}else if(a.isMixedCollection){i=a.items}for(;f<g;f++){h=b[f];if(h.mode==="^"){i=e(i||[a])}else if(h.mode){i=d(i||[a],h.mode)}else{i=c(i||d([a]),h)}if(f===g-1){return i}}return[]},is:function(a){var b=this.operations,d=Ext.isArray(a)?a:[a],e=d.length,f=b[b.length-1],g,h;d=c(d,f);if(d.length===e){if(b.length>1){for(h=0,g=d.length;h<g;h++){if(Ext.Array.indexOf(this.execute(),d[h])===-1){return false}}}return true}return false}});Ext.apply(this,{cache:{},pseudos:{not:function(a,b){var c=Ext.ComponentQuery,d=0,e=a.length,f=[],g=-1,h;for(;d<e;++d){h=a[d];if(!c.is(h,b)){f[++g]=h}}return f},first:function(a){var b=[];if(a.length>0){b.push(a[0])}return b},last:function(a){var b=a.length,c=[];if(b>0){c.push(a[b-1])}return c}},query:function(a,b){var c=a.split(","),d=c.length,e=0,f=[],g=[],h={},i,j,k;for(;e<d;e++){a=Ext.String.trim(c[e]);i=this.cache[a]||(this.cache[a]=this.parse(a));f=f.concat(i.execute(b))}if(d>1){j=f.length;for(e=0;e<j;e++){k=f[e];if(!h[k.id]){g.push(k);h[k.id]=true}}f=g}return f},is:function(a,b){if(!b){return true}var c=b.split(","),d=c.length,e=0,f;for(;e<d;e++){b=Ext.String.trim(c[e]);f=this.cache[b]||(this.cache[b]=this.parse(b));if(f.is(a)){return true}}return false},parse:function(b){var c=[],d=m.length,e,h,j,n,o,p,q,r;while(b&&e!==b){e=b;h=b.match(l);if(h){j=h[1];if(j==="#"){c.push({method:i,args:[Ext.String.trim(h[2])]})}else if(j==="."){c.push({method:g,args:[Ext.String.trim(h[2])]})}else{c.push({method:f,args:[Ext.String.trim(h[2]),Boolean(h[3])]})}b=b.replace(h[0],"")}while(!(n=b.match(k))){for(p=0;b&&p<d;p++){q=m[p];o=b.match(q.re);r=q.method;if(o){c.push({method:Ext.isString(q.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[r].concat(o.slice(1)))):q.method,args:o.slice(1)});b=b.replace(o[0],"");break}if(p===d-1){Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}}}if(n[1]){c.push({mode:n[2]||n[1]});b=b.replace(n[0],"")}}return new a.Query({operations:c})}})});Ext.define("Ext.util.ProtoElement",function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(c){var d=this;Ext.apply(d,c);d.classList=a(d.cls);d.classMap=b(d.classList);delete d.cls;if(Ext.isFunction(d.style)){d.styleFn=d.style;delete d.style}else if(typeof d.style=="string"){d.style=Ext.Element.parseStyles(d.style)}else if(d.style){d.style=Ext.apply({},d.style)}},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style},addCls:function(b){var c=this,d=a(b),e=d.length,f=c.classList,g=c.classMap,h=c.flushClassList,i=0,j;for(;i<e;++i){j=d[i];if(!g[j]){g[j]=true;f.push(j);if(h){h.push(j);delete c.removedClasses[j]}}}return c},hasCls:function(a){return a in this.classMap},removeCls:function(c){var d=this,e=d.classList,f=d.classList=[],g=b(a(c)),h=e.length,i=d.classMap,j=d.removedClasses,k,l;for(k=0;k<h;++k){l=e[k];if(g[l]){if(j){if(i[l]){j[l]=true;Ext.Array.remove(d.flushClassList,l)}}delete i[l]}else{f.push(l)}}return d},setStyle:function(a,b){var c=this,d=c.style||(c.style={});if(typeof a=="string"){if(arguments.length===1){c.setStyle(Ext.Element.parseStyles(a))}else{d[a]=b}}else{Ext.apply(d,a)}return c},writeTo:function(a){var b=this,c=b.flushClassList||b.classList,d=b.removedClasses,e;if(b.styleFn){e=Ext.apply({},b.styleFn());Ext.apply(e,b.style)}else{e=b.style}a[b.clsProp]=c.join(" ");if(e){a[b.styleProp]=b.styleIsText?Ext.DomHelper.generateStyles(e):e}if(d){d=Ext.Object.getKeys(d);if(d.length){a[b.removedProp]=d.join(" ")}}return a}}}());Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",requires:["Ext.util.KeyMap"],statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(a){var b=this;if(arguments.length===2){b.legacyConstructor.apply(b,arguments);return}b.setConfig(a)},legacyConstructor:function(a,b){this.setConfig(Ext.apply({target:a},b))},setConfig:function(a){var b=this,c={target:a.target,ignoreInputFields:a.ignoreInputFields,eventName:b.getKeyEvent("forceKeyDown"in a?a.forceKeyDown:b.forceKeyDown,a.eventName)},d,e,f,g,h;if(b.map){b.map.destroy()}if(a.processEvent){c.processEvent=a.processEvent;c.processEventScope=a.processEventScope||b}d=b.map=new Ext.util.KeyMap(c);e=Ext.util.KeyNav.keyOptions;f=a.scope||b;for(g in e){if(e.hasOwnProperty(g)){if(h=a[g]){if(typeof h==="function"){h={handler:h,defaultAction:a.defaultEventAction!==undefined?a.defaultEventAction:b.defaultEventAction}}d.addBinding({key:e[g],handler:Ext.Function.bind(b.handleEvent,h.scope||f,h.handler||h.fn,true),defaultEventAction:h.defaultEventAction!==undefined?h.defaultAction:b.defaultEventAction})}}}d.disable();if(!a.disabled){d.enable()}},handleEvent:function(a,b,c){return c.call(this,b)},disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,eventName:"keypress",destroy:function(a){this.map.destroy(a);delete this.map},enable:function(){this.map.enable();this.disabled=false},disable:function(){this.map.disable();this.disabled=true},setDisabled:function(a){this.map.setDisabled(a);this.disabled=a},getKeyEvent:function(a,b){if(a||Ext.EventManager.useKeyDown&&!b){return"keydown"}else{return b||this.eventName}}});Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:true,nameProperty:"name",isWriter:true,constructor:function(a){Ext.apply(this,a)},write:function(a){var b=a.operation,c=b.records||[],d=c.length,e=0,f=[];for(;e<d;e++){f.push(this.getRecordData(c[e],b))}return this.writeRecords(a,f)},getRecordData:function(a,b){var c=a.phantom===true,d=this.writeAllFields||c,e=this.nameProperty,f=a.fields,g=f.items,h={},i=a.clientIdProperty,j,k,l,m,n,o,p;if(d){p=g.length;for(o=0;o<p;o++){l=g[o];if(l.persist){k=l[e]||l.name;n=a.get(l.name);if(l.serialize){h[k]=l.serialize(n,a)}else if(l.type===Ext.data.Types.DATE&&l.dateFormat){h[k]=Ext.Date.format(n,l.dateFormat)}else{h[k]=n}}}}else{j=a.getChanges();for(m in j){if(j.hasOwnProperty(m)){l=f.get(m);if(l.persist){k=l[e]||l.name;n=a.get(l.name);if(l.serialize){h[k]=l.serialize(n,a)}else if(l.type===Ext.data.Types.DATE&&l.dateFormat){h[k]=Ext.Date.format(n,l.dateFormat)}else{h[k]=n}}}}}if(c){if(i&&b&&b.records.length>1){h[i]=a.internalId}}else{h[a.idProperty]=a.getId()}return h}});Ext.define("Ext.data.proxy.Proxy",{alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],uses:["Ext.data.Batch","Ext.data.Operation","Ext.data.Model"],mixins:{observable:"Ext.util.Observable"},batchOrder:"create,update,destroy",batchActions:true,defaultReaderType:"json",defaultWriterType:"json",isProxy:true,constructor:function(a){a=a||{};if(a.model===undefined){delete a.model}this.mixins.observable.constructor.call(this,a);if(this.model!==undefined&&!(this.model instanceof Ext.data.Model)){this.setModel(this.model)}},setModel:function(a,b){this.model=Ext.ModelManager.getModel(a);var c=this.reader,d=this.writer;this.setReader(c);this.setWriter(d);if(b&&this.store){this.store.setModel(this.model)}},getModel:function(){return this.model},setReader:function(a){var b=this,c=true;if(a===undefined||typeof a=="string"){a={type:a};c=false}if(a.isReader){a.setModel(b.model)}else{if(c){a=Ext.apply({},a)}Ext.applyIf(a,{proxy:b,model:b.model,type:b.defaultReaderType});a=Ext.createByAlias("reader."+a.type,a)}if(a.onMetaChange){a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this)}b.reader=a;return b.reader},getReader:function(){return this.reader},onMetaChange:function(a){this.fireEvent("metachange",this,a)},setWriter:function(a){var b=this,c=true;if(a===undefined||typeof a=="string"){a={type:a};c=false}if(!a.isWriter){if(c){a=Ext.apply({},a)}Ext.applyIf(a,{model:b.model,type:b.defaultWriterType});a=Ext.createByAlias("writer."+a.type,a)}b.writer=a;return b.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(a,b){var c=this,d=c.batchActions,e,f,g,h,i,j,k,l,m;if(a.operations===undefined){a={operations:a,listeners:b}}if(a.batch){if(Ext.isDefined(a.batch.runOperation)){e=Ext.applyIf(a.batch,{proxy:c,listeners:{}})}}else{a.batch={proxy:c,listeners:a.listeners||{}}}if(!e){e=new Ext.data.Batch(a.batch)}e.on("complete",Ext.bind(c.onBatchComplete,c,[a],0));g=c.batchOrder.split(",");h=g.length;for(j=0;j<h;j++){i=g[j];f=a.operations[i];if(f){if(d){e.add(new Ext.data.Operation({action:i,records:f}))}else{l=f.length;for(k=0;k<l;k++){m=f[k];e.add(new Ext.data.Operation({action:i,records:[m]}))}}}}e.start();return e},onBatchComplete:function(a,b){var c=a.scope||this;if(b.hasException){if(Ext.isFunction(a.failure)){Ext.callback(a.failure,c,[b,a])}}else if(Ext.isFunction(a.success)){Ext.callback(a.success,c,[b,a])}if(Ext.isFunction(a.callback)){Ext.callback(a.callback,c,[b,a])}}},function(){Ext.data.DataProxy=this});Ext.define("Ext.fx.target.Target",{isAnimTarget:true,constructor:function(a){this.target=a;this.id=this.getId()},getId:function(){return this.target.id}});Ext.define("Ext.data.ResultSet",{loaded:true,count:0,total:0,success:false,constructor:function(a){Ext.apply(this,a);this.totalRecords=this.total;if(a.count===undefined){this.count=this.records.length}}});Ext.define("Ext.data.Connection",{mixins:{observable:"Ext.util.Observable"},statics:{requestId:0},url:null,async:true,method:null,username:"",password:"",disableCaching:true,withCredentials:false,cors:false,disableCachingParam:"_dc",timeout:3e4,useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",constructor:function(a){a=a||{};Ext.apply(this,a);this.requests={};this.mixins.observable.constructor.call(this)},request:function(a){a=a||{};var b=this,c=a.scope||window,d=a.username||b.username,e=a.password||b.password||"",f,g,h,i,j;if(b.fireEvent("beforerequest",b,a)!==false){g=b.setOptions(a,c);if(b.isFormUpload(a)){b.upload(a.form,g.url,g.data,a);return null}if(a.autoAbort||b.autoAbort){b.abort()}f=a.async!==false?a.async||b.async:false;j=b.openRequest(a,g,f,d,e);i=b.setupHeaders(j,a,g.data,g.params);h={id:++Ext.data.Connection.requestId,xhr:j,headers:i,options:a,async:f,timeout:setTimeout(function(){h.timedout=true;b.abort(h)},a.timeout||b.timeout)};b.requests[h.id]=h;b.latestId=h.id;if(f){j.onreadystatechange=Ext.Function.bind(b.onStateChange,b,[h])}j.send(g.data);if(!f){return b.onComplete(h)}return h}else{Ext.callback(a.callback,a.scope,[a,undefined,undefined]);return null}},upload:function(a,b,c,d){a=Ext.getDom(a);d=d||{};var e=Ext.id(),f=document.createElement("iframe"),g=[],h="multipart/form-data",i={target:a.target,method:a.method,encoding:a.encoding,enctype:a.enctype,action:a.action},j=function(b,c){k=document.createElement("input");Ext.fly(k).set({type:"hidden",value:c,name:b});a.appendChild(k);g.push(k)},k,l,m,n,o,p,q,r;Ext.fly(f).set({id:e,name:e,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL});document.body.appendChild(f);if(document.frames){document.frames[e].name=e}Ext.fly(a).set({target:e,method:"POST",enctype:h,encoding:h,action:b||i.action});if(c){l=Ext.Object.fromQueryString(c)||{};for(n in l){if(l.hasOwnProperty(n)){m=l[n];if(Ext.isArray(m)){o=m.length;for(p=0;p<o;p++){j(n,m[p])}}else{j(n,m)}}}}Ext.fly(f).on("load",Ext.Function.bind(this.onUploadComplete,this,[f,d]),null,{single:true});a.submit();Ext.fly(a).set(i);q=g.length;for(r=0;r<q;r++){Ext.removeNode(g[r])}},onUploadComplete:function(a,b){var c=this,d={responseText:"",responseXML:null},e,f;try{e=a.contentWindow.document||a.contentDocument||window.frames[a.id].document;if(e){if(e.body){if((f=e.body.firstChild)&&/pre/i.test(f.tagName)){d.responseText=f.innerText}else if(f=e.getElementsByTagName("textarea")[0]){d.responseText=f.value}else{d.responseText=e.body.textContent||e.body.innerText}}d.responseXML=e.XMLDocument||e}}catch(g){}c.fireEvent("requestcomplete",c,d,b);Ext.callback(b.success,b.scope,[d,b]);Ext.callback(b.callback,b.scope,[b,true,d]);setTimeout(function(){Ext.removeNode(a)},100)},isFormUpload:function(a){var b=this.getForm(a);if(b){return a.isUpload||/multipart\/form-data/i.test(b.getAttribute("enctype"))}return false},getForm:function(a){return Ext.getDom(a.form)||null},setOptions:function(a,b){var c=this,d=a.params||{},e=c.extraParams,f=a.urlParams,g=a.url||c.url,h=a.jsonData,i,j,k;if(Ext.isFunction(d)){d=d.call(b,a)}if(Ext.isFunction(g)){g=g.call(b,a)}g=this.setupUrl(a,g);if(!g){Ext.Error.raise({options:a,msg:"No URL specified"})}k=a.rawData||a.xmlData||h||null;if(h&&!Ext.isPrimitive(h)){k=Ext.encode(k)}if(Ext.isObject(d)){d=Ext.Object.toQueryString(d)}if(Ext.isObject(e)){e=Ext.Object.toQueryString(e)}d=d+(e?(d?"&":"")+e:"");f=Ext.isObject(f)?Ext.Object.toQueryString(f):f;d=this.setupParams(a,d);i=(a.method||c.method||(d||k?"POST":"GET")).toUpperCase();this.setupMethod(a,i);j=a.disableCaching!==false?a.disableCaching||c.disableCaching:false;if(i==="GET"&&j){g=Ext.urlAppend(g,(a.disableCachingParam||c.disableCachingParam)+"="+(new Date).getTime())}if((i=="GET"||k)&&d){g=Ext.urlAppend(g,d);d=null}if(f){g=Ext.urlAppend(g,f)}return{url:g,method:i,data:k||d||null}},setupUrl:function(a,b){var c=this.getForm(a);if(c){b=b||c.action}return b},setupParams:function(a,b){var c=this.getForm(a),d;if(c&&!this.isFormUpload(a)){d=Ext.Element.serializeForm(c);b=b?b+"&"+d:d}return b},setupMethod:function(a,b){if(this.isFormUpload(a)){return"POST"}return b},setupHeaders:function(a,b,c,d){var e=this,f=Ext.apply({},b.headers||{},e.defaultHeaders||{}),g=e.defaultPostHeader,h=b.jsonData,i=b.xmlData,j,k;if(!f["Content-Type"]&&(c||d)){if(c){if(b.rawData){g="text/plain"}else{if(i&&Ext.isDefined(i)){g="text/xml"}else if(h&&Ext.isDefined(h)){g="application/json"}}}f["Content-Type"]=g}if(e.useDefaultXhrHeader&&!f["X-Requested-With"]){f["X-Requested-With"]=e.defaultXhrHeader}try{for(j in f){if(f.hasOwnProperty(j)){k=f[j];a.setRequestHeader(j,k)}}}catch(l){e.fireEvent("exception",j,k)}return f},newRequest:function(a){var b;if((a.cors||this.cors)&&Ext.isIE&&Ext.ieVersion>=8){b=new XDomainRequest}else{b=this.getXhrInstance()}return b},openRequest:function(a,b,c,d,e){var f=this.newRequest(a);if(d){f.open(b.method,b.url,c,d,e)}else{f.open(b.method,b.url,c)}if(a.withCredentials||this.withCredentials){f.withCredentials=true}return f},getXhrInstance:function(){var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],b=0,c=a.length,d;for(;b<c;++b){try{d=a[b];d();break}catch(e){}}return d}(),isLoading:function(a){if(!a){a=this.getLatest()}if(!(a&&a.xhr)){return false}var b=a.xhr.readyState;return!(b===0||b==4)},abort:function(a){var b=this,c;if(!a){a=b.getLatest()}if(a&&b.isLoading(a)){c=a.xhr;try{c.onreadystatechange=null}catch(d){c=Ext.emptyFn}c.abort();b.clearTimeout(a);if(!a.timedout){a.aborted=true}b.onComplete(a);b.cleanup(a)}},abortAll:function(){var a=this.requests,b;for(b in a){if(a.hasOwnProperty(b)){this.abort(a[b])}}},getLatest:function(){var a=this.latestId,b;if(a){b=this.requests[a]}return b||null},onStateChange:function(a){if(a.xhr.readyState==4){this.clearTimeout(a);this.onComplete(a);this.cleanup(a)}},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(a){var b=this,c=a.options,d,e,f;try{d=b.parseStatus(a.xhr.status)}catch(g){d={success:false,isException:false}}e=d.success;if(e){f=b.createResponse(a);b.fireEvent("requestcomplete",b,f,c);Ext.callback(c.success,c.scope,[f,c])}else{if(d.isException||a.aborted||a.timedout){f=b.createException(a)}else{f=b.createResponse(a)}b.fireEvent("requestexception",b,f,c);Ext.callback(c.failure,c.scope,[f,c])}Ext.callback(c.callback,c.scope,[c,e,f]);delete b.requests[a.id];return f},parseStatus:function(a){a=a==1223?204:a;var b=a>=200&&a<300||a==304,c=false;if(!b){switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:c=true;break}}return{success:b,isException:c}},createResponse:function(a){var b=a.xhr,c={},d=b.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),e=d.length,f,g,h,i,j;while(e--){f=d[e];g=f.indexOf(":");if(g>=0){h=f.substr(0,g).toLowerCase();if(f.charAt(g+1)==" "){++g}c[h]=f.substr(g+1)}}a.xhr=null;delete a.xhr;j={request:a,requestId:a.id,status:b.status,statusText:b.statusText,getResponseHeader:function(a){return c[a.toLowerCase()]},getAllResponseHeaders:function(){return c},responseText:b.responseText,responseXML:b.responseXML};b=null;return j},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}}});Ext.define("Ext.state.Provider",{mixins:{observable:"Ext.util.Observable"},prefix:"ext-",constructor:function(a){a=a||{};var b=this;Ext.apply(b,a);b.addEvents("statechange");b.state={};b.mixins.observable.constructor.call(b)},get:function(a,b){return typeof this.state[a]=="undefined"?b:this.state[a]},clear:function(a){var b=this;delete b.state[a];b.fireEvent("statechange",b,a,null)},set:function(a,b){var c=this;c.state[a]=b;c.fireEvent("statechange",c,a,b)},decodeValue:function(a){var b=this,c=/^(a|n|d|b|s|o|e)\:(.*)$/,d=c.exec(unescape(a)),e,f,g,h,i,j;if(!d||!d[1]){return}f=d[1];a=d[2];switch(f){case"e":return null;case"n":return parseFloat(a);case"d":return new Date(Date.parse(a));case"b":return a=="1";case"a":e=[];if(a!=""){h=a.split("^");i=h.length;for(j=0;j<i;j++){a=h[j];e.push(b.decodeValue(a))}}return e;case"o":e={};if(a!=""){h=a.split("^");i=h.length;for(j=0;j<i;j++){a=h[j];g=a.split("=");e[g[0]]=b.decodeValue(g[1])}}return e;default:return a}},encodeValue:function(a){var b="",c=0,d,e,f;if(a==null){return"e:1"}else if(typeof a=="number"){d="n:"+a}else if(typeof a=="boolean"){d="b:"+(a?"1":"0")}else if(Ext.isDate(a)){d="d:"+a.toGMTString()}else if(Ext.isArray(a)){for(e=a.length;c<e;c++){b+=this.encodeValue(a[c]);if(c!=e-1){b+="^"}}d="a:"+b}else if(typeof a=="object"){for(f in a){if(typeof a[f]!="function"&&a[f]!==undefined){b+=f+"="+this.encodeValue(a[f])+"^"}}d="o:"+b.substring(0,b.length-1)}else{d="s:"+a}return escape(d)}});Ext.define("Ext.ux.desktop.Module",{mixins:{observable:"Ext.util.Observable"},constructor:function(a){this.mixins.observable.constructor.call(this,a);this.init()},init:Ext.emptyFn});Ext.define("MyDesktop.VideoWindow",{extend:"Ext.ux.desktop.Module",uses:["Ext.ux.desktop.Video"],id:"video",t:"About Video",ic:"icon-video",windowId:"video-window",tipWidth:160,tipHeight:96,init:function(){this.launcher={text:this.t,iconCls:this.ic}},createWindow:function(){var a=this,b=a.app.getDesktop(),c=b.getWindow(a.windowId);if(!c){c=b.createWindow({id:a.windowId,title:this.t,width:740,height:480,iconCls:this.ic,animCollapse:false,border:false,layout:"fit",items:[{xtype:"video",id:"video-player",src:[{src:"http://www.julfysoft.elitno.net/MVI_3275.mp4",type:"video/mp4"},{src:"http://www.julfysoft.elitno.net/MVI_3275.ogv",type:"video/ogg"}],autobuffer:true,autoplay:true,controls:true,listeners:{afterrender:function(b){a.videoEl=b.video.dom;if(b.supported){a.tip=new Ext.tip.ToolTip({anchor:"bottom",dismissDelay:0,height:a.tipHeight,width:a.tipWidth,renderTpl:['<canvas width="',a.tipWidth,'" height="',a.tipHeight,'">'],renderSelectors:{body:"canvas"},listeners:{afterrender:a.onTooltipRender,show:a.renderPreview,scope:a}})}}}}],listeners:{beforedestroy:function(){a.tip=a.ctx=a.videoEl=null}}})}if(a.tip){a.tip.setTarget(c.taskButton.el)}return c},onTooltipRender:function(a){var b=a.body.dom,c=this;c.ctx=b.getContext&&b.getContext("2d")},renderPreview:function(){var a=this;if(a.tip&&!a.tip.isVisible()||!a.videoEl){return}if(a.ctx){try{a.ctx.drawImage(a.videoEl,0,0,a.tipWidth,a.tipHeight)}catch(b){}}Ext.Function.defer(a.renderPreview,20,a)}});Ext.define("Ext.chart.Label",{requires:["Ext.draw.Color"],colorStringRe:/url\s*\(\s*#([^\/)]+)\s*\)/,constructor:function(a){var b=this;b.label=Ext.applyIf(b.label||{},{display:"none",color:"#000",field:"name",minMargin:50,font:"11px Helvetica, sans-serif",orientation:"horizontal",renderer:function(a){return a}});if(b.label.display!=="none"){b.labelsGroup=b.chart.surface.getGroup(b.seriesId+"-labels")}},renderLabels:function(){var a=this,b=a.chart,c=b.gradients,d=a.items,e=b.animate,f=a.label,g=f.display,h=f.color,i=[].concat(f.field),j=a.labelsGroup,k=(j||0)&&j.length,l=a.chart.getChartStore(),m=l.getCount(),n=(d||0)&&d.length,o=n/m,p=(c||0)&&c.length,q=Ext.draw.Color,r=[],s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;if(g=="none"){return}if(n==0){while(k--){r.push(k)}}else{for(t=0,u=0,v=0;t<m;t++){w=0;for(x=0;x<o;x++){C=d[u];D=j.getAt(v);E=l.getAt(t);while(this.__excludes&&this.__excludes[w]){w++}if(!C&&D){D.hide(true);v++}if(C&&i[x]){if(!D){D=a.onCreateLabel(E,C,t,g,x,w)}a.onPlaceLabel(D,E,C,t,g,e,x,w);v++;if(f.contrast&&C.sprite){F=C.sprite;if(F._endStyle){J=F._endStyle.fill}else if(F._to){J=F._to.fill}else{J=F.attr.fill}J=J||F.attr.fill;G=q.fromString(J);if(J&&!G){J=J.match(a.colorStringRe)[1];for(y=0;y<p;y++){s=c[y];if(s.id==J){B=0;z=0;for(A in s.stops){B++;z+=q.fromString(s.stops[A].color).getGrayscale()}H=z/B/255;break}}}else{H=G.getGrayscale()/255}if(D.isOutside){H=1}I=q.fromString(D.attr.color||D.attr.fill).getHSL();I[2]=H>.5?.2:.8;D.setAttributes({fill:String(q.fromHSL.apply({},I))},true)}}u++;w++}}k=j.length;while(k>v){r.push(v);v++}}a.hideLabels(r)},hideLabels:function(a){var b=this.labelsGroup,c=!!a&&a.length;if(!b){return}if(c===false){c=b.getCount();while(c--){b.getAt(c).hide(true)}}else{while(c--){b.getAt(a[c]).hide(true)}}}});Ext.define("Ext.chart.theme.Theme",{requires:["Ext.draw.Color"],theme:"Base",themeAttrs:false,initTheme:function(a){var b=this,c=Ext.chart.theme,d,e;if(a){a=a.split(":");for(d in c){if(d==a[0]){e=a[1]=="gradients";b.themeAttrs=new c[d]({useGradients:e});if(e){b.gradients=b.themeAttrs.gradients}if(b.themeAttrs.background){b.background=b.themeAttrs.background}return}}Ext.Error.raise('No theme found named "'+a+'"')}}},function(){(function(){Ext.chart.theme=function(a,b){a=a||{};var c=0,d=+(new Date),e,f,g,h,i,j,k,l,m=[],n,o;if(a.baseColor){n=Ext.draw.Color.fromString(a.baseColor);o=n.getHSL()[2];if(o<.15){n=n.getLighter(.3)}else if(o<.3){n=n.getLighter(.15)}else if(o>.85){n=n.getDarker(.3)}else if(o>.7){n=n.getDarker(.15)}a.colors=[n.getDarker(.3).toString(),n.getDarker(.15).toString(),n.toString(),n.getLighter(.15).toString(),n.getLighter(.3).toString()];delete a.baseColor}if(a.colors){f=a.colors.slice();i=b.markerThemes;h=b.seriesThemes;e=f.length;b.colors=f;for(;c<e;c++){g=f[c];k=i[c]||{};j=h[c]||{};k.fill=j.fill=k.stroke=j.stroke=g;i[c]=k;h[c]=j}b.markerThemes=i.slice(0,e);b.seriesThemes=h.slice(0,e)}for(l in b){if(l in a){if(Ext.isObject(a[l])&&Ext.isObject(b[l])){Ext.apply(b[l],a[l])}else{b[l]=a[l]}}}if(a.useGradients){f=b.colors||function(){var a=[];for(c=0,h=b.seriesThemes,e=h.length;c<e;c++){a.push(h[c].fill||h[c].stroke)}return a}();for(c=0,e=f.length;c<e;c++){n=Ext.draw.Color.fromString(f[c]);if(n){g=n.getDarker(.1).toString();n=n.toString();l="theme-"+n.substr(1)+"-"+g.substr(1)+"-"+d;m.push({id:l,angle:45,stops:{0:{color:n.toString()},100:{color:g.toString()}}});f[c]="url(#"+l+")"}}b.gradients=m;b.colors=f}Ext.apply(this,b)}})()});Ext.define("Ext.chart.theme.Base",{requires:["Ext.chart.theme.Theme"],constructor:function(a){Ext.chart.theme.call(this,a,{background:false,axis:{stroke:"#444","stroke-width":1},axisLabelTop:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(a){return a}},axisLabelRight:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(a){return a}},axisLabelBottom:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(a){return a}},axisLabelLeft:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(a){return a}},axisTitleTop:{font:"bold 18px Arial",fill:"#444"},axisTitleRight:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},axisTitleBottom:{font:"bold 18px Arial",fill:"#444"},axisTitleLeft:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},series:{"stroke-width":0},seriesLabel:{font:"12px Arial",fill:"#333"},marker:{stroke:"#555",radius:3,size:3},colors:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],seriesThemes:[{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#a66111"}],markerThemes:[{fill:"#115fa6",type:"circle"},{fill:"#94ae0a",type:"cross"},{fill:"#115fa6",type:"plus"},{fill:"#94ae0a",type:"circle"},{fill:"#a61120",type:"cross"}]})}},function(){var a=["#b1da5a","#4ce0e7","#e84b67","#da5abd","#4d7fe6","#fec935"],b=["Green","Sky","Red","Purple","Blue","Yellow"],c=0,d=0,e=a.length,f=Ext.chart.theme,g=[["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]],h=g.length;for(;c<e;c++){f[b[c]]=function(a){return Ext.extend(f.Base,{constructor:function(b){f.Base.prototype.constructor.call(this,Ext.apply({baseColor:a},b))}})}(a[c])}for(c=0;c<h;c++){f["Category"+(c+1)]=function(a){return Ext.extend(f.Base,{constructor:function(b){f.Base.prototype.constructor.call(this,Ext.apply({colors:a},b))}})}(g[c])}});Ext.define("Ext.util.ComponentDragger",{extend:"Ext.dd.DragTracker",autoStart:500,constructor:function(a,b){this.comp=a;this.initialConstrainTo=b.constrainTo;this.callParent([b])},onStart:function(a){var b=this,c=b.comp;this.startPosition=c.el.getXY();if(c.ghost&&!c.liveDrag){b.proxy=c.ghost();b.dragTarget=b.proxy.header.el}if(b.constrain||b.constrainDelegate){b.constrainTo=b.calculateConstrainRegion()}if(c.beginDrag){c.beginDrag()}},calculateConstrainRegion:function(){var a=this,b=a.comp,c=a.initialConstrainTo,d,e,f=a.proxy?a.proxy.el:b.el,g=!a.constrainDelegate&&f.shadow&&!f.shadowDisabled?f.shadow.getShadowSize():0;if(!(c instanceof Ext.util.Region)){c=Ext.fly(c).getViewRegion()}if(g){c.adjust(g[0],-g[1],-g[2],g[3])}if(!a.constrainDelegate){d=Ext.fly(a.dragTarget).getRegion();e=f.getRegion();c.adjust(d.top-e.top,d.right-e.right,d.bottom-e.bottom,d.left-e.left)}return c},onDrag:function(a){var b=this,c=b.proxy&&!b.comp.liveDrag?b.proxy:b.comp,d=b.getOffset(b.constrain||b.constrainDelegate?"dragTarget":null);c.setPagePosition(b.startPosition[0]+d[0],b.startPosition[1]+d[1])},onEnd:function(a){var b=this.comp;if(this.proxy&&!b.liveDrag){b.unghost()}if(b.endDrag){b.endDrag()}}});Ext.define("Ext.util.Region",{requires:["Ext.util.Offset"],statics:{getRegion:function(a){return Ext.fly(a).getPageBox(true)},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(a,b,c,d){var e=this;e.y=e.top=e[1]=a;e.right=b;e.bottom=c;e.x=e.left=e[0]=d},contains:function(a){var b=this;return a.x>=b.x&&a.right<=b.right&&a.y>=b.y&&a.bottom<=b.bottom},intersect:function(a){var b=this,c=Math.max(b.y,a.y),d=Math.min(b.right,a.right),e=Math.min(b.bottom,a.bottom),f=Math.max(b.x,a.x);if(e>c&&d>f){return new this.self(c,d,e,f)}else{return false}},union:function(a){var b=this,c=Math.min(b.y,a.y),d=Math.max(b.right,a.right),e=Math.max(b.bottom,a.bottom),f=Math.min(b.x,a.x);return new this.self(c,d,e,f)},constrainTo:function(a){var b=this,c=Ext.Number.constrain;b.top=b.y=c(b.top,a.y,a.bottom);b.bottom=c(b.bottom,a.y,a.bottom);b.left=b.x=c(b.left,a.x,a.right);b.right=c(b.right,a.x,a.right);return b},adjust:function(a,b,c,d){var e=this;e.top=e.y+=a;e.left=e.x+=d;e.right+=b;e.bottom+=c;return e},getOutOfBoundOffset:function(a,b){if(!Ext.isObject(a)){if(a=="x"){return this.getOutOfBoundOffsetX(b)}else{return this.getOutOfBoundOffsetY(b)}}else{b=a;var c=new Ext.util.Offset;c.x=this.getOutOfBoundOffsetX(b.x);c.y=this.getOutOfBoundOffsetY(b.y);return c}},getOutOfBoundOffsetX:function(a){if(a<=this.x){return this.x-a}else if(a>=this.right){return this.right-a}return 0},getOutOfBoundOffsetY:function(a){if(a<=this.y){return this.y-a}else if(a>=this.bottom){return this.bottom-a}return 0},isOutOfBound:function(a,b){if(!Ext.isObject(a)){if(a=="x"){return this.isOutOfBoundX(b)}else{return this.isOutOfBoundY(b)}}else{b=a;return this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y)}},isOutOfBoundX:function(a){return a<this.x||a>this.right},isOutOfBoundY:function(a){return a<this.y||a>this.bottom},restrict:function(a,b,c){if(Ext.isObject(a)){var d;c=b;b=a;if(b.copy){d=b.copy()}else{d={x:b.x,y:b.y}}d.x=this.restrictX(b.x,c);d.y=this.restrictY(b.y,c);return d}else{if(a=="x"){return this.restrictX(b,c)}else{return this.restrictY(b,c)}}},restrictX:function(a,b){if(!b){b=1}if(a<=this.x){a-=(a-this.x)*b}else if(a>=this.right){a-=(a-this.right)*b}return a},restrictY:function(a,b){if(!b){b=1}if(a<=this.y){a-=(a-this.y)*b}else if(a>=this.bottom){a-=(a-this.bottom)*b}return a},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(a){var b=this;b.top=b.y=b[1]=a.y;b.right=a.right;b.bottom=a.bottom;b.left=b.x=b[0]=a.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(a,b){if(arguments.length==1){b=a.y;a=a.x}var c=this;c.top=c.y+=b;c.right+=a;c.bottom+=b;c.left=c.x+=a;return c},round:function(){var a=this;a.top=a.y=Math.round(a.y);a.right=Math.round(a.right);a.bottom=Math.round(a.bottom);a.left=a.x=Math.round(a.x);return a},equals:function(a){return this.top==a.top&&this.right==a.right&&this.bottom==a.bottom&&this.left==a.left}});Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(a){Ext.apply(this,a||{});this.all=new Ext.util.HashMap;this.types={}},get:function(a){return this.all.get(a)},register:function(a){var b=this.all,c=b.getKey(a);if(b.containsKey(c)){Ext.Error.raise('Registering duplicate id "'+c+'" with this manager')}this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(a,b){this.types[a]=b;b[this.typeName]=a},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,b){var c=a[this.typeName]||a.type||b,d=this.types[c];if(d===undefined){Ext.Error.raise("The '"+c+"' type has not been registered with this manager")}return new d(a)},onAvailable:function(a,b,c){var d=this.all,e,f;if(d.containsKey(a)){e=d.get(a);b.call(c||e,e)}else{f=function(e,g,h){if(g==a){b.call(c||h,h);d.un("add",f)}};d.on("add",f)}},each:function(a,b){this.all.each(a,b||this)},getCount:function(){return this.all.getCount()}});Ext.define("Ext.ModelManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.ModelMgr",requires:["Ext.data.association.Association"],singleton:true,typeName:"mtype",associationStack:[],registerType:function(a,b){var c=b.prototype,d;if(c&&c.isModel){d=b}else{if(!b.extend){b.extend="Ext.data.Model"}d=Ext.define(a,b)}this.types[a]=d;return d},onModelDefined:function(a){var b=this.associationStack,c=b.length,d=[],e,f,g;for(f=0;f<c;f++){e=b[f];if(e.associatedModel==a.modelName){d.push(e)}}for(f=0,c=d.length;f<c;f++){g=d[f];this.types[g.ownerModel].prototype.associations.add(Ext.data.association.Association.create(g));Ext.Array.remove(b,g)}},registerDeferredAssociation:function(a){this.associationStack.push(a)},getModel:function(a){var b=a;if(typeof b=="string"){b=this.types[b]}return b},create:function(a,b,c){var d=typeof b=="function"?b:this.types[b||a.name];return new d(a,c)}},function(){Ext.regModel=function(){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn('Ext.regModel has been deprecated. Models can now be created by extending Ext.data.Model: Ext.define("MyModel", {extend: "Ext.data.Model", fields: []});.')}return this.ModelManager.registerType.apply(this.ModelManager,arguments)}});Ext.define("Ext.data.Types",{singleton:true,requires:["Ext.data.SortTypes"]},function(){var a=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:a.none,type:"auto"},STRING:{convert:function(a){var b=this.useNull?null:"";return a===undefined||a===null?b:String(a)},sortType:a.asUCString,type:"string"},INT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseInt(String(a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"int"},FLOAT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseFloat(String(a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"float"},BOOL:{convert:function(a){if(this.useNull&&(a===undefined||a===null||a==="")){return null}return a===true||a==="true"||a==1},sortType:a.none,type:"bool"},DATE:{convert:function(a){var b=this.dateFormat,c;if(!a){return null}if(Ext.isDate(a)){return a}if(b){if(b=="timestamp"){return new Date(a*1e3)}if(b=="time"){return new Date(parseInt(a,10))}return Ext.Date.parse(a,b)}c=Date.parse(a);return c?new Date(c):null},sortType:a.asDate,type:"date"}});Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})});Ext.define("Ext.data.Field",{requires:["Ext.data.Types","Ext.data.SortTypes"],alias:"data.field",isField:true,constructor:function(a){var b=this,c=Ext.data.Types,d;if(Ext.isString(a)){a={name:a}}Ext.apply(b,a);d=b.sortType;if(b.type){if(Ext.isString(b.type)){b.type=c[b.type.toUpperCase()]||c.AUTO}}else{b.type=c.AUTO}if(Ext.isString(d)){b.sortType=Ext.data.SortTypes[d]}else if(Ext.isEmpty(d)){b.sortType=b.type.sortType}if(!a.hasOwnProperty("convert")){b.convert=b.type.convert}else if(!b.convert&&b.type.convert&&!a.hasOwnProperty("defaultValue")){b.defaultValue=b.type.convert(b.defaultValue)}if(a.convert){b.hasCustomConvert=true}},dateFormat:null,useNull:false,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:true,persist:true});Ext.define("Ext.util.Sortable",{isSortable:true,defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],initSortable:function(){var a=this,b=a.sorters;a.sorters=new Ext.util.AbstractMixedCollection(false,function(a){return a.id||a.property});if(b){a.sorters.addAll(a.decodeSorters(b))}},sort:function(a,b,c,d){var e=this,f,g,h;if(Ext.isArray(a)){d=c;c=b;h=a}else if(Ext.isObject(a)){d=c;c=b;h=[a]}else if(Ext.isString(a)){f=e.sorters.get(a);if(!f){f={property:a,direction:b};h=[f]}else if(b===undefined){f.toggle()}else{f.setDirection(b)}}if(h&&h.length){h=e.decodeSorters(h);if(Ext.isString(c)){if(c==="prepend"){a=e.sorters.clone().items;e.sorters.clear();e.sorters.addAll(h);e.sorters.addAll(a)}else{e.sorters.addAll(h)}}else{e.sorters.clear();e.sorters.addAll(h)}}if(d!==false){e.onBeforeSort(h);a=e.sorters.items;if(a.length){e.doSort(e.generateComparator())}}return a},generateComparator:function(){var a=this.sorters.getRange();return a.length?this.createComparator(a):this.emptyComparator},createComparator:function(a){return function(b,c){var d=a[0].sort(b,c),e=a.length,f=1;for(;f<e;f++){d=d||a[f].sort.call(this,b,c)}return d}},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(a){if(!Ext.isArray(a)){if(a===undefined){a=[]}else{a=[a]}}var b=a.length,c=Ext.util.Sorter,d=this.model?this.model.prototype.fields:null,e,f,g;for(g=0;g<b;g++){f=a[g];if(!(f instanceof c)){if(Ext.isString(f)){f={property:f}}Ext.applyIf(f,{root:this.sortRoot,direction:"ASC"});if(f.fn){f.sorterFn=f.fn}if(typeof f=="function"){f={sorterFn:f}}if(d&&!f.transform){e=d.get(f.property);f.transform=e?e.sortType:undefined}a[g]=new Ext.util.Sorter(f)}}return a},getSorters:function(){return this.sorters.items},getFirstSorter:function(){var a=this.sorters.items,b=a.length,c=0,d;for(;c<b;++c){d=a[c];if(!d.isGrouper){return d}}return null}});Ext.define("Ext.util.AbstractMixedCollection",{requires:["Ext.util.Filter"],mixins:{observable:"Ext.util.Observable"},isMixedCollection:true,generation:0,constructor:function(a,b){var c=this;c.items=[];c.map={};c.keys=[];c.length=0;c.allowFunctions=a===true;if(b){c.getKey=b}c.mixins.observable.constructor.call(c)},allowFunctions:false,add:function(a,b){var c=this,d=b,e=a,f;if(arguments.length==1){d=e;e=c.getKey(d)}if(typeof e!="undefined"&&e!==null){f=c.map[e];if(typeof f!="undefined"){return c.replace(e,d)}c.map[e]=d}c.generation++;c.length++;c.items.push(d);c.keys.push(e);if(c.hasListeners.add){c.fireEvent("add",c.length-1,d,e)}return d},getKey:function(a){return a.id},replace:function(a,b){var c=this,d,e;if(arguments.length==1){b=arguments[0];a=c.getKey(b)}d=c.map[a];if(typeof a=="undefined"||a===null||typeof d=="undefined"){return c.add(a,b)}c.generation++;e=c.indexOfKey(a);c.items[e]=b;c.map[a]=b;if(c.hasListeners.replace){c.fireEvent("replace",a,d,b)}return b},addAll:function(a){var b=this,c=0,d,e,f;if(arguments.length>1||Ext.isArray(a)){d=arguments.length>1?arguments:a;for(e=d.length;c<e;c++){b.add(d[c])}}else{for(f in a){if(a.hasOwnProperty(f)){if(b.allowFunctions||typeof a[f]!="function"){b.add(f,a[f])}}}}},each:function(a,b){var c=[].concat(this.items),d=0,e=c.length,f;for(;d<e;d++){f=c[d];if(a.call(b||f,f,d,e)===false){break}}},eachKey:function(a,b){var c=this.keys,d=this.items,e=0,f=c.length;for(;e<f;e++){a.call(b||window,c[e],d[e],e,f)}},findBy:function(a,b){var c=this.keys,d=this.items,e=0,f=d.length;for(;e<f;e++){if(a.call(b||window,d[e],c[e])){return d[e]}}return null},find:function(){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead.")}return this.findBy.apply(this,arguments)},insert:function(a,b,c){var d=this,e=b,f=c;if(arguments.length==2){f=e;e=d.getKey(f)}if(d.containsKey(e)){d.suspendEvents();d.removeAtKey(e);d.resumeEvents()}if(a>=d.length){return d.add(e,f)}d.generation++;d.length++;Ext.Array.splice(d.items,a,0,f);if(typeof e!="undefined"&&e!==null){d.map[e]=f}Ext.Array.splice(d.keys,a,0,e);if(d.hasListeners.add){d.fireEvent("add",a,f,e)}return f},remove:function(a){this.generation++;return this.removeAt(this.indexOf(a))},removeAll:function(a){a=[].concat(a);var b,c=a.length;for(b=0;b<c;b++){this.remove(a[b])}return this},removeAt:function(a){var b=this,c,d;if(a<b.length&&a>=0){b.length--;c=b.items[a];Ext.Array.erase(b.items,a,1);d=b.keys[a];if(typeof d!="undefined"){delete b.map[d]}Ext.Array.erase(b.keys,a,1);if(b.hasListeners.remove){b.fireEvent("remove",c,d)}b.generation++;return c}return false},removeAtKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){return Ext.Array.indexOf(this.items,a)},indexOfKey:function(a){return Ext.Array.indexOf(this.keys,a)},get:function(a){var b=this,c=b.map[a],d=c!==undefined?c:typeof a=="number"?b.items[a]:undefined;return typeof d!="function"||b.allowFunctions?d:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){return typeof this.map[this.getKey(a)]!="undefined"},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){var a=this;a.length=0;a.items=[];a.keys=[];a.map={};a.generation++;if(a.hasListeners.clear){a.fireEvent("clear")}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(a,b,c,d){var e=this.extractValues(a,b),f=e.length,g=0,h;c=c||0;d=d||d===0?d:f-1;for(h=c;h<=d;h++){g+=e[h]}return g},collect:function(a,b,c){var d=this.extractValues(a,b),e=d.length,f={},g=[],h,i,j;for(j=0;j<e;j++){h=d[j];i=String(h);if((c||!Ext.isEmpty(h))&&!f[i]){f[i]=true;g.push(h)}}return g},extractValues:function(a,b){var c=this.items;if(b){c=Ext.Array.pluck(c,b)}return Ext.Array.pluck(c,a)},getRange:function(a,b){var c=this,d=c.items,e=[],f;if(d.length<1){return e}a=a||0;b=Math.min(typeof b=="undefined"?c.length-1:b,c.length-1);if(a<=b){for(f=a;f<=b;f++){e[e.length]=d[f]}}else{for(f=a;f>=b;f--){e[e.length]=d[f]}}return e},filter:function(a,b,c,d){var e=[],f;if(Ext.isString(a)){e.push(new Ext.util.Filter({property:a,value:b,anyMatch:c,caseSensitive:d}))}else if(Ext.isArray(a)||a instanceof Ext.util.Filter){e=e.concat(a)}f=function(a){var b=true,c=e.length,d,f,g,h;for(d=0;d<c;d++){f=e[d];g=f.filterFn;h=f.scope;b=b&&g.call(h,a)}return b};return this.filterBy(f)},filterBy:function(a,b){var c=this,d=new this.self,e=c.keys,f=c.items,g=f.length,h;d.getKey=c.getKey;for(h=0;h<g;h++){if(a.call(b||c,f[h],e[h])){d.add(e[h],f[h])}}return d},findIndex:function(a,b,c,d,e){if(Ext.isEmpty(b,false)){return-1}b=this.createValueMatcher(b,d,e);return this.findIndexBy(function(c){return c&&b.test(c[a])},null,c)},findIndexBy:function(a,b,c){var d=this,e=d.keys,f=d.items,g=c||0,h=f.length;for(;g<h;g++){if(a.call(b||d,f[g],e[g])){return g}}return-1},createValueMatcher:function(a,b,c,d){if(!a.exec){var e=Ext.String.escapeRegex;a=String(a);if(b===true){a=e(a)}else{a="^"+e(a);if(d===true){a+="$"}}a=new RegExp(a,c?"":"i")}return a},clone:function(){var a=this,b=new this.self,c=a.keys,d=a.items,e=0,f=d.length;for(;e<f;e++){b.add(c[e],d[e])}b.getKey=a.getKey;return b}});Ext.define("Ext.util.MixedCollection",{extend:"Ext.util.AbstractMixedCollection",mixins:{sortable:"Ext.util.Sortable"},constructor:function(){var a=this;a.callParent(arguments);a.addEvents("sort");a.mixins.sortable.initSortable.call(a)},doSort:function(a){this.sortBy(a)},_sort:function(a,b,c){var d=this,e,f,g=String(b).toUpperCase()=="DESC"?-1:1,h=[],i=d.keys,j=d.items;c=c||function(a,b){return a-b};for(e=0,f=j.length;e<f;e++){h[h.length]={key:i[e],value:j[e],index:e}}Ext.Array.sort(h,function(b,d){var e=c(b[a],d[a])*g;if(e===0){e=b.index<d.index?-1:1}return e});for(e=0,f=h.length;e<f;e++){j[e]=h[e].value;i[e]=h[e].key}d.fireEvent("sort",d)},sortBy:function(a){var b=this,c=b.items,d=b.keys,e=c.length,f=[],g;for(g=0;g<e;g++){f[g]={key:d[g],value:c[g],index:g}}Ext.Array.sort(f,function(b,c){var d=a(b.value,c.value);if(d===0){d=b.index<c.index?-1:1}return d});for(g=0;g<e;g++){c[g]=f[g].value;d[g]=f[g].key}b.fireEvent("sort",b,c,d)},findInsertionIndex:function(a,b){var c=this,d=c.items,e=0,f=d.length-1,g,h;if(!b){b=c.generateComparator()}while(e<=f){g=e+f>>1;h=b(a,d[g]);if(h>=0){e=g+1}else if(h<0){f=g-1}}return e},reorder:function(a){var b=this,c=b.items,d=0,e=c.length,f=[],g=[],h;b.suspendEvents();for(h in a){f[a[h]]=c[h]}for(d=0;d<e;d++){if(a[d]==undefined){g.push(c[d])}}for(d=0;d<e;d++){if(f[d]==undefined){f[d]=g.shift()}}b.clear();b.addAll(f);b.resumeEvents();b.fireEvent("sort",b)},sortByKey:function(a,b){this._sort("key",a,b||function(a,b){var c=String(a).toUpperCase(),d=String(b).toUpperCase();return c>d?1:c<d?-1:0})}});Ext.define("Ext.data.Errors",{extend:"Ext.util.MixedCollection",isValid:function(){return this.length===0},getByField:function(a){var b=[],c,d,e;for(e=0;e<this.length;e++){c=this.items[e];if(c.field==a){b.push(c)}}return b}});Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:"Ext.util.Observable"},requires:["Ext.ModelManager","Ext.data.IdGenerator","Ext.data.Field","Ext.data.Errors","Ext.data.Operation","Ext.data.validations","Ext.util.MixedCollection"],compareConvertFields:function(a,b){var c=a.convert&&a.type&&a.convert!==a.type.convert,d=b.convert&&b.type&&b.convert!==b.type.convert;if(c&&!d){return 1}if(!c&&d){return-1}return 0},itemNameFn:function(a){return a.name},onClassExtended:function(a,b,c){var d=c.onBeforeCreated;c.onBeforeCreated=function(a,b){var e=this,f=Ext.getClassName(a),g=a.prototype,h=a.prototype.superclass,i=b.validations||[],j=b.fields||[],k,l=b.associations||[],m=function(a,b){var c=0,d,e;if(a){a=Ext.Array.from(a);for(d=a.length;c<d;++c){e=a[c];if(!Ext.isObject(e)){e={model:e}}e.type=b;l.push(e)}}},n=b.idgen,o=new Ext.util.MixedCollection(false,g.itemNameFn),p=new Ext.util.MixedCollection(false,g.itemNameFn),q=h.validations,r=h.fields,s=h.associations,t,u,v,w=[],x=b.idProperty||a.prototype.idProperty,y=function(a,b,c){var d,e;if(o.events.add.firing){e=a;d=b}else{d=c;e=b.originalIndex}d.originalIndex=e;if(d.mapping===x||d.mapping==null&&d.name===x){d.defaultValue=undefined}},z=b.proxy||a.prototype.proxy||a.prototype.defaultProxyType,A=function(){o.sortBy(g.compareConvertFields)};a.modelName=f;g.modelName=f;if(q){i=q.concat(i)}b.validations=i;if(r){j=r.items.concat(j)}o.on({add:y,replace:y});for(u=0,v=j.length;u<v;++u){k=j[u];o.add(k.isField?k:new Ext.data.Field(k))}if(!o.get(x)){o.add(new Ext.data.Field(x))}A();o.on({add:A,replace:A});b.fields=o;if(n){b.idgen=Ext.data.IdGenerator.get(n)}m(b.belongsTo,"belongsTo");delete b.belongsTo;m(b.hasMany,"hasMany");delete b.hasMany;m(b.hasOne,"hasOne");delete b.hasOne;if(s){l=s.items.concat(l)}for(u=0,v=l.length;u<v;++u){w.push("association."+l[u].type.toLowerCase())}if(z&&!z.isProxy){if(typeof z!=="string"&&!z.type){Ext.log.warn(f+": proxy type is "+z.type)}w.push("proxy."+(typeof z==="string"?z:z.type))}Ext.require(w,function(){Ext.ModelManager.registerType(f,a);for(u=0,v=l.length;u<v;++u){t=l[u];if(t.isAssociation){t=Ext.applyIf({ownerModel:f,associatedModel:t.model},t.initialConfig)}else{Ext.apply(t,{ownerModel:f,associatedModel:t.model})}if(Ext.ModelManager.getModel(t.model)===undefined){Ext.ModelManager.registerDeferredAssociation(t)}else{p.add(Ext.data.association.Association.create(t))}}b.associations=p;d.call(e,a,b,c);a.setProxy(z);Ext.ModelManager.onModelDefined(a)})}},inheritableStatics:{setProxy:function(a){if(!a.isProxy){if(typeof a=="string"){a={type:a}}a=Ext.createByAlias("proxy."+a.type,a)}a.setModel(this);this.proxy=this.prototype.proxy=a;return a},getProxy:function(){return this.proxy},setFields:function(a,b,c){var d=this,e=d.prototype,f=e.fields,g=a?a.length:0,h=0;if(b){e.idProperty=b}if(c){e.clientIdProperty=c}if(f){f.clear()}else{f=d.prototype.fields=new Ext.util.MixedCollection(false,function(a){return a.name})}for(;h<g;h++){f.add(new Ext.data.Field(a[h]))}if(!f.get(e.idProperty)){f.add(new Ext.data.Field(e.idProperty))}d.fields=f;return f},getFields:function(){return this.prototype.fields.items},load:function(a,b){b=Ext.apply({},b);b=Ext.applyIf(b,{action:"read",id:a});var c=new Ext.data.Operation(b),d=b.scope||this,e=null,f;f=function(a){if(a.wasSuccessful()){e=a.getRecords()[0];Ext.callback(b.success,d,[e,a])}else{Ext.callback(b.failure,d,[e,a])}Ext.callback(b.callback,d,[e,a])};this.proxy.read(c,f,this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(a){var b=[this.PREFIX,"-",this.AUTO_ID++].join("");a.phantom=true;a.internalId=b;return b}},idgen:{isGenerator:true,type:"default",generate:function(){return null},getRecId:function(a){return a.modelName+"-"+a.internalId}},editing:false,dirty:false,persistenceProperty:"data",evented:false,isModel:true,phantom:false,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",constructor:function(a,b,c,d){a=a||{};var e=this,f,g,h,i,j,k,l,m;e.internalId=b||b===0?b:Ext.data.Model.id(e);e.raw=c||a;if(!e.data){e.data={}}e.modified={};if(e.persistanceProperty){Ext.log.warn("Ext.data.Model: persistanceProperty has been deprecated. Use persistenceProperty instead.");e.persistenceProperty=e.persistanceProperty}e[e.persistenceProperty]=d||{};e.mixins.observable.constructor.call(e);if(!d){f=e.fields.items;g=f.length;m=0;l=e[e.persistenceProperty];if(Ext.isArray(a)){for(;m<g;m++){h=f[m];i=h.name;j=a[h.originalIndex];if(j===undefined){j=h.defaultValue}if(h.convert){j=h.convert(j,e)}if(j!==undefined){l[i]=j}}}else{for(;m<g;m++){h=f[m];i=h.name;j=a[i];if(j===undefined){j=h.defaultValue}if(h.convert){j=h.convert(j,e)}if(j!==undefined){l[i]=j}}}}e.stores=[];if(e.getId()){e.phantom=false}else if(e.phantom){k=e.idgen.generate();if(k!==null){e.setId(k)}}e.dirty=false;e.modified={};if(typeof e.init=="function"){e.init()}e.id=e.idgen.getRecId(e)},get:function(a){return this[this.persistenceProperty][a]},_singleProp:{},set:function(a,b){var c=this,d=c[c.persistenceProperty],e=c.fields,f=c.modified,g=typeof a=="string",h,i,j,k,l,m,n,o,p,q;if(g){q=c._singleProp;q[a]=b}else{q=a}for(m in q){if(q.hasOwnProperty(m)){p=q[m];if(e&&(i=e.get(m))&&i.convert){p=i.convert(p,c)}h=d[m];if(c.isEqual(h,p)){continue}d[m]=p;(l||(l=[])).push(m);if(i&&i.persist){if(f.hasOwnProperty(m)){if(c.isEqual(f[m],p)){delete f[m];c.dirty=false;for(k in f){if(f.hasOwnProperty(k)){c.dirty=true;break}}}}else{c.dirty=true;f[m]=h}}if(m==c.idProperty){j=true;n=h;o=p}}}if(g){delete q[a]}if(j){c.fireEvent("idchanged",c,n,o)}if(!c.editing&&l){c.afterEdit(l)}return l||null},copyFrom:function(a){if(a){var b=this,c=b.fields.items,d=c.length,e,f=0,g=b[b.persistenceProperty],h=a[a.persistenceProperty],i;for(;f<d;f++){e=c[f];i=h[e.name];if(i!==undefined){g[e.name]=i}}if(b.phantom&&!a.phantom){b.setId(a.getId())}}},isEqual:function(a,b){if(Ext.isDate(a)&&Ext.isDate(b)){return Ext.Date.isEqual(a,b)}return a===b},beginEdit:function(){var a=this;if(!a.editing){a.editing=true;a.dirtySave=a.dirty;a.dataSave=Ext.apply({},a[a.persistenceProperty]);a.modifiedSave=Ext.apply({},a.modified)}},cancelEdit:function(){var a=this;if(a.editing){a.editing=false;a.modified=a.modifiedSave;a[a.persistenceProperty]=a.dataSave;a.dirty=a.dirtySave;delete a.modifiedSave;delete a.dataSave;delete a.dirtySave}},endEdit:function(a,b){var c=this,d;if(c.editing){c.editing=false;if(!b){b=c.getModifiedFieldNames()}d=c.dirty||b.length>0;delete c.modifiedSave;delete c.dataSave;delete c.dirtySave;if(d&&a!==true){c.afterEdit(b)}}},getModifiedFieldNames:function(){var a=this,b=a.dataSave,c=a[a.persistenceProperty],d=[],e;for(e in c){if(c.hasOwnProperty(e)){if(!a.isEqual(c[e],b[e])){d.push(e)}}}return d},getChanges:function(){var a=this.modified,b={},c;for(c in a){if(a.hasOwnProperty(c)){b[c]=this.get(c)}}return b},isModified:function(a){return this.modified.hasOwnProperty(a)},setDirty:function(){var a=this,b=a.fields.items,c=b.length,d,e,f;a.dirty=true;for(f=0;f<c;f++){d=b[f];if(d.persist){e=d.name;a.modified[e]=a.get(e)}}},markDirty:function(){Ext.log.warn("Ext.data.Model: markDirty has been deprecated. Use setDirty instead.");return this.setDirty.apply(this,arguments)},reject:function(a){var b=this,c=b.modified,d;for(d in c){if(c.hasOwnProperty(d)){if(typeof c[d]!="function"){b[b.persistenceProperty][d]=c[d]}}}b.dirty=false;b.editing=false;b.modified={};if(a!==true){b.afterReject()}},commit:function(a){var b=this;b.phantom=b.dirty=b.editing=false;b.modified={};if(a!==true){b.afterCommit()}},copy:function(a){var b=this;return new b.self(b.raw,a,null,Ext.apply({},b[b.persistenceProperty]))},setProxy:function(a){if(!a.isProxy){if(typeof a==="string"){a={type:a}}a=Ext.createByAlias("proxy."+a.type,a)}a.setModel(this.self);this.proxy=a;return a},getProxy:function(){return this.proxy},validate:function(){var a=new Ext.data.Errors,b=this.validations,c=Ext.data.validations,d,e,f,g,h,i;if(b){d=b.length;for(i=0;i<d;i++){e=b[i];f=e.field||e.name;h=e.type;g=c[h](e,this.get(f));if(!g){a.add({field:f,message:e.message||c[h+"Message"]})}}}return a},isValid:function(){return this.validate().isValid()},save:function(a){a=Ext.apply({},a);var b=this,c=b.phantom?"create":"update",d=a.scope||b,e=b.stores,f=0,g,h,i,j,k;Ext.apply(a,{records:[b],action:c});j=new Ext.data.Operation(a);k=function(c){i=[b,c];if(c.wasSuccessful()){for(g=e.length;f<g;f++){h=e[f];h.fireEvent("write",h,c);h.fireEvent("datachanged",h)}Ext.callback(a.success,d,i)}else{Ext.callback(a.failure,d,i)}Ext.callback(a.callback,d,i)};b.getProxy()[c](j,k,b);return b},destroy:function(a){a=Ext.apply({},a);var b=this,c=a.scope||b,d=b.stores,e=0,f,g,h,i,j;Ext.apply(a,{records:[b],action:"destroy"});i=new Ext.data.Operation(a);j=function(i){h=[b,i];if(i.wasSuccessful()){for(f=d.length;e<f;e++){g=d[e];g.fireEvent("write",g,i);g.fireEvent("datachanged",g)}b.clearListeners();Ext.callback(a.success,c,h)}else{Ext.callback(a.failure,c,h)}Ext.callback(a.callback,c,h)};b.getProxy().destroy(i,j,b);return b},getId:function(){return this.get(this.idProperty)},getObservableId:function(){return this.id},setId:function(a){this.set(this.idProperty,a);this.phantom=!(a||a===0)},join:function(a){Ext.Array.include(this.stores,a);this.store=this.stores[0]},unjoin:function(a){Ext.Array.remove(this.stores,a);this.store=this.stores[0]||null},afterEdit:function(a){this.callStore("afterEdit",a)},afterReject:function(){this.callStore("afterReject")},afterCommit:function(){this.callStore("afterCommit")},callStore:function(a){var b=Ext.Array.clone(arguments),c=this.stores,d=0,e=c.length,f,g;b[0]=this;for(;d<e;++d){f=c[d];if(f&&typeof f[a]=="function"){f[a].apply(f,b)}g=f.treeStore;if(g&&typeof g[a]=="function"){g[a].apply(g,b)}}},getData:function(a){var b=this,c=b.fields.items,d=c.length,e={},f,g;for(g=0;g<d;g++){f=c[g].name;e[f]=b.get(f)}if(a===true){Ext.apply(e,b.getAssociatedData())}return e},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(a,b){var c=this,d=c.associations.items,e=d.length,f={},g=[],h=[],i=[],j,k,l,m,n,o,p,q,r,s,t,u,v,w;for(t=0;t<e;t++){s=d[t];q=s.associationId;p=a[q];if(p&&p!==b){continue}a[q]=b;v=s.type;w=s.name;if(v=="hasMany"){j=c[s.storeName];f[w]=[];if(j&&j.getCount()>0){k=j.data.items;r=k.length;for(u=0;u<r;u++){l=k[u];f[w][u]=l.getData();g.push(l);h.push(w);i.push(u)}}}else if(v=="belongsTo"||v=="hasOne"){l=c[s.instanceName];if(l!==undefined){f[w]=l.getData();g.push(l);h.push(w);i.push(-1)}}}for(t=0,r=g.length;t<r;++t){l=g[t];m=f[h[t]];n=i[t];o=l.prepareAssociatedData(a,b+1);if(n===-1){Ext.apply(m,o)}else{Ext.apply(m[n],o)}}return f}});Ext.define("Ext.menu.Manager",{singleton:true,requires:["Ext.util.MixedCollection","Ext.util.KeyMap"],alternateClassName:"Ext.menu.MenuMgr",uses:["Ext.menu.Menu"],menus:{},groups:{},attached:false,lastShow:new Date,init:function(){var a=this;a.active=new Ext.util.MixedCollection;Ext.getDoc().addKeyListener(27,function(){if(a.active.length>0){a.hideAll()}},a)},hideAll:function(){var a=this.active,b,c,d,e;if(a&&a.length>0){b=a.clone();c=b.items;e=c.length;for(d=0;d<e;d++){c[d].hide()}return true}return false},onHide:function(a){var b=this,c=b.active;c.remove(a);if(c.length<1){Ext.getDoc().un("mousedown",b.onMouseDown,b);b.attached=false}},onShow:function(a){var b=this,c=b.active,d=c.last(),e=b.attached,f=a.getEl(),g;b.lastShow=new Date;c.add(a);if(!e){Ext.getDoc().on("mousedown",b.onMouseDown,b,{buffer:Ext.isIE?10:undefined});b.attached=true}a.toFront()},onBeforeHide:function(a){if(a.activeChild){a.activeChild.hide()}if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer}},onBeforeShow:function(a){var b=this.active,c=a.parentMenu;b.remove(a);if(!c&&!a.allowOtherMenus){this.hideAll()}else if(c&&c.activeChild&&a!=c.activeChild){c.activeChild.hide()}},onMouseDown:function(a){var b=this,c=b.active,d=b.lastShow;if(Ext.Date.getElapsed(d)>50&&c.length>0&&!a.getTarget("."+Ext.baseCSSPrefix+"menu")){b.hideAll()}},register:function(a){var b=this;if(!b.active){b.init()}if(a.floating){b.menus[a.id]=a;a.on({beforehide:b.onBeforeHide,hide:b.onHide,beforeshow:b.onBeforeShow,show:b.onShow,scope:b})}},get:function(a){var b=this.menus;if(typeof a=="string"){if(!b){return null}return b[a]}else if(a.isMenu){return a}else if(Ext.isArray(a)){return new Ext.menu.Menu({items:a})}else{return Ext.ComponentManager.create(a,"menu")}},unregister:function(a){var b=this,c=b.menus,d=b.active;delete c[a.id];d.remove(a);a.un({beforehide:b.onBeforeHide,hide:b.onHide,beforeshow:b.onBeforeShow,show:b.onShow,scope:b})},registerCheckable:function(a){var b=this.groups,c=a.group;if(c){if(!b[c]){b[c]=[]}b[c].push(a)}},unregisterCheckable:function(a){var b=this.groups,c=a.group;if(c){Ext.Array.remove(b[c],a)}},onCheckChange:function(a,b){var c=this.groups,d=a.group,e=0,f,g,h;if(d&&b){f=c[d];g=f.length;for(;e<g;e++){h=f[e];if(h!=a){h.setChecked(false)}}}}});Ext.define("Ext.data.StoreManager",{extend:"Ext.util.MixedCollection",alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:true,uses:["Ext.data.ArrayStore"],register:function(){for(var a=0,b;b=arguments[a];a++){this.add(b)}},unregister:function(){for(var a=0,b;b=arguments[a];a++){this.remove(this.lookup(b))}},lookup:function(a){if(Ext.isArray(a)){var b=["field1"],c=!Ext.isArray(a[0]),d=a,e,f;if(c){d=[];for(e=0,f=a.length;e<f;++e){d.push([a[e]])}}else{for(e=2,f=a[0].length;e<=f;++e){b.push("field"+e)}}return new Ext.data.ArrayStore({data:d,fields:b,autoDestroy:true,autoCreated:true,expanded:c})}if(Ext.isString(a)){return this.get(a)}else{return Ext.data.AbstractStore.create(a)}},getKey:function(a){return a.storeId}},function(){Ext.regStore=function(a,b){var c;if(Ext.isObject(a)){b=a}else{b.storeId=a}if(b instanceof Ext.data.Store){c=b}else{c=new Ext.data.Store(b)}return Ext.data.StoreManager.register(c)};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)}});Ext.define("Ext.draw.CompositeSprite",{extend:"Ext.util.MixedCollection",mixins:{animate:"Ext.util.Animate"},autoDestroy:false,isCompositeSprite:true,constructor:function(a){var b=this;a=a||{};Ext.apply(b,a);b.addEvents("mousedown","mouseup","mouseover","mouseout","click");b.id=Ext.id(null,"ext-sprite-group-");b.callParent()},onClick:function(a){this.fireEvent("click",a)},onMouseUp:function(a){this.fireEvent("mouseup",a)},onMouseDown:function(a){this.fireEvent("mousedown",a)},onMouseOver:function(a){this.fireEvent("mouseover",a)},onMouseOut:function(a){this.fireEvent("mouseout",a)},attachEvents:function(a){var b=this;a.on({scope:b,mousedown:b.onMouseDown,mouseup:b.onMouseUp,mouseover:b.onMouseOver,mouseout:b.onMouseOut,click:b.onClick})},add:function(a,b){var c=this.callParent(arguments);this.attachEvents(c);return c},insert:function(a,b,c){return this.callParent(arguments)},remove:function(a){var b=this;a.un({scope:b,mousedown:b.onMouseDown,mouseup:b.onMouseUp,mouseover:b.onMouseOver,mouseout:b.onMouseOut,click:b.onClick});return b.callParent(arguments)},getBBox:function(){var a=0,b,c,d=this.items,e=this.length,f=Infinity,g=f,h=-f,i=f,j=-f,k,l;for(;a<e;a++){b=d[a];if(b.el&&!b.bboxExcluded){c=b.getBBox();g=Math.min(g,c.x);i=Math.min(i,c.y);h=Math.max(h,c.height+c.y);j=Math.max(j,c.width+c.x)}}return{x:g,y:i,height:h-i,width:j-g}},setAttributes:function(a,b){var c=0,d=this.items,e=this.length;for(;c<e;c++){d[c].setAttributes(a,b)}return this},hide:function(a){var b=0,c=this.items,d=this.length;for(;b<d;b++){c[b].hide(a)}return this},show:function(a){var b=0,c=this.items,d=this.length;for(;b<d;b++){c[b].show(a)}return this},redraw:function(){var a=this,b=0,c=a.items,d=a.getSurface(),e=a.length;if(d){for(;b<e;b++){d.renderItem(c[b])}}return a},setStyle:function(a){var b=0,c=this.items,d=this.length,e,f;for(;b<d;b++){e=c[b];f=e.el;if(f){f.setStyle(a)}}},addCls:function(a){var b=0,c=this.items,d=this.getSurface(),e=this.length;if(d){for(;b<e;b++){d.addCls(c[b],a)}}},removeCls:function(a){var b=0,c=this.items,d=this.getSurface(),e=this.length;if(d){for(;b<e;b++){d.removeCls(c[b],a)}}},getSurface:function(){var a=this.first();if(a){return a.surface}return null},destroy:function(){var a=this,b=a.getSurface(),c=a.autoDestroy,d;if(b){while(a.getCount()>0){d=a.first();a.remove(d);b.remove(d,c)}}a.clearListeners()}});Ext.define("Ext.chart.LegendItem",{extend:"Ext.draw.CompositeSprite",requires:["Ext.chart.Shape"],x:0,y:0,zIndex:500,boldRe:/bold\s\d{1,}.*/i,constructor:function(a){this.callParent(arguments);this.createLegend(a)},createLegend:function(a){function s(a){var b=d[a];return Ext.isArray(b)?b[f]:b}var b=this,c=a.yFieldIndex,d=b.series,e=d.type,f=b.yFieldIndex,g=b.legend,h=b.surface,i=g.x+b.x,j=g.y+b.y,k,l=b.zIndex,m,n,o,p,q=false,r=Ext.apply(d.seriesStyle,d.style);n=b.add("label",h.add({type:"text",x:20,y:0,zIndex:(l||0)+2,fill:g.labelColor,font:g.labelFont,text:s("title")||s("yField"),style:{cursor:"pointer"}}));if(e==="line"||e==="scatter"){if(e==="line"){b.add("line",h.add({type:"path",path:"M0.5,0.5L16.5,0.5",zIndex:(l||0)+2,"stroke-width":d.lineWidth,"stroke-linejoin":"round","stroke-dasharray":d.dash,stroke:r.stroke||d.getLegendColor(c)||"#000",style:{cursor:"pointer"}}))}if(d.showMarkers||e==="scatter"){m=Ext.apply(d.markerStyle,d.markerConfig||{},{fill:d.getLegendColor(c)});b.add("marker",Ext.chart.Shape[m.type](h,{fill:m.fill,x:8.5,y:.5,zIndex:(l||0)+2,radius:m.radius||m.size,style:{cursor:"pointer"}}))}}else{b.add("box",h.add({type:"rect",zIndex:(l||0)+2,x:0,y:0,width:12,height:12,fill:d.getLegendColor(c),style:{cursor:"pointer"}}))}b.setAttributes({hidden:false},true);k=b.getBBox();o=b.add("mask",h.add({type:"rect",x:k.x,y:k.y,width:k.width||20,height:k.height||20,zIndex:(l||0)+1,fill:b.legend.boxFill,style:{cursor:"pointer"}}));b.on("mouseover",function(){n.setStyle({"font-weight":"bold"});o.setStyle({cursor:"pointer"});d._index=c;d.highlightItem()},b);b.on("mouseout",function(){n.setStyle({"font-weight":g.labelFont&&b.boldRe.test(g.labelFont)?"bold":"normal"});d._index=c;d.unHighlightItem()},b);if(!d.visibleInLegend(c)){q=true;n.setAttributes({opacity:.5},true)}b.on("mousedown",function(){if(!q){d.hideAll(c);n.setAttributes({opacity:.5},true)}else{d.showAll(c);n.setAttributes({opacity:1},true)}q=!q;b.legend.chart.redraw()},b);b.updatePosition({x:0,y:0})},updatePosition:function(a){var b=this,c=b.items,d=c.length,e=0,f;if(!a){a=b.legend}for(;e<d;e++){f=c[e];switch(f.type){case"text":f.setAttributes({x:20+a.x+b.x,y:a.y+b.y},true);break;case"rect":f.setAttributes({translate:{x:a.x+b.x,y:a.y+b.y-6}},true);break;default:f.setAttributes({translate:{x:a.x+b.x,y:a.y+b.y}},true)}}}});Ext.define("Ext.chart.Legend",{requires:["Ext.chart.LegendItem"],visible:true,update:true,position:"bottom",x:0,y:0,labelColor:"#000",labelFont:"12px Helvetica, sans-serif",boxStroke:"#000",boxStrokeWidth:1,boxFill:"#FFF",itemSpacing:10,padding:5,width:0,height:0,boxZIndex:100,constructor:function(a){var b=this;if(a){Ext.apply(b,a)}b.items=[];b.isVertical="left|right|float".indexOf(b.position)!==-1;b.origX=b.x;b.origY=b.y},create:function(){var a=this,b=a.chart.series.items,c,d,e;a.createBox();if(a.rebuild!==false){a.createItems()}if(!a.created&&a.isDisplayed()){a.created=true;for(c=0,d=b.length;c<d;c++){e=b[c];e.on("titlechange",function(){a.create();a.updatePosition()})}}},isDisplayed:function(){return this.visible&&this.chart.series.findIndex("showInLegend",true)!==-1},createItems:function(){var a=this,b=a.chart,c=b.series.items,d,e,f=b.surface,g=a.items,h=a.padding,i=a.itemSpacing,j=2,k=0,l=0,m=0,n=0,o=a.isVertical,p=Math,q=p.floor,r=p.max,s=0,t=0,u=g?g.length:0,v,w,x,y,z,A,B,C,D,E,F;if(u){for(;t<u;t++){g[t].destroy()}}g.length=[];for(t=0,d=c.length;t<d;t++){e=c[t];if(e.showInLegend){C=[].concat(e.yField);for(F=0,E=C.length;F<E;F++){D=C[F];y=new Ext.chart.LegendItem({legend:this,series:e,surface:b.surface,yFieldIndex:F});z=y.getBBox();B=z.width;A=z.height;if(t+F===0){x=o?h+A/2:h}else{x=i/(o?2:1)}y.x=q(o?h:m+x);y.y=q(o?n+x:h+A/2);m+=B+x;n+=A+x;k=r(k,B);l=r(l,A);g.push(y)}}}a.width=q((o?k:m)+h*2);if(o&&g.length===1){j=1}a.height=q((o?n-j*x:l)+h*2);a.itemHeight=l},getBBox:function(){var a=this;return{x:Math.round(a.x)-a.boxStrokeWidth/2,y:Math.round(a.y)-a.boxStrokeWidth/2,width:a.width,height:a.height}},createBox:function(){var a=this,b,c;if(a.boxSprite){a.boxSprite.destroy()}c=a.getBBox();if(isNaN(c.width)||isNaN(c.height)){a.boxSprite=false;return}b=a.boxSprite=a.chart.surface.add(Ext.apply({type:"rect",stroke:a.boxStroke,"stroke-width":a.boxStrokeWidth,fill:a.boxFill,zIndex:a.boxZIndex},c));b.redraw()},updatePosition:function(){var a=this,b=a.items,c,d,e,f,g=a.width||0,h=a.height||0,i=a.padding,j=a.chart,k=j.chartBBox,l=j.insetPadding,m=k.width-l*2,n=k.height-l*2,o=k.x+l,p=k.y+l,q=j.surface,r=Math.floor,s;if(a.isDisplayed()){switch(a.position){case"left":e=l;f=r(p+n/2-h/2);break;case"right":e=r(q.width-g)-l;f=r(p+n/2-h/2);break;case"top":e=r(o+m/2-g/2);f=l;break;case"bottom":e=r(o+m/2-g/2);f=r(q.height-h)-l;break;default:e=r(a.origX)+l;f=r(a.origY)+l}a.x=e;a.y=f;for(c=0,d=b.length;c<d;c++){b[c].updatePosition()}s=a.getBBox();if(isNaN(s.width)||isNaN(s.height)){if(a.boxSprite){a.boxSprite.hide(true)}}else{if(!a.boxSprite){a.createBox()}a.boxSprite.setAttributes(s,true);a.boxSprite.show(true)}}},toggle:function(a){var b=this,c=0,d=b.items,e=d.length;if(b.boxSprite){if(a){b.boxSprite.show(true)}else{b.boxSprite.hide(true)}}for(;c<e;++c){if(a){d[c].show(true)}else{d[c].hide(true)}}b.visible=a}});Ext.define("Ext.XTemplateCompiler",{extend:"Ext.XTemplateParser",useEval:Ext.isGecko,useIndex:Ext.isIE6||Ext.isIE7,useFormat:true,propNameRe:/^[\w\d\$]*$/,compile:function(a){var b=this,c=b.generate(a);return b.useEval?b.evalTpl(c):(new Function("Ext",c))(Ext)},generate:function(a){var b=this,c="var fm=Ext.util.Format,ts=Object.prototype.toString;",d;b.maxLevel=0;b.body=["var c0=values, a0="+b.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, v;\n"];if(b.definitions){if(typeof b.definitions==="string"){b.definitions=[b.definitions,c]}else{b.definitions.push(c)}}else{b.definitions=[c]}b.switches=[];b.parse(a);b.definitions.push((b.useEval?"$=":"return")+" function ("+b.fnArgs+") {",b.body.join(""),"}");d=b.definitions.join("\n");b.definitions.length=b.body.length=b.switches.length=0;delete b.definitions;delete b.body;delete b.switches;return d},doText:function(a){var b=this,c=b.body;a=a.replace(b.aposRe,"\\'").replace(b.newLineRe,"\\n");if(b.useIndex){c.push("out[out.length]='",a,"'\n")}else{c.push("out.push('",a,"')\n")}},doExpr:function(a){var b=this.body;b.push("if ((v="+a+")!==undefined) out");if(this.useIndex){b.push("[out.length]=v+''\n")}else{b.push(".push(v+'')\n")}},doTag:function(a){this.doExpr(this.parseTag(a))},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(a,b){var c=this;if(a==="."){c.body.push("if (values) {\n")}else if(c.propNameRe.test(a)){c.body.push("if (",c.parseTag(a),") {\n")}else{c.body.push("if (",c.addFn(a),c.callFn,") {\n")}if(b.exec){c.doExec(b.exec)}},doElseIf:function(a,b){var c=this;if(a==="."){c.body.push("else if (values) {\n")}else if(c.propNameRe.test(a)){c.body.push("} else if (",c.parseTag(a),") {\n")}else{c.body.push("} else if (",c.addFn(a),c.callFn,") {\n")}if(b.exec){c.doExec(b.exec)}},doSwitch:function(a){var b=this;if(a==="."){b.body.push("switch (values) {\n")}else if(b.propNameRe.test(a)){b.body.push("switch (",b.parseTag(a),") {\n")}else{b.body.push("switch (",b.addFn(a),b.callFn,") {\n")}b.switches.push(0)},doCase:function(a){var b=this,c=Ext.isArray(a)?a:[a],d=b.switches.length-1,e,f;if(b.switches[d]){b.body.push("break;\n")}else{b.switches[d]++}for(f=0,d=c.length;f<d;++f){e=b.intRe.exec(c[f]);c[f]=e?e[1]:"'"+c[f].replace(b.aposRe,"\\'")+"'"}b.body.push("case ",c.join(": case "),":\n")},doDefault:function(){var a=this,b=a.switches.length-1;if(a.switches[b]){a.body.push("break;\n")}else{a.switches[b]++}a.body.push("default:\n")},doEnd:function(a,b){var c=this,d=c.level-1;if(a=="for"){if(b.exec){c.doExec(b.exec)}c.body.push("}\n");c.body.push("parent=p",d,";values=r",d+1,";xcount=n",d,";xindex=i",d,"\n")}else if(a=="if"||a=="switch"){c.body.push("}\n")}},doFor:function(a,b){var c=this,d,e=c.level,f=e-1,g="p"+e,h;if(a==="."){d="values"}else if(c.propNameRe.test(a)){d=c.parseTag(a)}else{d=c.addFn(a)+c.callFn}if(c.maxLevel<e){c.maxLevel=e;c.body.push("var ")}if(a=="."){h="c"+e}else{h="a"+f+"?c"+f+"[i"+f+"]:p"+e}c.body.push("i",e,"=0,n",e,"=0,c",e,"=",d,",a",e,"=",c.createArrayTest(e),",p",e,"=c",f,",r",e,"=values;\n","parent=",h,"\n","if (c",e,"){if(a",e,"){n",e,"=c",e,".length;}else if (c",e,".isMixedCollection){c",e,"=c",e,".items;n",e,"=c",e,".length;}else if(c",e,".isStore){c",e,"=c",e,".data.items;n",e,"=c",e,".length;}else{c",e,"=[c",e,"];n",e,"=1;}}\n","for (xcount=n",e,";i",e,"<n"+e+";++i",e,"){\n","values=c",e,"[i",e,"]");if(b.propName){c.body.push(".",b.propName)}c.body.push("\n","xindex=i",e,"+1\n")},createArrayTest:"isArray"in Array?function(a){return"Array.isArray(c"+a+")"}:function(a){return"ts.call(c"+a+')==="[object Array]"'},doExec:function(a,b){var c=this,d="f"+c.definitions.length;c.definitions.push("function "+d+"("+c.fnArgs+") {"," try { with(values) {","  "+a," }} catch(e) {",'Ext.log("XTemplate Error: " + e.message);',"}","}");c.body.push(d+c.callFn+"\n")},addFn:function(a){var b=this,c="f"+b.definitions.length;if(a==="."){b.definitions.push("function "+c+"("+b.fnArgs+") {"," return values","}")}else if(a===".."){b.definitions.push("function "+c+"("+b.fnArgs+") {"," return parent","}")}else{b.definitions.push("function "+c+"("+b.fnArgs+") {"," try { with(values) {","  return("+a+")"," }} catch(e) {",'Ext.log("XTemplate Error: " + e.message);',"}","}")}return c},parseTag:function(a){var b=this,c=b.tagRe.exec(a),d=c[1],e=c[2],f=c[3],g=c[4],h;if(d=="."){if(!b.validTypes){b.definitions.push("var validTypes={string:1,number:1,boolean:1};");b.validTypes=true}h='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else if(d=="#"){h="xindex"}else if(d.substr(0,7)=="parent."){h=d}else if(isNaN(d)&&d.indexOf("-")==-1&&d.indexOf(".")!=-1){h="values."+d}else{h="values['"+d+"']"}if(g){h="("+h+g+")"}if(e&&b.useFormat){f=f?","+f:"";if(e.substr(0,5)!="this."){e="fm."+e+"("}else{e+="("}}else{return h}return e+h+f+")"},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?/},function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount";a.callFn=".call(this,"+a.fnArgs+")"});Ext.define("Ext.XTemplate",{extend:"Ext.Template",requires:"Ext.XTemplateCompiler",emptyObj:{},apply:function(a,b){return this.applyOut(a,[],b).join("")},applyOut:function(a,b,c){var d=this,e;if(!d.fn){e=new Ext.XTemplateCompiler({useFormat:d.disableFormats!==true,definitions:d.definitions});d.fn=e.compile(d.html)}try{d.fn.call(d,b,a,c||d.emptyObj,1,1)}catch(f){Ext.log("Error: "+f.message)}return b},compile:function(){return this},statics:{getTpl:function(a,b){var c=a[b],d;if(c&&!c.isTemplate){c=Ext.ClassManager.dynInstantiate("Ext.XTemplate",c);if(a.hasOwnProperty(b)){a[b]=c}else{for(d=a.self.prototype;d;d=d.superclass){if(d.hasOwnProperty(b)){d[b]=c;break}}}}return c||null}}});Ext.define("Ext.form.Labelable",{requires:["Ext.XTemplate"],autoEl:{tag:"table",cellpadding:0},childEls:["labelCell","labelEl","bodyEl","sideErrorCell","errorEl","inputRow","bottomPlaceHolder"],labelableRenderTpl:['<tr id="{id}-inputRow" <tpl if="inFormLayout">id="{id}"</tpl>>','<tpl if="labelOnLeft">','<td id="{id}-labelCell" style="{labelCellStyle}" {labelCellAttrs}>',"{beforeLabelTpl}",'<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>>',"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","{afterLabelTpl}","</td>","</tpl>",'<td class="{baseBodyCls} {fieldBodyCls}" id="{id}-bodyEl" colspan="{bodyColspan}" role="presentation">',"{beforeBodyEl}","<tpl if=\"labelAlign=='top'\">","{beforeLabelTpl}",'<div id="{id}-labelCell" style="{labelCellStyle}">','<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>>',"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","</div>","{afterLabelTpl}","</tpl>","{beforeSubTpl}","{[values.$comp.getSubTplMarkup()]}","{afterSubTpl}","<tpl if=\"msgTarget==='side'\">","{afterBodyEl}","</td>","<td id=\"{id}-sideErrorCell\" vAlign=\"{[values.labelAlign==='top' && !values.hideLabel ? 'bottom' : 'middle']}\" style=\"{[values.autoFitErrors ? 'display:none' : '']}\" width=\"{errorIconWidth}\">",'<div id="{id}-errorEl" class="{errorMsgCls}" style="display:none;width:{errorIconWidth}px"></div>',"</td>","<tpl elseif=\"msgTarget=='under'\">",'<div id="{id}-errorEl" class="{errorMsgClass}" colspan="2" style="display:none"></div>',"{afterBodyEl}","</td>","</tpl>","</tr>",{disableFormats:true}],activeErrorsTpl:['<tpl if="errors && errors.length">','<ul><tpl for="errors"><li>{.}</li></tpl></ul>',"</tpl>"],isFieldLabelable:true,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",fieldBodyCls:"",clearCls:Ext.baseCSSPrefix+"clear",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,hideEmptyLabel:true,preventMark:false,autoFitErrors:true,msgTarget:"qtip",noWrap:true,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],labelableRenderProps:["allowBlank","id","labelAlign","fieldBodyCls","baseBodyCls","clearCls","labelSeparator","msgTarget"],initLabelable:function(){var a=this,b=a.padding;if(b){a.padding=undefined;a.extraMargins=Ext.Element.parseBox(b)}a.addCls(a.formItemCls);a.lastActiveError="";a.addEvents("errorchange")},trimLabelSeparator:function(){var a=this,b=a.labelSeparator,c=a.fieldLabel||"",d=c.substr(c.length-1);return d===b?c.slice(0,-1):c},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(a){a=a||"";var b=this,c=b.labelSeparator,d=b.labelEl;b.fieldLabel=a;if(b.rendered){if(Ext.isEmpty(a)&&b.hideEmptyLabel){d.parent().setDisplayed("none")}else{if(c){a=b.trimLabelSeparator()+c}d.update(a);d.parent().setDisplayed("")}b.updateLayout()}},getInsertionRenderData:function(a,b){var c=b.length,d,e;while(c--){d=b[c];e=this[d];if(e){if(typeof e!="string"){if(!e.isTemplate){e=Ext.XTemplate.getTpl(this,d)}e=e.apply(a)}}a[d]=e||""}return a},getLabelableRenderData:function(){var a=this,b,c,d=a.labelAlign==="top";if(!Ext.form.Labelable.errorIconWidth){Ext.form.Labelable.errorIconWidth=(c=Ext.resetElement.createChild({style:"position:absolute",cls:Ext.baseCSSPrefix+"form-invalid-icon"})).getWidth();c.remove()}b=Ext.copyTo({inFormLayout:a.ownerLayout&&a.ownerLayout.type==="form",inputId:a.getInputId(),labelOnLeft:!d,hideLabel:!a.hasVisibleLabel(),fieldLabel:a.getFieldLabel(),labelCellStyle:a.getLabelCellStyle(),labelCellAttrs:a.getLabelCellAttrs(),labelCls:a.getLabelCls(),labelStyle:a.getLabelStyle(),bodyColspan:a.getBodyColspan(),externalError:!a.autoFitErrors,errorMsgCls:a.getErrorMsgCls(),errorIconWidth:Ext.form.Labelable.errorIconWidth},a,a.labelableRenderProps,true);a.getInsertionRenderData(b,a.labelableInsertions);return b},beforeLabelableRender:function(){var a=this;if(a.ownerLayout){a.addCls(Ext.baseCSSPrefix+a.ownerLayout.type+"-form-item")}},onLabelableRender:function(){var a=this,b,c,d={};if(a.extraMargins){b=a.el.getMargin();for(c in b){if(b.hasOwnProperty(c)){d["margin-"+c]=b[c]+a.extraMargins[c]+"px"}}a.el.setStyle(d)}},hasVisibleLabel:function(){if(this.hideLabel){return false}return!(this.hideEmptyLabel&&!this.getFieldLabel())},getBodyColspan:function(){var a=this,b;if(a.msgTarget==="side"&&(!a.autoFitErrors||a.hasActiveError())){b=1}else{b=2}if(a.labelAlign!=="top"&&!a.hasVisibleLabel()){b++}return b},getLabelCls:function(){var a=this.labelCls,b=this.labelClsExtra;if(this.labelAlign==="top"){a+="-top"}return b?a+" "+b:a},getLabelCellStyle:function(){var a=this,b=a.hideLabel||!a.fieldLabel&&a.hideEmptyLabel;return b?"display:none;":""},getErrorMsgCls:function(){var a=this,b=a.hideLabel||!a.fieldLabel&&a.hideEmptyLabel;return a.errorMsgCls+(!b&&a.labelAlign==="top"?" "+Ext.baseCSSPrefix+"lbl-top-err-icon":"")},getLabelCellAttrs:function(){var a=this,b=a.labelAlign,c="";if(b!=="top"){c='valign="top" halign="'+b+'" width="'+(a.labelWidth+a.labelPad)+'"'}return c+' class="'+Ext.baseCSSPrefix+'field-label-cell"'},getLabelStyle:function(){var a=this,b=a.labelPad,c="";if(a.labelAlign!=="top"){if(a.labelWidth){c="width:"+a.labelWidth+"px;"}c+="margin-right:"+b+"px;"}return c+(a.labelStyle||"")},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(a){a=Ext.Array.from(a);this.activeError=a[0];this.activeErrors=a;this.activeError=this.getTpl("activeErrorsTpl").apply({errors:a});this.renderActiveError()},unsetActiveError:function(){delete this.activeError;delete this.activeErrors;this.renderActiveError()},renderActiveError:function(){var a=this,b=a.getActiveError(),c=!!b;if(b!==a.lastActiveError){a.fireEvent("errorchange",a,b);a.lastActiveError=b}if(a.rendered&&!a.isDestroyed&&!a.preventMark){a.el[c?"addCls":"removeCls"](a.invalidCls);a.getActionEl().dom.setAttribute("aria-invalid",c);if(a.errorEl){a.errorEl.dom.innerHTML=b}}},setFieldDefaults:function(a){var b=this,c,d;for(d in a){if(a.hasOwnProperty(d)){c=a[d];if(!b.hasOwnProperty(d)){b[d]=c}}}}});Ext.define("Ext.container.DockingContainer",{requires:["Ext.util.MixedCollection","Ext.Element"],isDockingContainer:true,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},addDocked:function(a,b){var c=this,d=0,e,f;a=c.prepareItems(a);f=a.length;for(;d<f;d++){e=a[d];e.dock=e.dock||"top";if(b!==undefined){c.dockedItems.insert(b+d,e)}else{c.dockedItems.add(e)}if(e.onAdded!==Ext.emptyFn){e.onAdded(c,d)}if(c.onDockedAdd!==Ext.emptyFn){c.onDockedAdd(e)}}if(c.rendered&&!c.suspendLayout){c.updateLayout()}return a},destroyDockedItems:function(){var a=this.dockedItems,b;if(a){while(b=a.first()){this.removeDocked(b,true)}}},doRenderDockedItems:function(a,b,c){var d=b.$comp,e=d.componentLayout,f,g;if(e.getDockedItems&&!b.$skipDockedItems){f=e.getDockedItems("render",!c);g=f&&e.getItemsRenderTree(f);if(g){Ext.DomHelper.generateMarkup(g,a)}}},getDockedComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.dockedItems.get(a)},getDockedItems:function(a,b){var c=this.getComponentLayout().getDockedItems("render",b);if(a&&c.length){c=Ext.ComponentQuery.query(a,c)}return c},getDockingRefItems:function(a,b){var c=a&&"*,* *",d=this.getDockedItems(c,true),e;d.push.apply(d,b);e=this.getDockedItems(c,false);d.push.apply(d,e);return d},initDockingItems:function(){var a=this,b=a.dockedItems;a.dockedItems=new Ext.util.AbstractMixedCollection(false,a.getComponentId);if(b){a.addDocked(b)}},insertDocked:function(a,b){this.addDocked(b,a)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(a,b){var c=this,d,e;if(!c.dockedItems.contains(a)){return a}d=c.componentLayout;e=d&&c.rendered;if(e){d.onRemove(a)}c.dockedItems.remove(a);a.onRemoved();c.onDockedRemove(a);if(b===true||b!==false&&c.autoDestroy){a.destroy()}else if(e){d.afterRemove(a)}if(!c.destroying&&!c.suspendLayout){c.updateLayout()}return a},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}});Ext.ns("Ext.fx");Ext.require("Ext.fx.CubicBezier",function(){var a=Math,b=a.PI,c=a.pow,d=a.sin,e=a.sqrt,f=a.abs,g=1.70158;Ext.fx.Easing={};Ext.apply(Ext.fx.Easing,{linear:function(a){return a},ease:function(a){var b=.07813-a/2,d=-.25,g=e(.0066+b*b),h=g-b,i=c(f(h),1/3)*(h<0?-1:1),j=-g-b,k=c(f(j),1/3)*(j<0?-1:1),l=i+k+.25;return c(1-l,2)*3*l*.1+(1-l)*3*l*l+l*l*l},easeIn:function(a){return c(a,1.7)},easeOut:function(a){return c(a,.48)},easeInOut:function(a){var b=.48-a/1.04,d=e(.1734+b*b),g=d-b,h=c(f(g),1/3)*(g<0?-1:1),i=-d-b,j=c(f(i),1/3)*(i<0?-1:1),k=h+j+.5;return(1-k)*3*k*k+k*k*k},backIn:function(a){return a*a*((g+1)*a-g)},backOut:function(a){a=a-1;return a*a*((g+1)*a+g)+1},elasticIn:function(a){if(a===0||a===1){return a}var e=.3,f=e/4;return c(2,-10*a)*d((a-f)*2*b/e)+1},elasticOut:function(a){return 1-Ext.fx.Easing.elasticIn(1-a)},bounceIn:function(a){return 1-Ext.fx.Easing.bounceOut(1-a)},bounceOut:function(a){var b=7.5625,c=2.75,d;if(a<1/c){d=b*a*a}else{if(a<2/c){a-=1.5/c;d=b*a*a+.75}else{if(a<2.5/c){a-=2.25/c;d=b*a*a+.9375}else{a-=2.625/c;d=b*a*a+.984375}}}return d}});Ext.apply(Ext.fx.Easing,{"back-in":Ext.fx.Easing.backIn,"back-out":Ext.fx.Easing.backOut,"ease-in":Ext.fx.Easing.easeIn,"ease-out":Ext.fx.Easing.easeOut,"elastic-in":Ext.fx.Easing.elasticIn,"elastic-out":Ext.fx.Easing.elasticIn,"bounce-in":Ext.fx.Easing.bounceIn,"bounce-out":Ext.fx.Easing.bounceOut,"ease-in-out":Ext.fx.Easing.easeInOut})});Ext.define("Ext.layout.Layout",{requires:["Ext.XTemplate"],uses:["Ext.layout.Context"],isLayout:true,initialized:false,running:false,autoSizePolicy:{setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(a,b){var c=Ext.ClassManager,d=this.layoutsByType,e,f,g,h,i,j;if(!a||typeof a==="string"){i=a||b;g={}}else if(a.isLayout){return a}else{g=a;i=a.type||b}if(!(h=d[i])){e="layout."+i;f=c.getNameByAlias(e);if(!f){j=true}h=c.get(f);if(j||!h){return c.instantiateByAlias(e,g||{})}d[i]=h}return new h(g)}},constructor:function(a){var b=this;b.id=Ext.id(null,b.type+"-");Ext.apply(b,a);b.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(a){var b=this,c=b.context,d;if(b.lastWidthModel!=a.widthModel){if(b.lastWidthModel){d=true}b.lastWidthModel=a.widthModel}if(b.lastHeightModel!=a.heightModel){if(b.lastWidthModel){d=true}b.lastHeightModel=a.heightModel}if(d){(c=a.context).clearTriggers(b,false);c.clearTriggers(b,true);b.triggerCount=0}},finishedLayout:function(){this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(a){return this.autoSizePolicy},isItemBoxParent:function(a){return false},isItemLayoutRoot:function(a){var b=a.getSizeModel(),c=b.width,d=b.height;if(!a.componentLayout.lastComponentSize&&(c.calculated||d.calculated)){return false}return!c.shrinkWrap&&!d.shrinkWrap},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(a,b){var c=a.length,d,e,f,g;if(c){g=[];for(d=0;d<c;++d){e=a[d];if(!e.rendered){if(b&&b[e.id]!==undefined){f=b[e.id]}else{this.configureItem(e);f=e.getRenderTree();if(b){b[e.id]=f}}if(f){g.push(f)}}}}return g},finishRender:Ext.emptyFn,finishRenderItems:function(a,b){var c=b.length,d,e;for(d=0;d<c;d++){e=b[d];if(e.rendering){e.finishRender(d);this.afterRenderItem(e)}}},renderChildren:function(){var a=this,b=a.getLayoutItems(),c=a.getRenderTarget();a.renderItems(b,c)},renderItems:function(a,b){var c=this,d=a.length,e=0,f;if(d){Ext.suspendLayouts();for(;e<d;e++){f=a[e];if(f&&!f.rendered){c.renderItem(f,b,e)}else if(!c.isValidParent(f,b,e)){c.moveItem(f,b,e)}else{c.configureItem(f)}}Ext.resumeLayouts(true)}},isValidParent:function(a,b,c){var d=a.el?a.el.dom:Ext.getDom(a),e=b&&b.dom||b;if(d.parentNode&&d.parentNode.className.indexOf(Ext.baseCSSPrefix+"resizable-wrap")!==-1){d=d.parentNode}if(d&&e){if(typeof c=="number"){return d===e.childNodes[c]}return d.parentNode===e}return false},configureItem:function(a){a.ownerLayout=this},renderItem:function(a,b,c){var d=this;if(!a.rendered){d.configureItem(a);a.render(b,c);d.afterRenderItem(a)}},moveItem:function(a,b,c){b=b.dom||b;if(typeof c=="number"){c=b.childNodes[c]}b.insertBefore(a.el.dom,c||null);a.container=Ext.get(b);this.configureItem(a)},onContentChange:function(){this.owner.updateLayout();return true},initLayout:function(){this.initialized=true},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},afterRenderItem:Ext.emptyFn,onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(a){var b=this,c=a.el,d=b.owner,e;if(a.rendered){e=[].concat(b.itemCls||[]);if(d.itemCls){e=Ext.Array.push(e,d.itemCls)}if(e.length){c.removeCls(e)}}delete a.ownerLayout},destroy:function(){var a=this,b;if(a.targetCls){b=a.getTarget();if(b){b.removeCls(a.targetCls)}}a.onDestroy()},sortWeightedItems:function(a,b){for(var c=0,d=a.length;c<d;++c){a[c].$i=c}Ext.Array.sort(a,function(a,c){var d=c.weight-a.weight;if(!d){d=a.$i-c.$i;if(a[b]){d=-d}}return d});for(c=0;c<d;++c){delete a[c].$i}}},function(){var a=this,b={},c=[],d,e,f,g,h;a.prototype.sizeModels=a.sizeModels=b;var i=function(a){var d=this,e=a.name;Ext.apply(Ext.apply(d,j),a);d[e]=true;i[e]=b[e]=d;d.fixed=!(d.auto=d.natural||d.shrinkWrap);d.ordinal=c.length;c.push(d)};Ext.layout.SizeModel=i;var j={calculated:false,configured:false,constrainedMax:false,constrainedMin:false,natural:false,shrinkWrap:false,calculatedFromConfigured:false,calculatedFromNatural:false,calculatedFromShrinkWrap:false,names:null};new i({name:"calculated"});new i({name:"configured",names:{width:"width",height:"height"}});new i({name:"natural"});new i({name:"shrinkWrap"});new i({name:"calculatedFromConfigured",configured:true,names:{width:"width",height:"height"}});new i({name:"calculatedFromNatural",natural:true});new i({name:"calculatedFromShrinkWrap",shrinkWrap:true});new i({name:"constrainedMax",configured:true,constrained:true,names:{width:"maxWidth",height:"maxHeight"}});new i({name:"constrainedMin",configured:true,constrained:true,names:{width:"minWidth",height:"minHeight"}});for(d=0,f=c.length;d<f;++d){h=c[d];h.pairsByHeightOrdinal=g=[];for(e=0;e<f;++e){g.push({width:h,height:c[e]})}}});Ext.define("Ext.layout.container.Container",{extend:"Ext.layout.Layout",alternateClassName:"Ext.layout.ContainerLayout",mixins:{elementCt:"Ext.util.ElementContainer"},requires:["Ext.XTemplate"],type:"container",manageOverflow:0,beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:true,usesContainerWidth:true,usesHeight:true,usesWidth:true,reserveScrollbar:false,lastOverflowAdjust:{width:0,height:0},constructor:function(){this.callParent(arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent();this.mixins.elementCt.destroy.call(this)},initLayout:function(){var a=this,b=Ext.getScrollbarSize().width;a.callParent();if(b&&a.manageOverflow&&!a.hasOwnProperty("lastOverflowAdjust")){if(a.owner.autoScroll||a.reserveScrollbar){a.lastOverflowAdjust={width:b,height:0}}}},beginLayout:function(a){this.callParent(arguments);a.targetContext=a.getEl("getTarget",this);this.cacheChildItems(a)},beginLayoutCycle:function(a,b){var c=this,d=c.overflowPadderEl;c.callParent(arguments);if(!a.state.overflowAdjust){a.state.overflowAdjust=c.lastOverflowAdjust}if(b){if(c.usesContainerHeight){++a.consumersContainerHeight}if(c.usesContainerWidth){++a.consumersContainerWidth}}if(d){d.setStyle("display","none")}},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},cacheChildItems:function(a){var b=a.context,c=[],d=this.getVisibleItems(),e=d.length,f;a.childItems=c;a.visibleItems=d;for(f=0;f<e;++f){c.push(b.getCmp(d[f]))}},cacheElements:function(){var a=this.owner;this.applyChildEls(a.el,a.id)},calculateContentSize:function(a,b){var c=this,d=(b||0)|c.manageOverflow|((a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0)),e=d&1||undefined,f=d&2||undefined,g=a.childItems,h=g.length,i=0,j=0,k=0,l=a.props,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(e){if(isNaN(l.contentWidth)){++k}else{e=undefined}}if(f){if(isNaN(l.contentHeight)){++k}else{f=undefined}}if(k){for(w=0;w<h;++w){s=g[w];r=s.target;v=f&&s.getProp("height");y=e&&s.getProp("width");x=s.getMarginInfo();if(e&&isNaN(r.x)||f&&isNaN(r.y)){z=r.el.getXY();if(!m){m=a.targetContext.el.getXY();q=a.targetContext.getBorderInfo();n=m[0]+q.left;o=m[1]+q.top}t=z[0]-n;u=z[1]-o}else{t=r.x;u=r.y}v+=x.bottom;y+=x.right;i=Math.max(i,u+v);j=Math.max(j,t+y);if(isNaN(i)&&isNaN(j)){c.done=false;return}}if(e||f){p=a.targetContext.getPaddingInfo()}if(e&&!a.setContentWidth(j+p.right)){c.done=false}if(f&&!a.setContentHeight(i+p.bottom)){c.done=false}}},calculateOverflow:function(a,b,c){var d=this,e=d.owner,f=d.manageOverflow,g=a.state,h=g.overflowAdjust,i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(f&&!g.secondPass&&!d.reserveScrollbar){if(e.autoScroll){u=v=true}else{if(e.overflowX){u=e.overflowX=="auto"}else{n=a.targetContext.getStyle("overflow-x");u=n&&n!="hidden"&&n!="scroll"}if(e.overflowY){v=e.overflowY=="auto"}else{n=a.targetContext.getStyle("overflow-y");v=n&&n!="hidden"&&n!="scroll"}}if(!b.gotWidth){u=false}if(!b.gotHeight){v=false}if(u||v){o=Ext.getScrollbarSize();p=a.peek("contentWidth");q=a.peek("contentHeight");r=b.width;s=b.height;t=d.getScrollbarsNeeded(r,s,p,q);g.overflowState=t;if(typeof c=="number"){t&=~c}h={width:u&&t&2?o.width:0,height:v&&t&1?o.height:0};if(h.width!==d.lastOverflowAdjust.width||h.height!==d.lastOverflowAdjust.height){d.done=false;a.invalidate({state:{overflowAdjust:h,overflowState:g.overflowState,secondPass:true}})}}}if(!d.done){return}k=a.padElContext||(a.padElContext=a.getEl("overflowPadderEl",d));if(k){t=g.overflowState;i=b.width;j=0;if(t){l=a.targetContext.getPaddingInfo();m=d.scrollRangeFlags;if(t&2&&m&1){j+=l.bottom}if(t&1&&m&4){i+=l.right}k.setProp("display","");k.setSize(i,j)}else{k.setProp("display","none")}}},configureItem:function(a){var b=this,c=b.owner.itemCls,d=[].concat(b.itemCls||[]);b.callParent(arguments);if(c){d=Ext.Array.push(d,c)}a.addCls(d)},doRenderBody:function(a,b){this.renderItems(a,b);this.renderContent(a,b)},doRenderContainer:function(a,b){var c=b.$comp.layout,d=c.getRenderTpl(),e=c.getRenderData();d.applyOut(e,a)},doRenderItems:function(a,b){var c=b.$layout,d=c.getRenderTree();if(d){Ext.DomHelper.generateMarkup(d,a)}},doRenderPadder:function(a,b){var c=b.$layout,d=c.owner,e=c.getScrollRangeFlags();if(c.manageOverflow==2){if(e&5){a.push('<div id="',d.id,'-overflowPadderEl" ','style="font-size: 1px; width:1px; height: 1px;');a.push('"></div>');c.scrollRangeFlags=e}}},finishRender:function(){var a=this,b,c;a.callParent();a.cacheElements();b=a.getRenderTarget();c=a.getLayoutItems();if(a.targetCls){a.getTarget().addCls(a.targetCls)}a.finishRenderItems(b,c)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(a,b){var c=a.targetContext,d=c.getFrameInfo(),e=c.getPaddingInfo(),f=0,g=0,h=a.state.overflowAdjust,i,j,k,l;if(!a.widthModel.shrinkWrap){++g;k=b?c.getDomProp("width"):c.getProp("width");i=typeof k=="number";if(i){++f;k-=d.width+e.width;if(h){k-=h.width}}}if(!a.heightModel.shrinkWrap){++g;l=b?c.getDomProp("height"):c.getProp("height");j=typeof l=="number";if(j){++f;l-=d.height+e.height;if(h){l-=h.height}}}return{width:k,height:l,needed:g,got:f,gotAll:f==g,gotWidth:i,gotHeight:j}},getLayoutItems:function(){var a=this.owner,b=a&&a.items;return b&&b.items||[]},getRenderData:function(){var a=this.owner;return{$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){var a=this,b=a.getRenderTarget(),c=a.getLayoutItems(),d=c.length,e=[],f,g;for(f=0;f<d;f++){g=c[f];if(g.rendered&&a.isValidParent(g,b,f)){e.push(g)}}return e},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var a=this,b=Ext.XTemplate.getTpl(this,"renderTpl");if(!b.renderContent){a.owner.setupRenderTpl(b)}return b},getRenderTree:function(){var a,b=this.owner.items,c,d={};do{c=b.generation;a=this.getItemsRenderTree(this.getLayoutItems(),d)}while(b.generation!==c);return a},getScrollbarsNeeded:function(a,b,c,d){var e=Ext.getScrollbarSize(),f=typeof a=="number",g=typeof b=="number",h=0,i=0;if(!e.width){return 0}if(g&&b<d){i=2;a-=e.width}if(f&&a<c){h=1;if(!i&&g){b-=e.height;if(b<d){i=2}}}return i+h},getScrollRangeFlags:function(){var a=-1;return function(){if(a<0){var b=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"border-box",style:{width:"100px",height:"100px",padding:"10px",overflow:"auto"},children:[{style:{border:"1px solid red",width:"150px",height:"150px",margin:"0 5px 5px 0"}}]}),c=b.dom.scrollHeight,d=b.dom.scrollWidth,e={175:0,165:1,170:2,160:3},f={175:0,165:4,170:8,160:12};a=(e[c]||0)|(f[d]||0);b.remove()}return a}}(),getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var a=this.getRenderTarget(),b=this.getLayoutItems(),c=b.length,d=[],e,f;for(e=0;e<c;e++){f=b[e];if(f.rendered&&this.isValidParent(f,a,e)&&f.hidden!==true){d.push(f)}}return d},setupRenderTpl:function(a){var b=this;a.renderBody=b.doRenderBody;a.renderContainer=b.doRenderContainer;a.renderItems=b.doRenderItems;a.renderPadder=b.doRenderPadder}});Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",manageOverflow:2,renderTpl:["{%this.renderBody(out,values);this.renderPadder(out,values)%}"],defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,beginLayout:function(a){var b=this,c=0,d,e,f,g,h,i;b.callParent(arguments);f=a.childItems;h=f.length;for(g=0;g<h;++g){e=f[g];d=e.target.anchorSpec;if(d){if(e.widthModel.calculated&&d.right){c|=1}if(e.heightModel.calculated&&d.bottom){c|=2}if(c==3){break}}}a.anchorDimensions=c;if(!Ext.supports.RightMargin&&!b.rightMarginCleanerFn){i=a.targetContext.el;b.rightMarginCleanerFn=Ext.Element.getRightMarginFixCleaner(i);i.addCls(Ext.baseCSSPrefix+"inline-children")}b.sanityCheck(a)},calculate:function(a){var b=this,c=b.getContainerSize(a);if(a.anchorDimensions!==a.state.calculatedAnchors){b.calculateAnchors(a,c)}if(a.hasDomProp("containerChildrenDone")){if(!c.gotAll){b.done=false}b.calculateContentSize(a,a.anchorDimensions);if(b.done){b.calculateOverflow(a,c,a.anchorDimensions);return}}b.done=false},calculateAnchors:function(a,b){var c=this,d=a.childItems,e=d.length,f=b.gotHeight,g=b.gotWidth,h=b.height,i=b.width,j=a.state,k=(g?1:0)|(f?2:0),l,m,n,o,p,q;j.calculatedAnchors=(j.calculatedAnchors||0)|k;for(p=0;p<e;p++){m=d[p];n=m.getMarginInfo();l=m.target.anchorSpec;if(g&&m.widthModel.calculated){q=l.right(i)-n.width;q=c.adjustWidthAnchor(q,m);m.setWidth(q)}if(f&&m.heightModel.calculated){o=l.bottom(h)-n.height;o=c.adjustHeightAnchor(o,m);m.setHeight(o)}}},finishedLayout:function(a){var b=this.rightMarginCleanerFn;if(b){delete this.rightMarginCleanerFn;a.targetContext.el.removeCls(Ext.baseCSSPrefix+"inline-children");b()}},sanityCheck:function(a){var b=a.widthModel.shrinkWrap,c=a.heightModel.shrinkWrap,d=a.childItems,e,f,g,h,i;for(h=0,i=d.length;h<i;++h){g=d[h];f=g.target;e=f.anchorSpec;if(e){if(g.widthModel.calculated&&e.right){if(b){Ext.log({level:"warn",msg:"Right anchor on "+f.id+" in shrinkWrap width container"})}}if(g.heightModel.calculated&&e.bottom){if(c){Ext.log({level:"warn",msg:"Bottom anchor on "+f.id+" in shrinkWrap height container"})}}}}},anchorFactory:{offset:function(a){return function(b){return b+a}},ratio:function(a){return function(b){return Math.floor(b*a)}},standard:function(a){return function(b){return b-a}}},parseAnchor:function(a,b,c){if(a&&a!="none"){var d=this.anchorFactory,e;if(this.parseAnchorRE.test(a)){return d.standard(c-b)}if(a.indexOf("%")!=-1){return d.ratio(parseFloat(a.replace("%",""))*.01)}e=parseInt(a,10);if(!isNaN(e)){return d.offset(e)}}return null},adjustWidthAnchor:function(a,b){return a},adjustHeightAnchor:function(a,b){return a},configureItem:function(a){var b=this,c=b.owner,d=a.anchor,e,f,g;b.callParent(arguments);if(!a.anchor&&a.items&&!Ext.isNumber(a.width)&&!(Ext.isIE6&&Ext.isStrict)){a.anchor=d=b.defaultAnchor}if(c.anchorSize){if(typeof c.anchorSize=="number"){f=c.anchorSize}else{f=c.anchorSize.width;g=c.anchorSize.height}}else{f=c.initialConfig.width;g=c.initialConfig.height}if(d){e=d.split(" ");a.anchorSpec={right:b.parseAnchor(e[0],a.initialConfig.width,f),bottom:b.parseAnchor(e[1],a.initialConfig.height,g)}}},sizePolicy:{"":{setsWidth:0,setsHeight:0},b:{setsWidth:0,setsHeight:1},r:{"":{setsWidth:1,setsHeight:0},b:{setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(a){var b=a.anchorSpec,c="",d=this.sizePolicy,e;if(b){e=this.owner.getSizeModel();if(b.right&&!e.width.shrinkWrap){d=d.r}if(b.bottom&&!e.height.shrinkWrap){c="b"}}return d[c]}});Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,beginLayoutCycle:function(a,b){var c=this,d=c.owner,e=a.ownerCtContext,f=a.heightModel,g=a.widthModel,h=d.el.dom===document.body,i=d.lastBox||c.nullBox,j=d.el.lastBox||c.nullBox,k=!h,l,m,n,o;c.callParent(arguments);if(b){if(c.usesContentWidth){++a.consumersContentWidth}if(c.usesContentHeight){++a.consumersContentHeight}if(c.usesWidth){++a.consumersWidth}if(c.usesHeight){++a.consumersHeight}if(e&&!e.hasRawContent){l=d.ownerLayout;if(l.usesWidth){++a.consumersWidth}if(l.usesHeight){++a.consumersHeight}}}if(g.configured){n=g.names.width;if(!h){k=b?d[n]!==j.width:g.constrained}a.setWidth(d[n],k)}else if(a.isTopLevel){if(g.calculated){m=i.width;a.setWidth(m,m!=j.width)}m=i.x;a.setProp("x",m,m!=j.x)}if(f.configured){o=f.names.height;if(!h){k=b?d[o]!==j.height:f.constrained}a.setHeight(d[o],k)}else if(a.isTopLevel){if(f.calculated){m=i.height;a.setHeight(m,m!=j.height)}m=i.y;a.setProp("y",m,m!=j.y)}},finishedLayout:function(a){var b=this,c=a.children,d=b.owner,e,f,g,h,i,j;if(c){e=c.length;for(f=0;f<e;f++){g=c[f];g.el.lastBox=g.props}}a.previousSize=b.lastComponentSize;b.lastComponentSize=d.el.lastBox=i=a.props;d.lastBox=h={};j=i.x;if(j!==undefined){h.x=j}j=i.y;if(j!==undefined){h.y=j}j=i.width;if(j!==undefined){h.width=j}j=i.height;if(j!==undefined){h.height=j}b.callParent(arguments)},notifyOwner:function(a){var b=this,c=b.lastComponentSize,d=a.previousSize,e=[c.width,c.height];if(d){e.push(d.width,d.height)}b.owner.afterComponentLayout.apply(b.owner,e)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(a){var b=this,c=b.targetInfo,d;if(!c){d=a.getEl("getTarget",b);b.targetInfo=c={padding:d.getPaddingInfo(),border:d.getBorderInfo()}}return c},measureAutoDimensions:function(a,b){var c=this,d=c.owner,e=d.layout,f=a.heightModel,g=a.widthModel,h=a.boxParent,i=a.isBoxParent,j=a.props,k,l={gotWidth:false,gotHeight:false,isContainer:k=!a.hasRawContent},m=b||3,n,o,p=0,q=0,r,s,t;if(g.shrinkWrap&&a.consumersContentWidth){++p;n=!(m&1);if(k){if(n){l.contentWidth=0;l.gotWidth=true;++q}else if((l.contentWidth=a.getProp("contentWidth"))!==undefined){l.gotWidth=true;++q}}else{s=j.contentWidth;if(typeof s=="number"){l.contentWidth=s;l.gotWidth=true;++q}else{if(n){r=true}else if(!a.hasDomProp("containerChildrenDone")){r=false}else if(i||!h||h.widthModel.shrinkWrap){r=true}else{r=h.hasDomProp("width")}if(r){if(n){t=0}else if(e&&e.measureContentWidth){t=e.measureContentWidth(a)}else{t=c.measureContentWidth(a)}if(!isNaN(l.contentWidth=t)){a.setContentWidth(t,true);l.gotWidth=true;++q}}}}}else if(g.natural&&a.consumersWidth){++p;s=j.width;if(typeof s=="number"){l.width=s;l.gotWidth=true;++q}else{if(i||!h){r=true}else{r=h.hasDomProp("width")}if(r){if(!isNaN(l.width=c.measureOwnerWidth(a))){a.setWidth(l.width,false);l.gotWidth=true;++q}}}}if(f.shrinkWrap&&a.consumersContentHeight){++p;o=!(m&2);if(k){if(o){l.contentHeight=0;l.gotHeight=true;++q}else if((l.contentHeight=a.getProp("contentHeight"))!==undefined){l.gotHeight=true;++q}}else{s=j.contentHeight;if(typeof s=="number"){l.contentHeight=s;l.gotHeight=true;++q}else{if(o){r=true}else if(!a.hasDomProp("containerChildrenDone")){r=false}else if(d.noWrap){r=true}else if(!g.shrinkWrap){r=(a.bodyContext||a).hasDomProp("width")}else if(i||!h||h.widthModel.shrinkWrap){r=true}else{r=h.hasDomProp("width")}if(r){if(o){t=0}else if(e&&e.measureContentHeight){t=e.measureContentHeight(a)}else{t=c.measureContentHeight(a)}if(!isNaN(l.contentHeight=t)){a.setContentHeight(t,true);l.gotHeight=true;++q}}}}}else if(f.natural&&a.consumersHeight){++p;s=j.height;if(typeof s=="number"){l.height=s;l.gotHeight=true;++q}else{if(i||!h){r=true}else{r=h.hasDomProp("width")}if(r){if(!isNaN(l.height=c.measureOwnerHeight(a))){a.setHeight(l.height,false);l.gotHeight=true;++q}}}}if(h){a.onBoxMeasured()}l.gotAll=q==p;return l},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}});Ext.define("Ext.layout.component.Dock",{extend:"Ext.layout.component.Component",alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",initializedBorders:-1,horizontalCollapsePolicy:{width:true,x:true},verticalCollapsePolicy:{height:true,y:true},finishRender:function(){var a=this,b,c;a.callParent();b=a.getRenderTarget();c=a.getDockedItems();a.finishRenderItems(b,c)},isItemBoxParent:function(a){return true},isItemShrinkWrap:function(a){return true},dockOpposites:{top:"bottom",right:"left",bottom:"top",left:"right"},handleItemBorders:function(){var a=this,b=a.owner,c,d,e=a.borders,f=a.dockOpposites,g=b.dockedItems.generation,h,i,j,k,l,m,n=a.collapsed;if(a.initializedBorders==g||b.border&&!b.manageBodyBorders){return}a.initializedBorders=g;a.collapsed=false;d=a.getLayoutItems();a.collapsed=n;c={top:[],right:[],bottom:[],left:[]};for(h=0,i=d.length;h<i;h++){j=d[h];k=j.dock;if(j.ignoreBorderManagement){continue}if(!c[k].satisfied){c[k].push(j);c[k].satisfied=true}if(!c.top.satisfied&&f[k]!=="top"){c.top.push(j)}if(!c.right.satisfied&&f[k]!=="right"){c.right.push(j)}if(!c.bottom.satisfied&&f[k]!=="bottom"){c.bottom.push(j)}if(!c.left.satisfied&&f[k]!=="left"){c.left.push(j)}}if(e){for(l in e){if(e.hasOwnProperty(l)){i=e[l].length;if(!b.manageBodyBorders){for(h=0;h<i;h++){m=e[l][h];if(!m.isDestroyed){m.removeCls(Ext.baseCSSPrefix+"docked-noborder-"+l)}}if(!e[l].satisfied&&!b.bodyBorder){b.removeBodyCls(Ext.baseCSSPrefix+"docked-noborder-"+l)}}else if(e[l].satisfied){b.setBodyStyle("border-"+l+"-width","")}}}}for(l in c){if(c.hasOwnProperty(l)){i=c[l].length;if(!b.manageBodyBorders){for(h=0;h<i;h++){c[l][h].addCls(Ext.baseCSSPrefix+"docked-noborder-"+l)}if(!c[l].satisfied&&!b.bodyBorder||b.bodyBorder===false){b.addBodyCls(Ext.baseCSSPrefix+"docked-noborder-"+l)}}else if(c[l].satisfied){b.setBodyStyle("border-"+l+"-width","1px")}}}a.borders=c},beforeLayoutCycle:function(a){var b=this,c=b.owner,d=b.sizeModels.shrinkWrap,e,f;if(c.collapsed){if(c.collapsedVertical()){f=true;a.measureDimensions=1}else{e=true;a.measureDimensions=2}}a.collapsedVert=f;a.collapsedHorz=e;if(f){a.heightModel=d}else if(e){a.widthModel=d}},beginLayout:function(a){var b=this,c=b.owner,d=b.getLayoutItems(),e=a.context,f=d.length,g,h,i,j,k,l;b.callParent(arguments);b.handleItemBorders();l=c.getCollapsed();if(l!==b.lastCollapsedState&&Ext.isDefined(b.lastCollapsedState)){if(b.owner.collapsed){a.isCollapsingOrExpanding=1;c.addClsWithUI(c.collapsedCls)}else{a.isCollapsingOrExpanding=2;c.removeClsWithUI(c.collapsedCls);a.lastCollapsedState=b.lastCollapsedState}}b.lastCollapsedState=l;a.dockedItems=g=[];for(h=0;h<f;h++){i=d[h];if(i.rendered){j=e.getCmp(i);j.dockedAt={x:0,y:0};j.offsets=k=Ext.Element.parseBox(i.offsets||{});k.width=k.left+k.right;k.height=k.top+k.bottom;g.push(j)}}a.bodyContext=a.getEl("body")},beginLayoutCycle:function(a){var b=this,c=a.dockedItems,d=c.length,e=b.owner,f=e.frameBody,g=b.lastHeightModel,h,i,j;b.callParent(arguments);if(g&&g.shrinkWrap&&!a.heightModel.shrinkWrap&&!b.owner.manageHeight){e.body.dom.style.marginBottom=""}if(a.widthModel.auto){if(a.widthModel.shrinkWrap){e.el.setWidth(null)}e.body.setWidth(null);if(f){f.setWidth(null)}}if(a.heightModel.auto){e.body.setHeight(null);if(f){f.setHeight(null)}}if(a.collapsedVert){a.setContentHeight(0)}else if(a.collapsedHorz){a.setContentWidth(0)}for(h=0;h<d;h++){i=c[h].target;j=i.dock;if(j=="right"){i.el.setLeft(0)}else if(j!="left"){continue}}},calculate:function(a){var b=this,c=b.measureAutoDimensions(a,a.measureDimensions),d=a.state,e=d.horzDone,f=d.vertDone,g=a.bodyContext,h,i,j,k;a.borderInfo||a.getBorderInfo();a.paddingInfo||a.getPaddingInfo();a.framingInfo||a.getFraming();g.borderInfo||g.getBorderInfo();g.paddingInfo||g.getPaddingInfo();h=!e&&b.createAxis(a,c.contentWidth,a.widthModel,"left","right","x","width","Width",a.collapsedHorz);i=!f&&b.createAxis(a,c.contentHeight,a.heightModel,"top","bottom","y","height","Height",a.collapsedVert);for(j=0,k=a.dockedItems.length;k--;++j){if(h){b.dockChild(a,h,k,j)}if(i){b.dockChild(a,i,k,j)}}if(h&&b.finishAxis(a,h)){d.horzDone=e=h}if(i&&b.finishAxis(a,i)){d.vertDone=f=i}if(e&&f&&b.finishConstraints(a,e,f)){b.finishPositions(a,e,f)}else{b.done=false}},createAxis:function(a,b,c,d,e,f,g,h,i){var j=0,k=this.owner,l=k["max"+h],m=k["min"+h]||0,n=l!=null,o="set"+h,p,q,r,s,t;if(c.shrinkWrap){if(i){t=0}else{q=a.bodyContext;t=b+q.borderInfo[g]}}else{p=a.borderInfo;r=a.framingInfo;s=a.paddingInfo;t=a.getProp(g);t-=p[e]+s[e]+r[e];j=p[d]+s[d]+r[d]}return{shrinkWrap:c.shrinkWrap,sizeModel:c,begin:j,end:t,collapsed:i,horizontal:f=="x",ignoreFrameBegin:false,ignoreFrameEnd:false,initialSize:t-j,hasMinMaxConstraints:(m||n)&&c.shrinkWrap,minSize:m,maxSize:n?l:1e9,bodyPosProp:this.owner.manageHeight?f:"margin-"+d,dockBegin:d,dockEnd:e,posProp:f,sizeProp:g,sizePropCap:h,setSize:o,dockedPixelsEnd:0}},dockChild:function(a,b,c,d){var e=this,f=a.dockedItems[b.shrinkWrap?c:d],g=f.target,h=g.dock,i;if(g.ignoreParentFrame&&a.isCollapsingOrExpanding){f.clearMarginCache()}if(h==b.dockBegin){if(b.shrinkWrap){i=e.dockOutwardBegin(a,f,g,b)}else{i=e.dockInwardBegin(a,f,g,b)}}else if(h==b.dockEnd){if(b.shrinkWrap){i=e.dockOutwardEnd(a,f,g,b)}else{i=e.dockInwardEnd(a,f,g,b)}}else{i=e.dockStretch(a,f,g,b)}f.dockedAt[b.posProp]=i},dockInwardBegin:function(a,b,c,d){var e=d.begin,f=d.sizeProp,g,h;if(c.ignoreParentFrame){h=c.dock;e-=a.borderInfo[h]+a.paddingInfo[h]+a.framingInfo[h]}if(!c.overlay){g=b.getProp(f)+b.getMarginInfo()[f];d.begin+=g}return e},dockInwardEnd:function(a,b,c,d){var e=d.sizeProp,f=b.getProp(e)+b.getMarginInfo()[e],g=d.end-f;if(!c.overlay){d.end=g}if(c.ignoreParentFrame){g+=a.borderInfo[c.dock]+a.paddingInfo[c.dock]+a.framingInfo[c.dock]}return g},dockOutwardBegin:function(a,b,c,d){var e=d.begin,f=d.sizeProp,g,h;if(d.collapsed){d.ignoreFrameBegin=d.ignoreFrameEnd=true}else if(c.ignoreParentFrame){g=c.dock;e-=a.borderInfo[g]+a.paddingInfo[g]+a.framingInfo[g];d.ignoreFrameBegin=true}if(!c.overlay){h=b.getProp(f)+b.getMarginInfo()[f];e-=h;d.begin=e}return e},dockOutwardEnd:function(a,b,c,d){var e=d.end,f=d.sizeProp,g,h;h=b.getProp(f)+b.getMarginInfo()[f];if(d.collapsed){d.ignoreFrameBegin=d.ignoreFrameEnd=true}else if(c.ignoreParentFrame){g=c.dock;e+=a.borderInfo[g]+a.paddingInfo[g]+a.framingInfo[g];d.ignoreFrameEnd=true}if(!c.overlay){d.end=e+h;d.dockedPixelsEnd+=h}return e},dockStretch:function(a,b,c,d){var e=c.dock,f=d.sizeProp,g=e=="top"||e=="bottom",h=b.offsets,i=a.borderInfo,j=a.paddingInfo,k=g?"right":"bottom",l=g?"left":"top",m=d.begin+h[l],n,o,p;if(c.stretch!==false){o=d.end-m-h[k];if(c.ignoreParentFrame){p=a.framingInfo;m-=i[l]+j[l]+p[l];o+=i[f]+j[f]+p[f]}n=b.getMarginInfo();o-=n[f];b[d.setSize](o)}return m},finishAxis:function(a,b){var c=b.end-b.begin,d=b.setSize,e=b.dockBegin,f=b.dockEnd,g=a.borderInfo,h=a.paddingInfo,i=a.framingInfo,j=h[e]+g[e]+i[e],k=a.bodyContext,l,m,n;if(b.shrinkWrap){b.delta=-b.begin;m=b.initialSize;if(b.ignoreFrameBegin){b.delta-=g[e];l=-b.begin-j}else{c+=j;b.delta+=h[e]+i[e];l=-b.begin}if(!b.ignoreFrameEnd){c+=h[f]+g[f]+i[f]}b.size=c;if(!b.horizontal&&!this.owner.manageHeight){n=false}}else{b.delta=-g[b.dockBegin];m=c;l=b.begin-j}k[d](m,n);k.setProp(b.bodyPosProp,l);return!isNaN(c)},finishConstraints:function(a,b,c){var d=this.sizeModels,e=b.shrinkWrap,f=c.shrinkWrap,g,h,i,j,k,l;if(e){l=b.size;if(l<b.minSize){k=d.constrainedMin;i=b.minSize}else if(l>b.maxSize){k=d.constrainedMax;i=b.maxSize}else{i=l}}if(f){l=c.size;if(l<c.minSize){j=d.constrainedMin;h=c.minSize}else if(l>c.maxSize){j=d.constrainedMax;h=c.maxSize}else{if(!a.collapsedVert&&!this.owner.manageHeight){g=false;a.bodyContext.setProp("margin-bottom",c.dockedPixelsEnd)}h=l}}if(k||j){if(k&&j&&k.constrainedMax&&j.constrainedMin){a.invalidate({widthModel:k});return false}if(!a.widthModel.calculatedFromShrinkWrap&&!a.heightModel.calculatedFromShrinkWrap){a.invalidate({widthModel:k,heightModel:j});return false}}if(e){a.setWidth(i);if(k){a.widthModel=k}}if(f){a.setHeight(h,g);if(j){a.heightModel=j}}return true},finishPositions:function(a,b,c){var d=a.dockedItems,e=d.length,f=b.delta,g=c.delta,h,i;for(h=0;h<e;++h){i=d[h];i.setProp("x",f+i.dockedAt.x);i.setProp("y",g+i.dockedAt.y)}},finishedLayout:function(a){var b=this,c=a.target;b.callParent(arguments);if(!a.animatePolicy){if(a.isCollapsingOrExpanding===1){c.afterCollapse(false)}else if(a.isCollapsingOrExpanding===2){c.afterExpand(false)}}},getAnimatePolicy:function(a){var b=this,c,d;if(a.isCollapsingOrExpanding==1){c=b.lastCollapsedState}else if(a.isCollapsingOrExpanding==2){c=a.lastCollapsedState}if(c=="left"||c=="right"){d=b.horizontalCollapsePolicy}else if(c=="top"||c=="bottom"){d=b.verticalCollapsePolicy}return d},getDockedItems:function(a,b){var c=this,d=a==="visual",e=d?Ext.ComponentQuery.query("[rendered]",c.owner.dockedItems.items):c.owner.dockedItems.items,f=e&&e.length&&a!==false,g,h,i,j,k,l;if(b==null){i=f&&!d?e.slice():e}else{i=[];for(j=0,l=e.length;j<l;++j){h=e[j].dock;k=h=="top"||h=="left";if(b?k:!k){i.push(e[j])}}f=f&&i.length}if(f){g=(a=a||"render")=="render";Ext.Array.sort(i,function(b,d){var e,f;if(g&&(e=c.owner.dockOrder[b.dock])!==(f=c.owner.dockOrder[d.dock])){if(!(e+f)){return e-f}}e=c.getItemWeight(b,a);f=c.getItemWeight(d,a);if(e!==undefined&&f!==undefined){return e-f}return 0})}return i||[]},getItemWeight:function(a,b){var c=a.weight||this.owner.defaultDockWeights[a.dock];return c[b]||c},getLayoutItems:function(){var a=this,b,c,d,e,f;if(a.owner.collapsed){f=a.owner.getCollapsedDockedItems()}else{b=a.getDockedItems("visual");c=b.length;f=[];for(e=0;e<c;e++){d=b[e];if(!d.hidden){f.push(d)}}}return f},measureContentWidth:function(a){var b=a.bodyContext;return b.el.getWidth()-b.getBorderInfo().width},measureContentHeight:function(a){var b=a.bodyContext;return b.el.getHeight()-b.getBorderInfo().height},redoLayout:function(a){var b=this,c=b.owner;if(a.isCollapsingOrExpanding==1){if(c.reExpander){c.reExpander.el.show()}c.addClsWithUI(c.collapsedCls);a.redo(true)}else if(a.isCollapsingOrExpanding==2){c.removeClsWithUI(c.collapsedCls);a.bodyContext.redo()}},renderChildren:function(){var a=this,b=a.getDockedItems(),c=a.getRenderTarget();a.renderItems(b,c)},renderItems:function(a,b){var c=this,d=a.length,e=0,f=0,g=0,h=c.getRenderTarget().dom.childNodes,i=h.length,j,k,l,m;for(j=0,k=0;j<i;j++){l=h[j];if(Ext.fly(l).hasCls("x-resizable-handle")){break}for(k=0;k<d;k++){m=a[k];if(m.rendered&&m.el.dom===l){break}}if(k===d){g++}}for(;e<d;e++,f++){m=a[e];if(e===f&&(m.dock==="right"||m.dock==="bottom")){f+=g}if(m&&!m.rendered){c.renderItem(m,b,f)}else if(!c.isValidParent(m,b,f)){c.moveItem(m,b,f)}}},undoLayout:function(a){var b=this,c=b.owner;if(a.isCollapsingOrExpanding==1){if(c.reExpander){c.reExpander.el.hide()}c.removeClsWithUI(c.collapsedCls);a.undo(true)}else if(a.isCollapsingOrExpanding==2){c.addClsWithUI(c.collapsedCls);a.bodyContext.undo()}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},stretchH:{setsWidth:1,setsHeight:0},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(a){var b=this.sizePolicy,c,d;if(a.stretch===false){return b.nostretch}c=a.dock;d=c=="left"||c=="right";if(d){return b.stretchV}return b.stretchH},configureItem:function(a,b){this.callParent(arguments);a.addCls(Ext.baseCSSPrefix+"docked");a.addClsWithUI("docked-"+a.dock)},afterRemove:function(a){this.callParent(arguments);if(this.itemCls){a.el.removeCls(this.itemCls+"-"+a.dock)}var b=a.el.dom;if(!a.destroying&&b){b.parentNode.removeChild(b)}this.childrenChanged=true}});Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:"Ext.layout.component.Component",type:"autocomponent",setHeightInDom:false,setWidthInDom:false,waitForOuterHeightInDom:false,waitForOuterWidthInDom:false,beginLayoutCycle:function(a,b){var c=this,d=c.lastWidthModel,e=c.lastHeightModel,f=c.owner;c.callParent(arguments);if(d&&d.fixed&&a.widthModel.shrinkWrap){f.el.setWidth(null)}if(e&&e.fixed&&a.heightModel.shrinkWrap){f.el.setHeight(null)}},calculate:function(a){var b=this,c=b.measureAutoDimensions(a),d=a.heightModel,e=a.widthModel,f,g;if(c.gotWidth){if(e.shrinkWrap){b.publishOwnerWidth(a,c.contentWidth)}else if(b.publishInnerWidth){b.publishInnerWidth(a,c.width)}}else if(!e.auto&&b.publishInnerWidth){f=b.waitForOuterWidthInDom?a.getDomProp("width"):a.getProp("width");if(f===undefined){b.done=false}else{b.publishInnerWidth(a,f)}}if(c.gotHeight){if(d.shrinkWrap){b.publishOwnerHeight(a,c.contentHeight)}else if(b.publishInnerHeight){b.publishInnerHeight(a,c.height)}}else if(!d.auto&&b.publishInnerHeight){g=b.waitForOuterHeightInDom?a.getDomProp("height"):a.getProp("height");if(g===undefined){b.done=false}else{b.publishInnerHeight(a,g)}}if(!c.gotAll){b.done=false}},calculateOwnerHeightFromContentHeight:function(a,b){return b+a.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(a,b){return b+a.getFrameInfo().width},publishOwnerHeight:function(a,b){var c=this,d=c.owner,e=c.calculateOwnerHeightFromContentHeight(a,b),f,g,h;if(isNaN(e)){c.done=false}else{f=Ext.Number.constrain(e,d.minHeight,d.maxHeight);if(f==e){g=c.setHeightInDom}else{h=c.sizeModels[f<e?"constrainedMax":"constrainedMin"];e=f;if(a.heightModel.calculatedFromShrinkWrap){a.heightModel=h}else{a.invalidate({heightModel:h})}}a.setHeight(e,g)}},publishOwnerWidth:function(a,b){var c=this,d=c.owner,e=c.calculateOwnerWidthFromContentWidth(a,b),f,g,h;if(isNaN(e)){c.done=false}else{f=Ext.Number.constrain(e,d.minWidth,d.maxWidth);if(f==e){g=c.setWidthInDom}else{h=c.sizeModels[f<e?"constrainedMax":"constrainedMin"];e=f;if(a.widthModel.calculatedFromShrinkWrap){a.widthModel=h}else{a.invalidate({widthModel:h})}}a.setWidth(e,g)}}});Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:"Ext.layout.component.Auto",type:"progressbar",beginLayout:function(a){var b=this,c,d;b.callParent(arguments);if(!a.textEls){d=b.owner.textEl;if(d.isComposite){a.textEls=[];d=d.elements;for(c=d.length;c--;){a.textEls[c]=a.getEl(Ext.get(d[c]))}}else{a.textEls=[a.getEl("textEl")]}}},calculate:function(a){var b=this,c,d,e;b.callParent(arguments);if(Ext.isNumber(e=a.getProp("width"))){e-=a.getBorderInfo().width;d=a.textEls;for(c=d.length;c--;){d[c].setWidth(e)}}else{b.done=false}}});Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:"Ext.layout.component.Auto",type:"button",cellClsRE:/-btn-(tl|br)\b/,htmlRE:/<.*>/,constructor:function(){this.callParent(arguments);this.hackWidth=Ext.isIE&&(!Ext.isStrict||Ext.isIE6||Ext.isIE7||Ext.isIE8);this.heightIncludesPadding=Ext.isIE6&&Ext.isStrict},beginLayout:function(a){this.callParent(arguments);this.cacheTargetInfo(a)},beginLayoutCycle:function(a){var b=this,c="",d=b.owner,e=d.btnEl,f=d.btnInnerEl,g=d.text,h;b.callParent(arguments);f.setStyle("overflow",c);if(!a.widthModel.natural){d.el.setStyle("width",c)}h=a.heightModel.shrinkWrap&&g&&b.htmlRE.test(g);e.setStyle("width",c);e.setStyle("height",h?"auto":c);f.setStyle("width",c);f.setStyle("height",h?"auto":c);f.setStyle("line-height",h?"normal":c);f.setStyle("padding-top",c);d.btnIconEl.setStyle("width",c)},calculateOwnerHeightFromContentHeight:function(a,b){return b},calculateOwnerWidthFromContentWidth:function(a,b){return b},measureContentWidth:function(a){var b=this,c=b.owner,d=c.btnEl,e=c.btnInnerEl,f=c.text,g,h,i,j,k,l;if(c.text&&b.hackWidth&&d){g=b.btnFrameWidth;if(f.indexOf(">")===-1){f=f.replace(/</g,"<")}h=Ext.util.TextMetrics.measure(e,f);j=h.width+g+b.adjWidth;k=a.getEl("btnEl");l=a.getEl("btnInnerEl");i=(c.icon||c.iconCls)&&(c.iconAlign=="top"||c.iconAlign=="bottom");a.setWidth(j);k.setWidth(h.width+g);l.setWidth(h.width+g);if(i){c.btnIconEl.setWidth(h.width+g)}}else{j=a.el.getWidth()}return j},measureContentHeight:function(a){var b=this,c=b.owner,d=c.btnInnerEl,e=a.getEl("btnEl"),f=a.getEl("btnInnerEl"),g=b.minTextHeight,h=b.adjHeight,i=c.getText(),j,k,l;if(c.vertical){j=Ext.util.TextMetrics.measure(d,c.text).width;j+=b.btnFrameHeight+h;a.setHeight(j,true,true)}else{if(i&&b.htmlRE.test(i)){k=d.getHeight();if(k<g){l=Math.floor((g-k)/2);f.setHeight(g-(b.heightIncludesPadding?l:0));f.setProp("padding-top",l);k=g}j=k+h}else{j=a.el.getHeight()}}e.setHeight(j-h);return j},publishInnerHeight:function(a,b){var c=this,d=c.owner,e=Ext.isNumber,f=a.getEl("btnEl"),g=d.btnInnerEl,h=a.getEl("btnInnerEl"),i=e(b)?b-c.adjHeight:b,j=c.btnFrameHeight,k=d.getText(),l,m;f.setHeight(i);h.setHeight(i);if(!d.vertical&&i>=0){h.setProp("line-height",i-j+"px")}if(k&&c.htmlRE.test(k)){h.setProp("line-height","normal");g.setStyle("line-height","normal");l=Ext.util.TextMetrics.measure(g,k).height;m=Math.floor(Math.max(i-j-l,0)/2);h.setProp("padding-top",c.btnFrameTop+m);h.setHeight(i-(c.heightIncludesPadding?m:0))}},publishInnerWidth:function(a,b){var c=this,d=Ext.isNumber,e=a.getEl("btnEl"),f=a.getEl("btnInnerEl"),g=d(b)?b-c.adjWidth:b;e.setWidth(g);f.setWidth(g)},clearTargetCache:function(){delete this.adjWidth},cacheTargetInfo:function(a){var b=this,c=b.owner,d=c.scale,e,f,g,h,i;if(!("adjWidth"in b)||b.lastScale!==d){if(b.lastScale){c.btnInnerEl.setStyle("line-height","")}b.lastScale=d;e=a.getPaddingInfo();f=a.getFrameInfo();g=a.getEl("btnWrap").getPaddingInfo();h=a.getEl("btnInnerEl");i=h.getPaddingInfo();Ext.apply(b,{adjWidth:g.width+f.width+e.width,adjHeight:g.height+f.height+e.height,btnFrameWidth:i.width,btnFrameHeight:i.height,btnFrameTop:i.top,minTextHeight:parseInt(h.getStyle("line-height"),10)})}b.callParent(arguments)},finishedLayout:function(){var a=this.owner;this.callParent(arguments);if(Ext.isWebKit){a.el.dom.offsetWidth}}});Ext.define("Ext.layout.component.field.Field",{extend:"Ext.layout.component.Auto",alias:"layout.field",uses:["Ext.tip.QuickTip","Ext.util.TextMetrics","Ext.util.CSS"],type:"field",naturalSizingProp:"size",beginLayout:function(a){var b=this,c=b.owner,d=a.widthModel,e=c[b.naturalSizingProp],f;b.callParent(arguments);a.labelStrategy=b.getLabelStrategy();a.errorStrategy=b.getErrorStrategy();a.labelContext=a.getEl("labelEl");a.bodyCellContext=a.getEl("bodyEl");a.inputContext=a.getEl("inputEl");a.errorContext=a.getEl("errorEl");if((Ext.isIE6||Ext.isIE7)&&Ext.isStrict&&a.inputContext){b.ieInputWidthAdjustment=a.inputContext.getPaddingInfo().width+a.inputContext.getBorderInfo().width}a.labelStrategy.prepare(a,c);a.errorStrategy.prepare(a,c);if(d.shrinkWrap){b.beginLayoutShrinkWrap(a)}else if(d.natural){if(typeof e=="number"&&!c.inputWidth){b.beginLayoutFixed(a,f=e*6.5+20,"px")}else{b.beginLayoutShrinkWrap(a)}a.setWidth(f,false)}else{b.beginLayoutFixed(a,"100","%")}},beginLayoutFixed:function(a,b,c){var d=a.target,e=d.inputEl,f=d.inputWidth;d.el.setStyle("table-layout","fixed");d.bodyEl.setStyle("width",b+c);if(e&&f){e.setStyle("width",f+"px")}a.isFixed=true},beginLayoutShrinkWrap:function(a){var b=a.target,c=b.inputEl,d=b.inputWidth;if(c&&c.dom){c.dom.removeAttribute("size");if(d){c.setStyle("width",d+"px")}}b.el.setStyle("table-layout","auto");b.bodyEl.setStyle("width","")},finishedLayout:function(a){var b=this.owner;this.callParent(arguments);a.labelStrategy.finishedLayout(a,b);a.errorStrategy.finishedLayout(a,b)},calculateOwnerHeightFromContentHeight:function(a,b){return b},measureContentHeight:function(a){return a.el.getHeight()},measureContentWidth:function(a){return a.el.getWidth()},measureLabelErrorHeight:function(a){return a.labelStrategy.getHeight(a)+a.errorStrategy.getHeight(a)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var a=this,b=a.labelStrategies,c=a.owner.labelAlign;return b[c]||b.base},getErrorStrategy:function(){var a=this,b=a.owner,c=a.errorStrategies,d=b.msgTarget;return!b.preventMark&&Ext.isString(d)?c[d]||c.elementId:c.none},labelStrategies:function(){var a={prepare:function(a,b){var c=b.labelCls+"-"+b.labelAlign,d=b.labelEl;if(d){d.addCls(c)}},getHeight:function(){return 0},finishedLayout:Ext.emptyFn};return{base:a,top:Ext.applyIf({getHeight:function(a){var b=a.labelContext,c=b.props,d=c.height;if(d===undefined){c.height=d=b.el.getHeight()}return d}},a),left:a,right:a}}(),errorStrategies:function(){function a(a){var b=Ext.layout.component.field.Field.tip,c;if(b&&b.isVisible()){c=b.activeTarget;if(c&&c.el===a.getActionEl().dom){b.toFront(true)}}}var b=Ext.applyIf,c=Ext.emptyFn,d=Ext.baseCSSPrefix+"form-invalid-icon",e,f={prepare:function(a,b){var c=b.errorEl;if(c){c.setDisplayed(false)}},getHeight:function(){return 0},onFocus:c,finishedLayout:c};return{none:f,side:b({prepare:function(a,b){var c=b.errorEl,f=b.sideErrorCell,g=b.hasActiveError(),h;if(!e){e=(h=Ext.getBody().createChild({style:"position:absolute",cls:d})).getWidth();h.remove()}c.addCls(d);c.set({"data-errorqtip":b.getActiveError()||""});if(b.autoFitErrors){c.setDisplayed(g)}else{c.setVisible(g)}if(f&&b.autoFitErrors){f.setDisplayed(g)}b.bodyEl.dom.colSpan=b.getBodyColspan();Ext.layout.component.field.Field.initTip()},onFocus:a},f),under:b({prepare:function(a,b){var c=b.errorEl,d=Ext.baseCSSPrefix+"form-invalid-under";c.addCls(d);c.setDisplayed(b.hasActiveError())},getHeight:function(a){var b=0,c,d;if(a.target.hasActiveError()){c=a.errorContext;d=c.props;b=d.height;if(b===undefined){d.height=b=c.el.getHeight()}}return b}},f),qtip:b({prepare:function(a,b){Ext.layout.component.field.Field.initTip();b.getActionEl().set({"data-errorqtip":b.getActiveError()||""})},onFocus:a},f),title:b({prepare:function(a,b){b.el.set({title:b.getActiveError()||""})}},f),elementId:b({prepare:function(a,b){var c=Ext.fly(b.msgTarget);if(c){c.dom.innerHTML=b.getActiveError()||"";c.setDisplayed(b.hasActiveError())}}},f)}}(),statics:{initTip:function(){var a=this.tip;if(!a){a=this.tip=Ext.create("Ext.tip.QuickTip",{baseCls:Ext.baseCSSPrefix+"form-invalid-tip"});a.tagConfig=Ext.apply({},{attribute:"errorqtip"},a.tagConfig)}},destroyTip:function(){var a=this.tip;if(a){a.destroy();delete this.tip}}}});Ext.define("Ext.layout.component.field.Text",{extend:"Ext.layout.component.field.Field",alias:"layout.textfield",requires:["Ext.util.TextMetrics"],type:"textfield",canGrowWidth:true,beginLayoutCycle:function(a){var b=this;b.callParent(arguments);if(a.shrinkWrap){a.inputContext.el.setStyle("height","")}},measureContentWidth:function(a){var b=this,c=b.owner,d=b.callParent(arguments),e=a.inputContext,f,g,h,i,j;if(c.grow&&b.canGrowWidth&&!a.state.growHandled){f=c.inputEl;g=Ext.util.Format.htmlEncode(f.dom.value||(c.hasFocus?"":c.emptyText)||"");g+=c.growAppend;h=f.getTextWidth(g)+e.getFrameInfo().width;i=c.growMax;j=Math.min(i,d);i=Math.max(c.growMin,i,j);h=Ext.Number.constrain(h,c.growMin,i);e.setWidth(h);a.state.growHandled=true;e.domBlock(b,"width");d=NaN}return d},publishInnerHeight:function(a,b){a.inputContext.setHeight(b-this.measureLabelErrorHeight(a))},beginLayoutFixed:function(a,b,c){var d=this,e=d.ieInputWidthAdjustment;if(e){d.owner.bodyEl.setStyle("padding-right",e+"px");if(c==="px"){b-=e}}d.callParent(arguments)}});Ext.define("Ext.layout.component.field.TextArea",{extend:"Ext.layout.component.field.Text",alias:"layout.textareafield",type:"textareafield",canGrowWidth:false,naturalSizingProp:"cols",beginLayout:function(a){this.callParent(arguments);a.target.inputEl.setStyle("height","")},measureContentHeight:function(a){var b=this,c=b.owner,d=b.callParent(arguments),e,f,g,h,i,j;if(c.grow&&!a.state.growHandled){e=a.inputContext;f=c.inputEl;i=f.getWidth(true);g=Ext.util.Format.htmlEncode(f.dom.value)||"&#160;";g+=c.growAppend;g=g.replace(/\n/g,"<br/>");j=Ext.util.TextMetrics.measure(f,g,i).height+e.getBorderInfo().height+e.getPaddingInfo().height;j=Ext.Number.constrain(j,c.growMin,c.growMax);e.setHeight(j);a.state.growHandled=true;e.domBlock(b,"height");d=NaN}return d}});Ext.define("Ext.layout.component.field.HtmlEditor",{extend:"Ext.layout.component.field.Field",alias:["layout.htmleditor"],type:"htmleditor",toolbarSizePolicy:{setsWidth:0,setsHeight:0},beginLayout:function(a){this.callParent(arguments);a.textAreaContext=a.getEl("textareaEl");a.iframeContext=a.getEl("iframeEl");a.toolbarContext=a.context.getCmp(this.owner.getToolbar())},renderItems:Ext.emptyFn,getItemSizePolicy:function(a){return this.toolbarSizePolicy},getLayoutItems:function(){var a=this.owner.getToolbar();return a?[a]:[]},getRenderTarget:function(){return this.owner.bodyEl},publishInnerHeight:function(a,b){var c=this,d=b-c.measureLabelErrorHeight(a)-a.toolbarContext.getProp("height")-a.bodyCellContext.getPaddingInfo().height;if(Ext.isNumber(d)){a.textAreaContext.setHeight(d);a.iframeContext.setHeight(d)}else{c.done=false}}});Ext.define("Ext.dd.DragDropManager",{singleton:true,requires:["Ext.util.Region"],uses:["Ext.tip.QuickTipManager"],alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,notifyOccluded:false,_execOnAll:function(a,b){var c,d,e;for(c in this.ids){for(d in this.ids[c]){e=this.ids[c][d];if(!this.isTypeOfDD(e)){continue}e[a].apply(e,b)}}},_onLoad:function(){this.init();var a=Ext.EventManager;a.on(document,"mouseup",this.handleMouseUp,this,true);a.on(document,"mousemove",this.handleMouseMove,this,true);a.on(window,"unload",this._onUnload,this,true);a.on(window,"resize",this._onResize,this,true)},_onResize:function(a){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(a,b){if(!this.initialized){this.init()}if(!this.ids[b]){this.ids[b]={}}this.ids[b][a.id]=a},removeDDFromGroup:function(a,b){if(!this.ids[b]){this.ids[b]={}}var c=this.ids[b];if(c&&c[a.id]){delete c[a.id]}},_remove:function(a){for(var b in a.groups){if(b&&this.ids[b]&&this.ids[b][a.id]){delete this.ids[b][a.id]}}delete this.handleIds[a.id]},regHandle:function(a,b){if(!this.handleIds[a]){this.handleIds[a]={}}this.handleIds[a][b]=b},isDragDrop:function(a){return this.getDDById(a)?true:false},getRelated:function(a,b){var c=[],d,e,f;for(d in a.groups){for(e in this.ids[d]){f=this.ids[d][e];if(!this.isTypeOfDD(f)){continue}if(!b||f.isTarget){c[c.length]=f}}}return c},isLegalTarget:function(a,b){var c=this.getRelated(a,true),d,e;for(d=0,e=c.length;d<e;++d){if(c[d].id==b.id){return true}}return false},isTypeOfDD:function(a){return a&&a.__ygDragDrop},isHandle:function(a,b){return this.handleIds[a]&&this.handleIds[a][b]},getDDById:function(a){var b=this,c,d;for(c in this.ids){d=this.ids[c][a];if(d instanceof Ext.dd.DDTarget){return d}}return null},handleMouseDown:function(a,b){if(Ext.tip.QuickTipManager){Ext.tip.QuickTipManager.ddDisable()}if(this.dragCurrent){this.handleMouseUp(a)}this.currentTarget=a.getTarget();this.dragCurrent=b;var c=b.getEl();if(Ext.isIE&&c.setCapture){c.setCapture()}this.startX=a.getPageX();this.startY=a.getPageY();this.deltaX=this.startX-c.offsetLeft;this.deltaY=this.startY-c.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var a=Ext.dd.DragDropManager;a.startDrag(a.startX,a.startY)},this.clickTimeThresh)},startDrag:function(a,b){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(a,b);this.dragCurrent.startDrag(a,b)}this.dragThreshMet=true},handleMouseUp:function(a){var b=this.dragCurrent;if(Ext.tip&&Ext.tip.QuickTipManager){Ext.tip.QuickTipManager.ddEnable()}if(!b){return}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(a,true)}this.stopDrag(a);this.stopEvent(a)},stopEvent:function(a){if(this.stopPropagation){a.stopPropagation()}if(this.preventDefault){a.preventDefault()}},stopDrag:function(a){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(a);this.dragCurrent.endDrag(a)}this.dragCurrent.onMouseUp(a)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(a){var b=this,c,d;if(!b.dragCurrent){return true}if(!b.dragThreshMet){c=Math.abs(b.startX-a.getPageX());d=Math.abs(b.startY-a.getPageY());if(c>b.clickPixelThresh||d>b.clickPixelThresh){b.startDrag(b.startX,b.startY)}}if(b.dragThreshMet){b.dragCurrent.b4Drag(a);b.dragCurrent.onDrag(a);if(!b.dragCurrent.moveOnly){b.fireEvents(a,false)}}b.stopEvent(a);return true},fireEvents:function(a,b){var c=this,d=c.dragCurrent,e=a.getPoint(),f,g,h=[],i=[],j=[],k=[],l=[],m=[],n,o,p,q;if(!d||d.isLocked()){return}for(o in c.dragOvers){f=c.dragOvers[o];if(!c.isTypeOfDD(f)){continue}if(!this.isOverTarget(e,f,c.mode)){j.push(f)}i[o]=true;delete c.dragOvers[o]}for(q in d.groups){if("string"!=typeof q){continue}for(o in c.ids[q]){f=c.ids[q][o];if(c.isTypeOfDD(f)&&(g=f.getEl())&&f.isTarget&&!f.isLocked()&&Ext.fly(g).isVisible(true)&&(f!=d||d.ignoreSelf===false)){if((f.zIndex=c.getZIndex(g))!==-1){n=true}h.push(f)}}}if(n){Ext.Array.sort(h,c.byZIndex)}for(o=0,p=h.length;o<p;o++){f=h[o];if(c.isOverTarget(e,f,c.mode)){if(b){l.push(f)}else{if(!i[f.id]){m.push(f)}else{k.push(f)}c.dragOvers[f.id]=f}if(!c.notifyOccluded){break}}}if(c.mode){if(j.length){d.b4DragOut(a,j);d.onDragOut(a,j)}if(m.length){d.onDragEnter(a,m)}if(k.length){d.b4DragOver(a,k);d.onDragOver(a,k)}if(l.length){d.b4DragDrop(a,l);d.onDragDrop(a,l)}}else{for(o=0,p=j.length;o<p;++o){d.b4DragOut(a,j[o].id);d.onDragOut(a,j[o].id)}for(o=0,p=m.length;o<p;++o){d.onDragEnter(a,m[o].id)}for(o=0,p=k.length;o<p;++o){d.b4DragOver(a,k[o].id);d.onDragOver(a,k[o].id)}for(o=0,p=l.length;o<p;++o){d.b4DragDrop(a,l[o].id);d.onDragDrop(a,l[o].id)}}if(b&&!l.length){d.onInvalidDrop(a)}},getZIndex:function(a){var b=document.body,c,d=-1;a=Ext.getDom(a);while(a!==b){if(!isNaN(c=Number(Ext.fly(a).getStyle("zIndex")))){d=c}a=a.parentNode}return d},byZIndex:function(a,b){return a.zIndex<b.zIndex},getBestMatch:function(a){var b=null,c=a.length,d,e;if(c==1){b=a[0]}else{for(d=0;d<c;++d){e=a[d];if(e.cursorIsOver){b=e;break}else{if(!b||b.overlap.getArea()<e.overlap.getArea()){b=e}}}}return b},refreshCache:function(a){var b,c,d,e;for(b in a){if("string"!=typeof b){continue}for(c in this.ids[b]){d=this.ids[b][c];if(this.isTypeOfDD(d)){e=this.getLocation(d);if(e){this.locationCache[d.id]=e}else{delete this.locationCache[d.id]}}}}},verifyEl:function(a){if(a){var b;if(Ext.isIE){try{b=a.offsetParent}catch(c){}}else{b=a.offsetParent}if(b){return true}}return false},getLocation:function(a){if(!this.isTypeOfDD(a)){return null}if(a.getRegion){return a.getRegion()}var b=a.getEl(),c,d,e,f,g,h,i,j,k;try{c=Ext.Element.getXY(b)}catch(l){}if(!c){return null}d=c[0];e=d+b.offsetWidth;f=c[1];g=f+b.offsetHeight;h=f-a.padding[0];i=e+a.padding[1];j=g+a.padding[2];k=d-a.padding[3];return new Ext.util.Region(h,i,j,k)},isOverTarget:function(a,b,c){var d=this.locationCache[b.id],e,f,g,h,i;if(!d||!this.useCache){d=this.getLocation(b);this.locationCache[b.id]=d}if(!d){return false}b.cursorIsOver=d.contains(a);e=this.dragCurrent;if(!e||!e.getTargetCoord||!c&&!e.constrainX&&!e.constrainY){return b.cursorIsOver}b.overlap=null;f=e.getTargetCoord(a.x,a.y);g=e.getDragEl();h=new Ext.util.Region(f.y,f.x+g.offsetWidth,f.y+g.offsetHeight,f.x);i=h.intersect(d);if(i){b.overlap=i;return c?true:b.cursorIsOver}else{return false}},_onUnload:function(a,b){Ext.dd.DragDropManager.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var a in this.elementCache){delete this.elementCache[a]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(a){var b=this.elementCache[a];if(!b||!b.el){b=this.elementCache[a]=new this.ElementWrapper(Ext.getDom(a))}return b},getElement:function(a){return Ext.getDom(a)},getCss:function(a){var b=Ext.getDom(a);return b?b.style:null},ElementWrapper:function(a){this.el=a||null;this.id=this.el&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.Element.getX(a)},getPosY:function(a){return Ext.Element.getY(a)},swapNode:function(a,b){if(a.swapNode){a.swapNode(b)}else{var c=b.parentNode,d=b.nextSibling;if(d==a){c.insertBefore(a,b)}else if(b==a.nextSibling){c.insertBefore(b,a)}else{a.parentNode.replaceChild(b,a);c.insertBefore(a,d)}}},getScroll:function(){var a=window.document,b=a.documentElement,c=a.body,d=0,e=0;if(Ext.isGecko4){d=window.scrollYOffset;e=window.scrollXOffset}else{if(b&&(b.scrollTop||b.scrollLeft)){d=b.scrollTop;e=b.scrollLeft}else if(c){d=c.scrollTop;e=c.scrollLeft}}return{top:d,left:e}},getStyle:function(a,b){return Ext.fly(a).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,b){var c=Ext.Element.getXY(b);Ext.Element.setXY(a,c)},numericSort:function(a,b){return a-b},_timeoutCount:0,_addListeners:function(){if(document){this._onLoad()}else{if(this._timeoutCount<=2e3){setTimeout(this._addListeners,10);if(document&&document.body){this._timeoutCount+=1}}}},handleWasClicked:function(a,b){if(this.isHandle(b,a.id)){return true}else{var c=a.parentNode;while(c){if(this.isHandle(b,c.id)){return true}else{c=c.parentNode}}}return false}},function(){this._addListeners()});Ext.define("Ext.data.AbstractStore",{requires:["Ext.util.MixedCollection","Ext.data.proxy.Proxy","Ext.data.Operation","Ext.util.Filter"],mixins:{observable:"Ext.util.Observable",sortable:"Ext.util.Sortable"},statics:{create:function(a){if(!a.isStore){if(!a.type){a.type="store"}a=Ext.createByAlias("store."+a.type,a)}return a}},remoteSort:false,remoteFilter:false,autoLoad:undefined,autoSync:false,batchUpdateMode:"operation",filterOnLoad:true,sortOnLoad:true,implicitModel:false,defaultProxyType:"memory",isDestroyed:false,isStore:true,sortRoot:"data",constructor:function(a){var b=this,c;Ext.apply(b,a);b.removed=[];b.mixins.observable.constructor.apply(b,arguments);var d=b.model;b.model=Ext.ModelManager.getModel(b.model);Ext.applyIf(b,{modelDefaults:{}});if(!b.model&&b.fields){b.model=Ext.define("Ext.data.Store.ImplicitModel-"+(b.storeId||Ext.id()),{extend:"Ext.data.Model",fields:b.fields,proxy:b.proxy||b.defaultProxyType});delete b.fields;b.implicitModel=true}if(!b.model&&b.useModelWarning!==false){var e=[Ext.getClassName(b)||"Store"," created with no model."];if(typeof d==="string"){e.push(" The name '",d,"'"," does not correspond to a valid model.")}Ext.log.warn(e.join(""))}b.setProxy(b.proxy||b.model.getProxy());b.proxy.on("metachange",b.onMetaChange,b);if(b.id&&!b.storeId){b.storeId=b.id;delete b.id}if(b.storeId){Ext.data.StoreManager.register(b)}b.mixins.sortable.initSortable.call(b);c=b.decodeFilters(b.filters);b.filters=new Ext.util.MixedCollection;b.filters.addAll(c)},setProxy:function(a){var b=this;if(a instanceof Ext.data.proxy.Proxy){a.setModel(b.model)}else{if(Ext.isString(a)){a={type:a}}Ext.applyIf(a,{model:b.model});a=Ext.createByAlias("proxy."+a.type,a)}b.proxy=a;return b.proxy},getProxy:function(){return this.proxy},onMetaChange:function(a,b){this.fireEvent("metachange",this,b)},create:function(a,b){var c=this,d=Ext.ModelManager.create(Ext.applyIf(a,c.modelDefaults),c.model.modelName),e;b=b||{};Ext.applyIf(b,{action:"create",records:[d]});e=new Ext.data.Operation(b);c.proxy.create(e,c.onProxyWrite,c);return d},read:function(){return this.load.apply(this,arguments)},update:function(a){var b=this,c;a=a||{};Ext.applyIf(a,{action:"update",records:b.getUpdatedRecords()});c=new Ext.data.Operation(a);return b.proxy.update(c,b.onProxyWrite,b)},onProxyWrite:function(a){var b=this,c=a.wasSuccessful(),d=a.getRecords();switch(a.action){case"create":b.onCreateRecords(d,a,c);break;case"update":b.onUpdateRecords(d,a,c);break;case"destroy":b.onDestroyRecords(d,a,c);break}if(c){b.fireEvent("write",b,a);b.fireEvent("datachanged",b);b.fireEvent("refresh",b)}Ext.callback(a.callback,a.scope||b,[d,a,c])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(a,b,c){if(c){this.removed=[]}},destroy:function(a){var b=this,c;a=a||{};Ext.applyIf(a,{action:"destroy",records:b.getRemovedRecords()});c=new Ext.data.Operation(a);return b.proxy.destroy(c,b.onProxyWrite,b)},onBatchOperationComplete:function(a,b){return this.onProxyWrite(b)},onBatchComplete:function(a,b){var c=this,d=a.operations,e=d.length,f;c.suspendEvents();for(f=0;f<e;f++){c.onProxyWrite(d[f])}c.resumeEvents();c.fireEvent("datachanged",c);c.fireEvent("refresh",c)},onBatchException:function(a,b){},filterNew:function(a){return a.phantom===true&&a.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return a.dirty===true&&a.phantom!==true&&a.isValid()},getRemovedRecords:function(){return this.removed},filter:function(a,b){},decodeFilters:function(a){if(!Ext.isArray(a)){if(a===undefined){a=[]}else{a=[a]}}var b=a.length,c=Ext.util.Filter,d,e;for(e=0;e<b;e++){d=a[e];if(!(d instanceof c)){Ext.apply(d,{root:"data"});if(d.fn){d.filterFn=d.fn}if(typeof d=="function"){d={filterFn:d}}a[e]=new c(d)}}return a},clearFilter:function(a){},isFiltered:function(){},filterBy:function(a,b){},sync:function(a){var b=this,c={},d=b.getNewRecords(),e=b.getUpdatedRecords(),f=b.getRemovedRecords(),g=false;if(d.length>0){c.create=d;g=true}if(e.length>0){c.update=e;g=true}if(f.length>0){c.destroy=f;g=true}if(g&&b.fireEvent("beforesync",c)!==false){a=a||{};b.proxy.batch(Ext.apply(a,{operations:c,listeners:b.getBatchListeners()}))}return b},getBatchListeners:function(){var a=this,b={scope:a,exception:a.onBatchException};if(a.batchUpdateMode=="operation"){b.operationcomplete=a.onBatchOperationComplete}else{b.complete=a.onBatchComplete}return b},save:function(){return this.sync.apply(this,arguments)},load:function(a){var b=this,c;a=Ext.apply({action:"read",filters:b.filters.items,sorters:b.getSorters()},a);b.lastOptions=a;c=new Ext.data.Operation(a);if(b.fireEvent("beforeload",b,c)!==false){b.loading=true;b.proxy.read(c,b.onProxyLoad,b)}return b},reload:function(a){return this.load(Ext.apply(this.lastOptions,a))},afterEdit:function(a,b){var c=this,d,e;if(c.autoSync&&!c.autoSyncSuspended){for(d=b.length;d--;){if(a.fields.get(b[d]).persist){e=true;break}}if(e){c.sync()}}c.fireEvent("update",c,a,Ext.data.Model.EDIT,b)},afterReject:function(a){this.fireEvent("update",this,a,Ext.data.Model.REJECT,null)},afterCommit:function(a){this.fireEvent("update",this,a,Ext.data.Model.COMMIT,null)},destroyStore:function(){var a=this;if(!a.isDestroyed){if(a.storeId){Ext.data.StoreManager.unregister(a)}a.clearData();a.data=a.tree=a.sorters=a.filters=a.groupers=null;if(a.reader){a.reader.destroyReader()}a.proxy=a.reader=a.writer=null;a.clearListeners();a.isDestroyed=true;if(a.implicitModel){Ext.destroy(a.model)}else{a.model=null}}},doSort:function(a){var b=this;if(b.remoteSort){b.load()}else{b.data.sortBy(a);b.fireEvent("datachanged",b);b.fireEvent("refresh",b)}},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return!!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=true},resumeAutoSync:function(){this.autoSyncSuspended=false}});Ext.define("Ext.data.writer.Json",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",root:undefined,encode:false,allowSingle:true,writeRecords:function(a,b){var c=this.root;if(this.allowSingle&&b.length==1){b=b[0]}if(this.encode){if(c){a.params[c]=Ext.encode(b)}else{Ext.Error.raise("Must specify a root when using encode")}}else{a.jsonData=a.jsonData||{};if(c){a.jsonData[c]=b}else{a.jsonData=b}}return a}});Ext.define("Ext.util.LruCache",{extend:"Ext.util.HashMap",constructor:function(a){Ext.apply(this,a);this.callParent([a])},add:function(a,b){var c=this,d=c.findKey(b),e;if(d){c.unlinkEntry(e=c.map[d]);e.prev=c.last;e.next=null}else{e={prev:c.last,next:null,key:a,value:b}}if(c.last){c.last.next=e}else{c.first=e}c.last=e;c.callParent([a,e]);c.prune();return b},insertBefore:function(a,b,c){var d=this,e,f;if(c=this.map[this.findKey(c)]){e=d.findKey(b);if(e){d.unlinkEntry(f=d.map[e])}else{f={prev:c.prev,next:c,key:a,value:b}}if(c.prev){f.prev.next=f}else{d.first=f}f.next=c;c.prev=f;d.prune();return b}else{return d.add(a,b)}},get:function(a){var b=this.map[a];if(b){if(b.next){this.moveToEnd(b)}return b.value}},removeAtKey:function(a){this.unlinkEntry(this.map[a]);return this.callParent(arguments)},clear:function(a){this.first=this.last=null;return this.callParent(arguments)},unlinkEntry:function(a){if(a){if(a.next){a.next.prev=a.prev}else{this.last=a.prev}if(a.prev){a.prev.next=a.next}else{this.first=a.next}a.prev=a.next=null}},moveToEnd:function(a){this.unlinkEntry(a);if(a.prev=this.last){this.last.next=a}else{this.first=a}this.last=a},getArray:function(a){var b=[],c=this.first;while(c){b.push(a?c.key:c.value);c=c.next}return b},each:function(a,b,c){var d=this,e=c?d.last:d.first,f=d.length;b=b||d;while(e){if(a.call(b,e.key,e.value,f)===false){break}e=c?e.prev:e.next}return d},findKey:function(a){var b,c=this.map;for(b in c){if(c.hasOwnProperty(b)&&c[b].value===a){return b}}return undefined},prune:function(){var a=this,b=a.maxSize?a.length-a.maxSize:0;if(b>0){for(;a.first&&b;b--){a.removeAtKey(a.first.key)}}}});Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:"Ext.layout.container.Container",type:"autocontainer",childEls:["clearEl"],renderTpl:["{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear" role="presentation"></div>'],calculate:function(a){var b=this,c;if(!a.hasDomProp("containerChildrenDone")){b.done=false}else{c=b.getContainerSize(a);if(!c.gotAll){b.done=false}b.calculateContentSize(a)}}});Ext.define("Ext.layout.component.Draw",{alias:"layout.draw",extend:"Ext.layout.component.Auto",type:"draw",measureContentWidth:function(a){var b=a.target,c=a.getPaddingInfo(),d=this.getBBox(a);if(!b.viewBox){if(b.autoSize){return d.width+c.width}else{return d.x+d.width+c.width}}else{if(a.heightModel.shrinkWrap){return c.width}else{return d.width/d.height*(a.getProp("contentHeight")-c.height)+c.width}}},measureContentHeight:function(a){var b=a.target,c=a.getPaddingInfo(),d=this.getBBox(a);if(!a.target.viewBox){if(b.autoSize){return d.height+c.height}else{return d.y+d.height+c.height}}else{if(a.widthModel.shrinkWrap){return c.height}else{return d.height/d.width*(a.getProp("contentWidth")-c.width)+c.height}}},getBBox:function(a){var b=a.surfaceBBox;if(!b){b=a.target.surface.items.getBBox();if(b.width===-Infinity&&b.height===-Infinity){b.width=b.height=b.x=b.y=0}a.surfaceBBox=b}return b},publishInnerWidth:function(a,b){a.setContentWidth(b-a.getFrameInfo().width,true)},publishInnerHeight:function(a,b){a.setContentHeight(b-a.getFrameInfo().height,true)},finishedLayout:function(a){var b=a.props,c=a.getPaddingInfo();this.owner.setSurfaceSize(b.contentWidth-c.width,b.contentHeight-c.height);this.callParent(arguments)}});Ext.define("Ext.fx.target.Element",{extend:"Ext.fx.target.Target",type:"element",getElVal:function(a,b,c){if(c==undefined){if(b==="x"){c=a.getX()}else if(b==="y"){c=a.getY()}else if(b==="scrollTop"){c=a.getScroll().top}else if(b==="scrollLeft"){c=a.getScroll().left}else if(b==="height"){c=a.getHeight()}else if(b==="width"){c=a.getWidth()}else{c=a.getStyle(b)}}return c},getAttr:function(a,b){var c=this.target;return[[c,this.getElVal(c,a,b)]]},setAttr:function(a){var b=this.target,c=a.length,d,e,f,g,h,i,j,k;for(g=0;g<c;g++){d=a[g].attrs;for(e in d){if(d.hasOwnProperty(e)){i=d[e].length;for(h=0;h<i;h++){f=d[e][h];j=f[0];k=f[1];if(e==="x"){j.setX(k)}else if(e==="y"){j.setY(k)}else if(e==="scrollTop"){j.scrollTo("top",k)}else if(e==="scrollLeft"){j.scrollTo("left",k)}else if(e==="width"){j.setWidth(k)}else if(e==="height"){j.setHeight(k)}else{j.setStyle(e,k)}}}}}}});Ext.define("Ext.fx.target.ElementCSS",{extend:"Ext.fx.target.Element",setAttr:function(a,b){var c={attrs:[],duration:[],easing:[]},d=a.length,e,f,g,h,i,j,k,l,m;for(k=0;k<d;k++){f=a[k];i=f.duration;h=f.easing;f=f.attrs;for(g in f){if(Ext.Array.indexOf(c.attrs,g)==-1){c.attrs.push(g.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}));c.duration.push(i+"ms");c.easing.push(h)}}}e=c.attrs.join(",");i=c.duration.join(",");h=c.easing.join(", ");for(k=0;k<d;k++){f=a[k].attrs;for(g in f){m=f[g].length;for(l=0;l<m;l++){j=f[g][l];j[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",b?"":e);j[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",b?"":i);j[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",b?"":h);j[0].setStyle(g,j[1]);if(b){j=j[0].dom.offsetWidth}else{j[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},j[0],{single:true})}}}}}});Ext.define("Ext.fx.target.CompositeElement",{extend:"Ext.fx.target.Element",isComposite:true,constructor:function(a){a.id=a.id||Ext.id(null,"ext-composite-");this.callParent([a])},getAttr:function(a,b){var c=[],d=this.target.elements,e=d.length,f,g;for(f=0;f<e;f++){g=d[f];if(g){g=this.target.getElement(g);c.push([g,this.getElVal(g,a,b)])}}return c}});Ext.define("Ext.fx.target.CompositeElementCSS",{extend:"Ext.fx.target.CompositeElement",requires:["Ext.fx.target.ElementCSS"],setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}});Ext.define("Ext.fx.target.Sprite",{extend:"Ext.fx.target.Target",type:"draw",getFromPrim:function(a,b){var c;switch(b){case"rotate":case"rotation":c=a.attr.rotation;return{x:c.x||0,y:c.y||0,degrees:c.degrees||0};case"scale":case"scaling":c=a.attr.scaling;return{x:c.x||1,y:c.y||1,cx:c.cx||0,cy:c.cy||0};case"translate":case"translation":c=a.attr.translation;return{x:c.x||0,y:c.y||0};default:return a.attr[b]}},getAttr:function(a,b){return[[this.target,b!=undefined?b:this.getFromPrim(this.target,a)]]},setAttr:function(a){var b=a.length,c=[],d,e,f,g,h,i,j,k,l,m,n,o;for(k=0;k<b;k++){d=a[k].attrs;for(e in d){f=d[e];o=f.length;for(l=0;l<o;l++){h=f[l][0];g=f[l][1];if(e==="translate"||e==="translation"){j={x:g.x,y:g.y}}else if(e==="rotate"||e==="rotation"){m=g.x;if(isNaN(m)){m=null}n=g.y;if(isNaN(n)){n=null}j={degrees:g.degrees,x:m,y:n}}else if(e==="scale"||e==="scaling"){m=g.x;if(isNaN(m)){m=null}n=g.y;if(isNaN(n)){n=null}j={x:m,y:n,cx:g.cx,cy:g.cy}}else if(e==="width"||e==="height"||e==="x"||e==="y"){j=parseFloat(g)}else{j=g}i=Ext.Array.indexOf(c,h);if(i==-1){c.push([h,{}]);i=c.length-1}c[i][1][e]=j}}}b=c.length;for(k=0;k<b;k++){c[k][0].setAttributes(c[k][1])}this.target.redraw()}});Ext.define("Ext.fx.target.CompositeSprite",{extend:"Ext.fx.target.Sprite",getAttr:function(a,b){var c=[],d=[].concat(this.target.items),e=d.length,f,g;for(f=0;f<e;f++){g=d[f];c.push([g,b!=undefined?b:this.getFromPrim(g,a)])}return c}});Ext.define("Ext.fx.target.Component",{extend:"Ext.fx.target.Target",type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},compMethod:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(a,b){return[[this.target,b!==undefined?b:this.getPropMethod[a].call(this.target)]]},setAttr:function(a,b,c){var d=this,e=d.target,f=a.length,g,h,i,j,k,l,m,n,o,p,q;for(j=0;j<f;j++){g=a[j].attrs;for(h in g){m=g[h].length;l={setPosition:{},setPagePosition:{},setSize:{},setOpacity:{}};for(k=0;k<m;k++){i=g[h][k];l[d.compMethod[h]].target=i[0];l[d.compMethod[h]][h]=i[1]}if(l.setPosition.target){i=l.setPosition;n=i.left===undefined?undefined:parseFloat(i.left);o=i.top===undefined?undefined:parseFloat(i.top);i.target.setPosition(n,o)}if(l.setPagePosition.target){i=l.setPagePosition;i.target.setPagePosition(i.x,i.y)}if(l.setSize.target){i=l.setSize;p=i.width===undefined?i.target.getWidth():parseFloat(i.width);q=i.height===undefined?i.target.getHeight():parseFloat(i.height);if(c||d.dynamic){i.target.setSize(p,q)}else{i.target.el.setSize(p,q)}}if(l.setOpacity.target){i=l.setOpacity;i.target.el.setStyle("opacity",i.opacity)}}}}});Ext.define("Ext.fx.Manager",{singleton:true,requires:["Ext.util.MixedCollection","Ext.fx.target.Element","Ext.fx.target.ElementCSS","Ext.fx.target.CompositeElement","Ext.fx.target.CompositeElementCSS","Ext.fx.target.Sprite","Ext.fx.target.CompositeSprite","Ext.fx.target.Component"],mixins:{queue:"Ext.fx.Queue"},constructor:function(){this.items=new Ext.util.MixedCollection;this.mixins.queue.constructor.call(this)},interval:16,forceJS:true,createTarget:function(a){var b=this,c=!b.forceJS&&Ext.supports.Transitions,d;b.useCSS3=c;if(a){if(a.tagName||Ext.isString(a)||a.isFly){a=Ext.get(a);d=new Ext.fx.target["Element"+(c?"CSS":"")](a)}else if(a.dom){d=new Ext.fx.target["Element"+(c?"CSS":"")](a)}else if(a.isComposite){d=new Ext.fx.target["CompositeElement"+(c?"CSS":"")](a)}else if(a.isSprite){d=new Ext.fx.target.Sprite(a)}else if(a.isCompositeSprite){d=new Ext.fx.target.CompositeSprite(a)}else if(a.isComponent){d=new Ext.fx.target.Component(a)}else if(a.isAnimTarget){return a}else{return null}b.targets.add(d);return d}else{return null}},addAnim:function(a){var b=this.items,c=this.task;b.add(a.id,a);if(!c&&b.length){c=this.task={run:this.runner,interval:this.interval,scope:this};Ext.TaskManager.start(c)}},removeAnim:function(a){var b=this,c=b.items,d=b.task;c.removeAtKey(a.id);if(d&&!c.length){Ext.TaskManager.stop(d);delete b.task}},runner:function(){var a=this,b=a.items.getRange(),c=0,d=b.length,e;a.targetArr={};a.timestamp=new Date;for(;c<d;c++){e=b[c];if(e.isReady()){a.startAnim(e)}}for(c=0;c<d;c++){e=b[c];if(e.isRunning()){a.runAnim(e)}else if(!a.useCSS3){}}a.applyPendingAttrs()},startAnim:function(a){a.start(this.timestamp)},runAnim:function(a){if(!a){return}var b=this,c=a.target.getId(),d=b.useCSS3&&a.target.type=="element",e=b.timestamp-a.startTime,f=e>=a.duration,g,h;g=this.collectTargetData(a,e,d,f);if(d){a.target.setAttr(g.anims[a.id].attributes,true);b.collectTargetData(a,a.duration,d,f);a.paused=true;g=a.target.target;if(a.target.isComposite){g=a.target.target.last()}h={};h[Ext.supports.CSS3TransitionEnd]=a.lastFrame;h.scope=a;h.single=true;g.on(h)}},collectTargetData:function(a,b,c,d){var e=a.target.getId(),f=this.targetArr[e];if(!f){f=this.targetArr[e]={id:e,el:a.target,anims:{}}}f.anims[a.id]={id:a.id,anim:a,elapsed:b,isLastFrame:d,attributes:[{duration:a.duration,easing:c&&a.reverse?a.easingFn.reverse().toCSS3():a.easing,attrs:a.runAnim(b)}]};return f},applyPendingAttrs:function(){var a=this.targetArr,b,c,d,e,f;for(c in a){if(a.hasOwnProperty(c)){b=a[c];for(f in b.anims){if(b.anims.hasOwnProperty(f)){d=b.anims[f];e=d.anim;if(d.attributes&&e.isRunning()){b.el.setAttr(d.attributes,false,d.isLastFrame);if(d.isLastFrame){e.lastFrame()}}}}}}}});Ext.define("Ext.fx.Animator",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager"],isAnimator:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",running:false,paused:false,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(a){var b=this;a=Ext.apply(b,a||{});b.config=a;b.id=Ext.id(null,"ext-animator-");b.addEvents("beforeanimate","keyframe","afteranimate");b.mixins.observable.constructor.call(b,a);b.timeline=[];b.createTimeline(b.keyframes);if(b.target){b.applyAnimator(b.target);Ext.fx.Manager.addAnim(b)}},sorter:function(a,b){return a.pct-b.pct},createTimeline:function(a){var b=this,c=[],d=b.to||{},e=b.duration,f,g,h,i,j,k,l,m;for(j in a){if(a.hasOwnProperty(j)&&b.animKeyFramesRE.test(j)){m={attrs:Ext.apply(a[j],d)};if(j=="from"){j=0}else if(j=="to"){j=100}m.pct=parseInt(j,10);c.push(m)}}Ext.Array.sort(c,b.sorter);i=c.length;for(h=0;h<i;h++){f=c[h-1]?e*(c[h-1].pct/100):0;g=e*(c[h].pct/100);b.timeline.push({duration:g-f,attrs:c[h].attrs})}},applyAnimator:function(a){var b=this,c=[],d=b.timeline,e=b.reverse,f=d.length,g,h,i,j,k,l,m;if(b.fireEvent("beforeanimate",b)!==false){for(m=0;m<f;m++){g=d[m];k=g.attrs;h=k.easing||b.easing;i=k.damper||b.damper;delete k.easing;delete k.damper;g=new Ext.fx.Anim({target:a,easing:h,damper:i,duration:g.duration,paused:true,to:k});c.push(g)}b.animations=c;b.target=g.target;for(m=0;m<f-1;m++){g=c[m];g.nextAnim=c[m+1];g.on("afteranimate",function(){this.nextAnim.paused=false});g.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},b)}c[f-1].on("afteranimate",function(){this.lastFrame()},b)}},start:function(a){var b=this,c=b.delay,d=b.delayStart,e;if(c){if(!d){b.delayStart=a;return}else{e=a-d;if(e<c){return}else{a=new Date(d.getTime()+c)}}}if(b.fireEvent("beforeanimate",b)!==false){b.startTime=a;b.running=true;b.animations[b.keyframeStep].paused=false}},lastFrame:function(){var a=this,b=a.iterations,c=a.currentIteration;c++;if(c<b){a.startTime=new Date;a.currentIteration=c;a.keyframeStep=0;a.applyAnimator(a.target);a.animations[a.keyframeStep].paused=false}else{a.currentIteration=0;a.end()}},end:function(){var a=this;a.fireEvent("afteranimate",a,a.startTime,new Date-a.startTime)},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return false}});Ext.define("Ext.fx.Anim",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager","Ext.fx.Animator","Ext.fx.Easing","Ext.fx.CubicBezier","Ext.fx.PropertyHandler"],isAnimation:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,alternate:false,currentIteration:0,startTime:0,frameCount:0,constructor:function(a){var b=this,c;a=a||{};if(a.keyframes){return new Ext.fx.Animator(a)}Ext.apply(b,a);if(b.from===undefined){b.from={}}b.propHandlers={};b.config=a;b.target=Ext.fx.Manager.createTarget(b.target);b.easingFn=Ext.fx.Easing[b.easing];b.target.dynamic=b.dynamic;if(!b.easingFn){b.easingFn=String(b.easing).match(b.bezierRE);if(b.easingFn&&b.easingFn.length==5){c=b.easingFn;b.easingFn=Ext.fx.CubicBezier.cubicBezier(+c[1],+c[2],+c[3],+c[4])}}b.id=Ext.id(null,"ext-anim-");b.addEvents("beforeanimate","afteranimate","lastframe");b.mixins.observable.constructor.call(b);Ext.fx.Manager.addAnim(b)},setAttr:function(a,b){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,a,b)},initAttrs:function(){var a=this,b=a.from,c=a.to,d=a.initialFrom||{},e={},f,g,h,i;for(i in c){if(c.hasOwnProperty(i)){f=a.target.getAttr(i,b[i]);g=c[i];if(!Ext.fx.PropertyHandler[i]){if(Ext.isObject(g)){h=a.propHandlers[i]=Ext.fx.PropertyHandler.object}else{h=a.propHandlers[i]=Ext.fx.PropertyHandler.defaultHandler}}else{h=a.propHandlers[i]=Ext.fx.PropertyHandler[i]}e[i]=h.get(f,g,a.damper,d[i],i)}}a.currentAttrs=e},start:function(a){var b=this,c=b.delay,d=b.delayStart,e;if(c){if(!d){b.delayStart=a;return}else{e=a-d;if(e<c){return}else{a=new Date(d.getTime()+c)}}}if(b.fireEvent("beforeanimate",b)!==false){b.startTime=a;if(!b.paused&&!b.currentAttrs){b.initAttrs()}b.running=true;b.frameCount=0}},runAnim:function(a){var b=this,c=b.currentAttrs,d=b.duration,e=b.easingFn,f=b.propHandlers,g={},h,i,j,k;if(a>=d){a=d;k=true}if(b.reverse){a=d-a}for(j in c){if(c.hasOwnProperty(j)){i=c[j];h=k?1:e(a/d);g[j]=f[j].set(i,h)}}b.frameCount++;return g},lastFrame:function(){var a=this,b=a.iterations,c=a.currentIteration;c++;if(c<b){if(a.alternate){a.reverse=!a.reverse}a.startTime=new Date;a.currentIteration=c;a.paused=false}else{a.currentIteration=0;a.end();a.fireEvent("lastframe",a,a.startTime)}},endWasCalled:0,end:function(){if(this.endWasCalled++){return}var a=this;a.startTime=0;a.paused=false;a.running=false;Ext.fx.Manager.removeAnim(a);a.fireEvent("afteranimate",a,a.startTime);Ext.callback(a.callback,a.scope,[a,a.startTime])},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}});Ext.enableFx=true;Ext.define("Ext.chart.Highlight",{requires:["Ext.fx.Anim"],highlight:false,highlightCfg:{fill:"#fdd","stroke-width":5,stroke:"#f55"},constructor:function(a){if(a.highlight){if(a.highlight!==true){this.highlightCfg=Ext.merge(this.highlightCfg,a.highlight)}}},highlightItem:function(a){if(!a){return}var b=this,c=a.sprite,d=Ext.merge({},b.highlightCfg,b.highlight),e=b.chart.surface,f=b.chart.animate,g,h,i,j;if(!b.highlight||!c||c._highlighted){return}if(c._anim){c._anim.paused=true}c._highlighted=true;if(!c._defaults){c._defaults=Ext.apply({},c.attr);h={};i={};for(g in d){if(!(g in c._defaults)){c._defaults[g]=e.availableAttrs[g]}h[g]=c._defaults[g];i[g]=d[g];if(Ext.isObject(d[g])){h[g]={};i[g]={};Ext.apply(c._defaults[g],c.attr[g]);Ext.apply(h[g],c._defaults[g]);for(j in c._defaults[g]){if(!(j in d[g])){i[g][j]=h[g][j]}else{i[g][j]=d[g][j]}}for(j in d[g]){if(!(j in i[g])){i[g][j]=d[g][j]}}}}c._from=h;c._to=i;c._endStyle=i}if(f){c._anim=new Ext.fx.Anim({target:c,from:c._from,to:c._to,duration:150})}else{c.setAttributes(c._to,true)}},unHighlightItem:function(){if(!this.highlight||!this.items){return}var a=this,b=a.items,c=b.length,d=Ext.merge({},a.highlightCfg,a.highlight),e=a.chart.animate,f=0,g,h,i;for(;f<c;f++){if(!b[f]){continue}i=b[f].sprite;if(i&&i._highlighted){if(i._anim){i._anim.paused=true}g={};for(h in d){if(Ext.isObject(i._defaults[h])){g[h]={};Ext.apply(g[h],i._defaults[h])}else{g[h]=i._defaults[h]}}if(e){i._endStyle=g;i._anim=new Ext.fx.Anim({target:i,to:g,duration:150})}else{i.setAttributes(g,true)}delete i._highlighted}}},cleanHighlights:function(){if(!this.highlight){return}var a=this.group,b=this.markerGroup,c=0,d;for(d=a.getCount();c<d;c++){delete a.getAt(c)._defaults}if(b){for(d=b.getCount();c<d;c++){delete b.getAt(c)._defaults}}}});Ext.define("Ext.draw.Surface",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.draw.CompositeSprite"],uses:["Ext.draw.engine.Svg","Ext.draw.engine.Vml","Ext.draw.engine.SvgExporter","Ext.draw.engine.ImageExporter"],separatorRe:/[, ]+/,statics:{create:function(a,b){b=b||["Svg","Vml"];var c=0,d=b.length,e;for(;c<d;c++){if(Ext.supports[b[c]]!==false){return Ext.create("Ext.draw.engine."+b[c],a)}}return false},save:function(a,b){b=b||{};var c={"image/png":"Image","image/jpeg":"Image","image/svg+xml":"Svg"},d=c[b.type]||"Svg",e=Ext.draw.engine[d+"Exporter"];return e.generate(a,b)}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:false,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"none","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:undefined,height:352,width:512,x:0,y:0,orderSpritesByZIndex:true,constructor:function(a){var b=this;a=a||{};Ext.apply(b,a);b.domRef=Ext.getDoc().dom;b.customAttributes={};b.addEvents("mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","click","dblclick");b.mixins.observable.constructor.call(b);b.getId();b.initGradients();b.initItems();if(b.renderTo){b.render(b.renderTo);delete b.renderTo}b.initBackground(a.background)},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:function(a,b,c,d){if(isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)){this.viewBox={x:a,y:b,width:c,height:d};this.applyViewBox()}},addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){if(this.hasOwnProperty("gradients")){var a=this.gradients,b=a.length,c=this.addGradient,d;if(a){for(d=0;d<b;d++){if(c.call(this,a[d],d,b)===false){break}}}}},initItems:function(){var a=this.items;this.items=new Ext.draw.CompositeSprite;this.items.autoDestroy=true;this.groups=new Ext.draw.CompositeSprite;if(a){this.add(a)}},initBackground:function(a){var b=this,c=b.width,d=b.height,e,f,g;if(Ext.isString(a)){a={fill:a}}if(a){if(a.gradient){f=a.gradient;e=f.id;b.addGradient(f);b.background=b.add({type:"rect",x:0,y:0,width:c,height:d,fill:"url(#"+e+")",zIndex:-1})}else if(a.fill){b.background=b.add({type:"rect",x:0,y:0,width:c,height:d,fill:a.fill,zIndex:-1})}else if(a.image){b.background=b.add({type:"image",x:0,y:0,width:c,height:d,src:a.image,zIndex:-1})}b.background.bboxExcluded=true}},setSize:function(a,b){this.applyViewBox()},scrubAttrs:function(a){var b,c={},d={},e=a.attr;for(b in e){if(this.translateAttrs.hasOwnProperty(b)){c[this.translateAttrs[b]]=e[b];d[this.translateAttrs[b]]=true}else if(this.availableAttrs.hasOwnProperty(b)&&!d[b]){c[b]=e[b]}}return c},onClick:function(a){this.processEvent("click",a)},onDblClick:function(a){this.processEvent("dblclick",a)},onMouseUp:function(a){this.processEvent("mouseup",a)},onMouseDown:function(a){this.processEvent("mousedown",a)},onMouseOver:function(a){this.processEvent("mouseover",a)},onMouseOut:function(a){this.processEvent("mouseout",a)},onMouseMove:function(a){this.fireEvent("mousemove",a)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var a=Array.prototype.slice.call(arguments),b,c,d=a.length>1,e,f,g,h,i;if(d||Ext.isArray(a[0])){e=d?a:a[0];f=[];for(g=0,h=e.length;g<h;g++){i=e[g];i=this.add(i);f.push(i)}return f}b=this.prepareItems(a[0],true)[0];this.insertByZIndex(b);this.onAdd(b);return b},insertByZIndex:function(a){var b=this,c=b.items.items,d=c.length,e=Math.ceil,f=a.attr.zIndex,g=d,h=g-1,i=0,j;if(b.orderSpritesByZIndex&&d&&f<c[h].attr.zIndex){while(i<=h){g=e((i+h)/2);j=c[g].attr.zIndex;if(j>f){h=g-1}else if(j<f){i=g+1}else{break}}while(g<d&&c[g].attr.zIndex<=f){g++}}b.items.insert(g,a);return g},onAdd:function(a){var b=a.group,c=a.draggable,d,e,f;if(b){d=[].concat(b);e=d.length;for(f=0;f<e;f++){b=d[f];this.getGroup(b).add(a)}delete a.group}if(c){a.initDraggable()}},remove:function(a,b){if(a){this.items.remove(a);var c=[].concat(this.groups.items),d=c.length,e;for(e=0;e<d;e++){c[e].remove(a)}a.onRemove();if(b===true){a.destroy()}}},removeAll:function(a){var b=this.items.items,c=b.length,d;for(d=c-1;d>-1;d--){this.remove(b[d],a)}},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,applyViewBox:function(){var a=this,b=a.viewBox,c=a.width||1,d=a.height||1,e,f,g,h,i,j,k;if(b&&(c||d)){e=b.x;f=b.y;g=b.width;h=b.height;i=d/h;j=c/g;k=Math.min(j,i);if(g*k<c){e-=(c-g*k)/2/k}if(h*k<d){f-=(d-h*k)/2/k}a.viewBoxShift={dx:-e,dy:-f,scale:k};if(a.background){a.background.setAttributes(Ext.apply({},{x:e,y:f,width:c/k,height:d/k},{hidden:false}),true)}}else{if(a.background&&c&&d){a.background.setAttributes(Ext.apply({x:0,y:0,width:c,height:d},{hidden:false}),true)}}},getBBox:function(a,b){var c=this["getPath"+a.type](a);if(b){a.bbox.plain=a.bbox.plain||Ext.draw.Draw.pathDimensions(c);return a.bbox.plain}if(a.dirtyTransform){this.applyTransformations(a,true)}a.bbox.transform=a.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(c,a.matrix));return a.bbox.transform},transformToViewBox:function(a,b){if(this.viewBoxShift){var c=this,d=c.viewBoxShift;return[a/d.scale-d.dx,b/d.scale-d.dy]}else{return[a,b]}},applyTransformations:function(a,b){if(a.type=="text"){a.bbox.transform=0;this.transform(a,false)}a.dirtyTransform=false;var c=this,d=a.attr;if(d.translation.x!=null||d.translation.y!=null){c.translate(a)}if(d.scaling.x!=null||d.scaling.y!=null){c.scale(a)}if(d.rotation.degrees!=null){c.rotate(a)}a.bbox.transform=0;this.transform(a,b);a.transformations=[]},rotate:function(a){var b,c=a.attr.rotation.degrees,d=a.attr.rotation.x,e=a.attr.rotation.y;if(!Ext.isNumber(d)||!Ext.isNumber(e)){b=this.getBBox(a,true);d=!Ext.isNumber(d)?b.x+b.width/2:d;e=!Ext.isNumber(e)?b.y+b.height/2:e}a.transformations.push({type:"rotate",degrees:c,x:d,y:e})},translate:function(a){var b=a.attr.translation.x||0,c=a.attr.translation.y||0;a.transformations.push({type:"translate",x:b,y:c})},scale:function(a){var b,c=a.attr.scaling.x||1,d=a.attr.scaling.y||1,e=a.attr.scaling.centerX,f=a.attr.scaling.centerY;if(!Ext.isNumber(e)||!Ext.isNumber(f)){b=this.getBBox(a,true);e=!Ext.isNumber(e)?b.x+b.width/2:e;f=!Ext.isNumber(f)?b.y+b.height/2:f}a.transformations.push({type:"scale",x:c,y:d,centerX:e,centerY:f})},rectPath:function(a,b,c,d,e){if(e){return[["M",a+e,b],["l",c-e*2,0],["a",e,e,0,0,1,e,e],["l",0,d-e*2],["a",e,e,0,0,1,-e,e],["l",e*2-c,0],["a",e,e,0,0,1,-e,-e],["l",0,e*2-d],["a",e,e,0,0,1,e,-e],["z"]]}return[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},ellipsePath:function(a,b,c,d){if(d==null){d=c}return[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},getPathpath:function(a){return a.attr.path},getPathcircle:function(a){var b=a.attr;return this.ellipsePath(b.x,b.y,b.radius,b.radius)},getPathellipse:function(a){var b=a.attr;return this.ellipsePath(b.x,b.y,b.radiusX||b.width/2||0,b.radiusY||b.height/2||0)},getPathrect:function(a){var b=a.attr;return this.rectPath(b.x||0,b.y||0,b.width||0,b.height||0,b.r||0)},getPathimage:function(a){var b=a.attr;return this.rectPath(b.x||0,b.y||0,b.width,b.height)},getPathtext:function(a){var b=this.getBBoxText(a);return this.rectPath(b.x,b.y,b.width,b.height)},createGroup:function(a){var b=this.groups.get(a);if(!b){b=new Ext.draw.CompositeSprite({surface:this});b.id=a||Ext.id(null,"ext-surface-group-");this.groups.add(b)}return b},getGroup:function(a){var b;if(typeof a=="string"){b=this.groups.get(a);if(!b){b=this.createGroup(a)}}else{b=a}return b},prepareItems:function(a,b){a=[].concat(a);var c,d,e;for(d=0,e=a.length;d<e;d++){c=a[d];if(!(c instanceof Ext.draw.Sprite)){c.surface=this;a[d]=this.createItem(c)}else{c.surface=this}}return a},setText:Ext.emptyFn,createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){var a=this;delete a.domRef;if(a.background){a.background.destroy()}a.removeAll(true);Ext.destroy(a.groups.items)}});Ext.define("Ext.ComponentManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.ComponentMgr",singleton:true,typeName:"xtype",create:function(a,b){if(typeof a=="string"){return Ext.widget(a)}if(a.isComponent){return a}return Ext.widget(a.xtype||b,a)},registerType:function(a,b){this.types[a]=b;b[this.typeName]=a;b.prototype[this.typeName]=a}});Ext.define("Ext.layout.component.BoundList",{extend:"Ext.layout.component.Auto",alias:"layout.boundlist",type:"component",beginLayout:function(a){var b=this,c=b.owner,d=c.pagingToolbar;b.callParent(arguments);if(c.floating){a.savedXY=c.el.getXY();c.el.setXY([-9999,-9999])}if(d){a.toolbarContext=a.context.getCmp(d)}a.listContext=a.getEl("listEl")},beginLayoutCycle:function(a){var b=this.owner;this.callParent(arguments);if(a.heightModel.auto){b.el.setHeight("auto");b.listEl.setHeight("auto")}},getLayoutItems:function(){var a=this.owner.pagingToolbar;return a?[a]:[]},isValidParent:function(){return true},finishedLayout:function(a){var b=a.savedXY;this.callParent(arguments);if(b){this.owner.el.setXY(b)}},measureContentWidth:function(a){return this.owner.listEl.getWidth()},measureContentHeight:function(a){return this.owner.listEl.getHeight()},publishInnerHeight:function(a,b){var c=a.toolbarContext,d=0;if(c){d=c.getProp("height")}if(d===undefined){this.done=false}else{a.listContext.setHeight(b-a.getFrameInfo().height-d)}},calculateOwnerHeightFromContentHeight:function(a){var b=this.callParent(arguments),c=a.toolbarContext;if(c){b+=c.getProp("height")}return b}});Ext.define("Ext.layout.component.field.Trigger",{alias:"layout.triggerfield",extend:"Ext.layout.component.field.Field",type:"triggerfield",beginLayout:function(a){var b=this,c=b.owner,d;a.triggerWrap=a.getEl("triggerWrap");b.callParent(arguments);d=c.getTriggerStateFlags();if(d!=c.lastTriggerStateFlags){c.lastTriggerStateFlags=d;b.updateEditState()}},beginLayoutFixed:function(a,b,c){var d=this,e=a.target,f=d.ieInputWidthAdjustment||0,g="100%",h=e.triggerWrap;d.callParent(arguments);e.inputCell.setStyle("width","100%");if(f){e.inputCell.setStyle("padding-right",f+"px");if(c==="px"){if(e.inputWidth){g=e.inputWidth-e.getTriggerWidth()}else{g=b-f-e.getTriggerWidth()}g+="px"}}e.inputEl.setStyle("width",g);g=e.inputWidth;if(g){h.setStyle("width",g+f+"px")}else{h.setStyle("width",b+c)}h.setStyle("table-layout","fixed")},beginLayoutShrinkWrap:function(a){var b=a.target,c="",d=b.inputWidth,e=b.triggerWrap,f=this.ieInputWidthAdjustment||0;this.callParent(arguments);if(d){e.setStyle("width",d+"px");d=d-b.getTriggerWidth()+"px";b.inputEl.setStyle("width",d);b.inputCell.setStyle("width",d)}else{b.inputCell.setStyle("width",c);b.inputEl.setStyle("width",c);e.setStyle("width",c);e.setStyle("table-layout","auto")}},getTextWidth:function(){var a=this,b=a.owner,c=b.inputEl,d;d=(c.dom.value||(b.hasFocus?"":b.emptyText)||"")+b.growAppend;return c.getTextWidth(d)},measureContentWidth:function(a){var b=this,c=b.owner,d=b.callParent(arguments),e=a.inputContext,f,g,h;if(c.grow&&!a.state.growHandled){f=b.getTextWidth()+a.inputContext.getFrameInfo().width;g=c.growMax;h=Math.min(g,d);g=Math.max(c.growMin,g,h);f=Ext.Number.constrain(f,c.growMin,g);e.setWidth(f);a.state.growHandled=true;e.domBlock(b,"width");d=NaN}return d},updateEditState:function(){var a=this,b=a.owner,c=b.inputEl,d=Ext.baseCSSPrefix+"trigger-noedit",e,f;if(a.owner.readOnly){c.addCls(d);f=true;e=false}else{if(a.owner.editable){c.removeCls(d);f=false}else{c.addCls(d);f=true}e=!a.owner.hideTrigger}b.triggerCell.setDisplayed(e);c.dom.readOnly=f}});Ext.define("Ext.layout.component.field.ComboBox",{extend:"Ext.layout.component.field.Trigger",alias:"layout.combobox",requires:["Ext.util.TextMetrics"],type:"combobox",startingWidth:null,getTextWidth:function(){var a=this,b=a.owner,c=b.store,d=b.displayField,e=c.data.length,f="",g=0,h=0,i,j,k;for(;g<e;g++){j=c.getAt(g).data[d];i=j.length;if(i>h){h=i;f=j}}k=Math.max(a.callParent(arguments),b.inputEl.getTextWidth(f+b.growAppend));if(!a.startingWidth||b.removingRecords){a.startingWidth=k;if(k<b.growMin){b.defaultListConfig.minWidth=b.growMin}b.removingRecords=false}return k<a.startingWidth?a.startingWidth:k}});Ext.define("Ext.Ajax",{extend:"Ext.data.Connection",singleton:true,autoAbort:false});Ext.define("Ext.data.proxy.Client",{extend:"Ext.data.proxy.Proxy",alternateClassName:"Ext.data.ClientProxy",isSynchronous:true,clear:function(){Ext.Error.raise("The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")}});Ext.define("Ext.data.proxy.Memory",{extend:"Ext.data.proxy.Client",alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",constructor:function(a){this.callParent([a]);this.setReader(this.reader)},updateOperation:function(a,b,c){var d=0,e=a.getRecords(),f=e.length;for(d;d<f;d++){e[d].commit()}a.setCompleted();a.setSuccessful();Ext.callback(b,c||this,[a])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)},read:function(a,b,c){var d=this;a.resultSet=d.getReader().read(d.data);a.setCompleted();a.setSuccessful();Ext.callback(b,c||d,[a])},clear:Ext.emptyFn});Ext.define("Ext.data.proxy.Server",{extend:"Ext.data.proxy.Proxy",alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",uses:["Ext.data.Request"],pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",simpleSortMode:false,simpleGroupMode:false,noCache:true,cacheString:"_dc",timeout:3e4,constructor:function(a){var b=this;a=a||{};b.callParent([a]);b.extraParams=a.extraParams||{};b.api=Ext.apply({},a.api||b.api);b.nocache=b.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.extraParams[a]=b},buildRequest:function(a){var b=this,c=Ext.applyIf(a.params||{},b.extraParams||{}),d;c=Ext.applyIf(c,b.getParams(a));if(a.id!==undefined&&c.id===undefined){c.id=a.id}d=new Ext.data.Request({params:c,action:a.action,records:a.records,operation:a,url:a.url,proxy:b});d.url=b.buildUrl(d);a.request=d;return d},processResponse:function(a,b,c,d,e,f){var g=this,h,i;if(a===true){h=g.getReader();h.applyDefaults=b.action==="read";i=h.read(g.extractResponseData(d));if(i.success!==false){Ext.apply(b,{response:d,resultSet:i});b.commitRecords(i.records);b.setCompleted();b.setSuccessful()}else{b.setException(i.message);g.fireEvent("exception",this,d,b)}}else{g.setException(b,d);g.fireEvent("exception",this,d,b)}if(typeof e=="function"){e.call(f||g,b)}g.afterRequest(c,a)},setException:function(a,b){a.setException({status:b.status,statusText:b.statusText})},extractResponseData:function(a){return a},applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(a){var b=[],c=a.length,d=0;for(;d<c;d++){b[d]={property:a[d].property,direction:a[d].direction}}return this.applyEncoding(b)},encodeFilters:function(a){var b=[],c=a.length,d=0;for(;d<c;d++){b[d]={property:a[d].property,value:a[d].value}}return this.applyEncoding(b)},getParams:function(a){var b=this,c={},d=Ext.isDefined,e=a.groupers,f=a.sorters,g=a.filters,h=a.page,i=a.start,j=a.limit,k=b.simpleSortMode,l=b.simpleGroupMode,m=b.pageParam,n=b.startParam,o=b.limitParam,p=b.groupParam,q=b.groupDirectionParam,r=b.sortParam,s=b.filterParam,t=b.directionParam;if(m&&d(h)){c[m]=h}if(n&&d(i)){c[n]=i}if(o&&d(j)){c[o]=j}if(p&&e&&e.length>0){if(l){c[p]=e[0].property;c[q]=e[0].direction||"ASC"}else{c[p]=b.encodeSorters(e)}}if(r&&f&&f.length>0){if(k){c[r]=f[0].property;c[t]=f[0].direction}else{c[r]=b.encodeSorters(f)}}if(s&&g&&g.length>0){c[s]=b.encodeFilters(g)}return c},buildUrl:function(a){var b=this,c=b.getUrl(a);if(!c){Ext.Error.raise("You are using a ServerProxy but have not supplied it with a url.")}if(b.noCache){c=Ext.urlAppend(c,Ext.String.format("{0}={1}",b.cacheString,Ext.Date.now()))}return c},getUrl:function(a){return a.url||this.api[a.action]||this.url},doRequest:function(a,b,c){Ext.Error.raise("The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details")},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}});Ext.define("Ext.data.proxy.Ajax",{requires:["Ext.util.MixedCollection","Ext.Ajax"],extend:"Ext.data.proxy.Server",alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},doRequest:function(a,b,c){var d=this.getWriter(),e=this.buildRequest(a,b,c);if(a.allowWrite()){e=d.write(e)}Ext.apply(e,{headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(e,a,b,c),method:this.getMethod(e),disableCaching:false});Ext.Ajax.request(e);return e},getMethod:function(a){return this.actionMethods[a.action]},createRequestCallback:function(a,b,c,d){var e=this;return function(f,g,h){e.processResponse(g,b,a,h,c,d)}}},function(){Ext.data.HttpProxy=this});Ext.define("Ext.data.reader.Reader",{requires:["Ext.data.ResultSet","Ext.XTemplate"],alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:{observable:"Ext.util.Observable"},totalProperty:"total",successProperty:"success",root:"",implicitIncludes:true,readRecordsOnFailure:true,isReader:true,applyDefaults:true,lastFieldGeneration:null,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);b.fieldCount=0;b.model=Ext.ModelManager.getModel(b.model);b.accessExpressionFn=Ext.Function.bind(b.createFieldAccessExpression,b);if(b.model&&b.model.prototype.fields){b.buildExtractors()}this.addEvents("exception")},setModel:function(a,b){var c=this;c.model=Ext.ModelManager.getModel(a);c.buildExtractors(true);if(b&&c.proxy){c.proxy.setModel(c.model,true)}},read:function(a){var b;if(a){b=a.responseText?this.getResponseData(a):this.readRecords(a)}return b||this.nullResultSet},readRecords:function(a){var b=this,c,d,e,f,g,h,i;if(b.lastFieldGeneration!==b.model.prototype.fields.generation){b.buildExtractors(true)}b.rawData=a;a=b.getData(a);c=true;d=0;e=[];if(b.successProperty){h=b.getSuccess(a);if(h===false||h==="false"){c=false}}if(b.messageProperty){i=b.getMessage(a)}if(b.readRecordsOnFailure||c){f=Ext.isArray(a)?a:b.getRoot(a);if(f){g=f.length}if(b.totalProperty){h=parseInt(b.getTotal(a),10);if(!isNaN(h)){g=h}}if(f){e=b.extractData(f);d=e.length}}return new Ext.data.ResultSet({total:g||d,count:d,records:e,success:c,message:i})},extractData:function(a){var b=this,c=[],d=b.model,e=a.length,f,g,h,i;if(!a.length&&Ext.isObject(a)){a=[a];e=1}for(i=0;i<e;i++){g=a[i];if(!g.isModel){h=new d(undefined,b.getId(g),g,f={});h.phantom=false;b.convertRecordData(f,g,h);c.push(h);if(b.implicitIncludes){b.readAssociated(h,g)}}else{c.push(g)}}return c},readAssociated:function(a,b){var c=a.associations.items,d=0,e=c.length,f,g,h,i;for(;d<e;d++){f=c[d];g=this.getAssociatedDataRoot(b,f.associationKey||f.name);if(g){i=f.getReader();if(!i){h=f.associatedModel.proxy;if(h){i=h.getReader()}else{i=new this.constructor({model:f.associatedName})}}f.read(a,i,g)}}},getAssociatedDataRoot:function(a,b){return a[b]},getFields:function(){return this.model.prototype.fields.items},getData:function(a){return a},getRoot:function(a){return a},getResponseData:function(a){Ext.Error.raise("getResponseData must be implemented in the Ext.data.reader.Reader subclass")},onMetaChange:function(a){var b=this,c=a.fields||b.getFields(),d,e;b.metaData=a;b.root=a.root||b.root;b.idProperty=a.idProperty||b.idProperty;b.totalProperty=a.totalProperty||b.totalProperty;b.successProperty=a.successProperty||b.successProperty;b.messageProperty=a.messageProperty||b.messageProperty;e=a.clientIdProperty;if(b.model){b.model.setFields(c,b.idProperty,e);b.setModel(b.model,true)}else{d=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:c,clientIdProperty:e});if(b.idProperty){d.idProperty=b.idProperty}b.setModel(d,true)}},getIdProperty:function(){return this.idProperty||this.model.prototype.idProperty},buildExtractors:function(a){var b=this,c=b.getIdProperty(),d=b.totalProperty,e=b.successProperty,f=b.messageProperty,g,h,i;if(a===true){delete b.convertRecordData}if(b.convertRecordData){return}if(d){b.getTotal=b.createAccessor(d)}if(e){b.getSuccess=b.createAccessor(e)}if(f){b.getMessage=b.createAccessor(f)}if(c){h=b.model.prototype.fields.get(c);if(h){i=h.mapping;c=i!==undefined&&i!==null?i:c}g=b.createAccessor(c);b.getId=function(a){var c=g.call(b,a);return c===undefined||c===""?null:c}}else{b.getId=function(){return null}}b.convertRecordData=b.buildRecordDataExtractor();b.lastFieldGeneration=b.model.prototype.fields.generation},recordDataExtractorTemplate:["var me = this\n","    ,fields = me.model.prototype.fields\n","    ,value\n","    ,internalId\n",'<tpl for="fields">','    ,__field{#} = fields.get("{name}")\n',"</tpl>",";\n","return function(dest, source, record) {\n",'<tpl for="fields">','    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">','    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n','<tpl elseif="defaultValue !== undefined">',"    if (value === undefined) {\n","        if (me.applyDefaults) {\n",'<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'            dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","        };\n","    } else {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    };","<tpl else>","    if (value !== undefined) {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    }\n","</tpl>","</tpl>",'<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n','        record.{["internalId"]} = internalId;\n',"    }\n","</tpl>","};"],buildRecordDataExtractor:function(){var a=this,b=a.model.prototype,c={clientIdProp:b.clientIdProperty,fields:b.fields.items};a.recordDataExtractorTemplate.createFieldAccessExpression=a.accessExpressionFn;return Ext.functionFactory(a.recordDataExtractorTemplate.apply(c)).call(a)},destroyReader:function(){var a=this;delete a.proxy;delete a.model;delete a.convertRecordData;delete a.getId;delete a.getTotal;delete a.getSuccess;delete a.getMessage}},function(){var a=this.prototype;Ext.apply(a,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true}),recordDataExtractorTemplate:new Ext.XTemplate(a.recordDataExtractorTemplate)})});Ext.define("Ext.data.reader.Json",{extend:"Ext.data.reader.Reader",alternateClassName:"Ext.data.JsonReader",alias:"reader.json",root:"",useSimpleAccessors:false,readRecords:function(a){if(a.metaData){this.onMetaChange(a.metaData)}this.jsonData=a;return this.callParent([a])},getResponseData:function(a){var b,c;try{b=Ext.decode(a.responseText);return this.readRecords(b)}catch(d){c=new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:d.message});this.fireEvent("exception",this,a,c);Ext.Logger.warn("Unable to parse the JSON returned by the server");return c}},buildExtractors:function(){var a=this;a.callParent(arguments);if(a.root){a.getRoot=a.createAccessor(a.root)}else{a.getRoot=function(a){return a}}},extractData:function(a){var b=this.record,c=[],d,e;if(b){d=a.length;if(!d&&Ext.isObject(a)){d=1;a=[a]}for(e=0;e<d;e++){c[e]=a[e][b]}}else{c=a}return this.callParent([c])},createAccessor:function(){var a=/[\[\.]/;return function(b){if(Ext.isEmpty(b)){return Ext.emptyFn}if(Ext.isFunction(b)){return b}if(this.useSimpleAccessors!==true){var c=String(b).search(a);if(c>=0){return Ext.functionFactory("obj","return obj"+(c>0?".":"")+b)}}return function(a){return a[b]}}}(),createFieldAccessExpression:function(){var a=/[\[\.]/;return function(b,c,d){var e=this,f=b.mapping!==null,g=f?b.mapping:b.name,h,i;if(typeof g==="function"){h=c+".mapping("+d+", this)"}else if(this.useSimpleAccessors===true||(i=String(g).search(a))<0){if(!f||isNaN(g)){g='"'+g+'"'}h=d+"["+g+"]"}else{h=d+(i>0?".":"")+g}return h}}()});Ext.define("Ext.data.Store",{extend:"Ext.data.AbstractStore",alias:"store.store",requires:["Ext.data.StoreManager","Ext.data.Model","Ext.data.proxy.Ajax","Ext.data.proxy.Memory","Ext.data.reader.Json","Ext.data.writer.Json","Ext.util.LruCache"],uses:["Ext.ModelManager","Ext.util.Grouper"],remoteSort:false,remoteFilter:false,remoteGroup:false,groupField:undefined,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:undefined,currentPage:1,clearOnPageLoad:true,loading:false,sortOnFilter:true,buffered:false,purgePageCount:5,clearRemovedOnLoad:true,defaultPageSize:25,addRecordsOptions:{addRecords:true},statics:{recordIdFn:function(a){return a.internalId},recordIndexFn:function(a){return a.index}},onClassExtended:function(a,b,c){var d=b.model,e;if(typeof d=="string"){e=c.onBeforeCreated;c.onBeforeCreated=function(){var a=this,b=arguments;Ext.require(d,function(){e.apply(a,b)})}}},constructor:function(a){a=Ext.Object.merge({},a);var b=this,c=a.groupers||b.groupers,d=a.groupField||b.groupField,e,f;f=a.data||b.data;b.data=new Ext.util.MixedCollection(false,Ext.data.Store.recordIdFn);if(f){b.inlineData=f;delete a.data}if(!c&&d){c=[{property:d,direction:a.groupDir||b.groupDir}]}delete a.groupers;b.groupers=new Ext.util.MixedCollection;b.groupers.addAll(b.decodeGroupers(c));this.callParent([a]);if(b.buffered){b.pageMap=new b.PageMap({pageSize:b.pageSize,maxSize:b.purgePageCount,listeners:{clear:b.cancelAllPrefetches,scope:b}});b.pageRequests={};b.sortOnLoad=false;b.filterOnLoad=false}if(b.remoteGroup){b.remoteSort=true}if(b.groupers.items.length&&!b.remoteGroup){b.sort(b.groupers.items,"prepend",false)}e=b.proxy;f=b.inlineData;if(!b.buffered&&!b.pageSize){b.pageSize=b.defaultPageSize}if(f){if(e instanceof Ext.data.proxy.Memory){e.data=f;b.read()}else{b.add.apply(b,[f])}b.sort();delete b.inlineData}else if(b.autoLoad){Ext.defer(b.load,10,b,[typeof b.autoLoad==="object"?b.autoLoad:undefined])}},destroyStore:function(){this.callParent(arguments);if(this.pageMap){this.pageMap.clear()}},onBeforeSort:function(){var a=this.groupers;if(a.getCount()>0){this.sort(a.items,"prepend",false)}},decodeGroupers:function(a){if(!Ext.isArray(a)){if(a===undefined){a=[]}else{a=[a]}}var b=a.length,c=Ext.util.Grouper,d,e,f=[];for(e=0;e<b;e++){d=a[e];if(!(d instanceof c)){if(Ext.isString(d)){d={property:d}}d=Ext.apply({root:"data",direction:"ASC"},d);if(d.fn){d.sorterFn=d.fn}if(typeof d=="function"){d={sorterFn:d}}f.push(new c(d))}else{f.push(d)}}return f},group:function(a,b){var c=this,d=false,e,f;if(Ext.isArray(a)){f=a}else if(Ext.isObject(a)){f=[a]}else if(Ext.isString(a)){e=c.groupers.get(a);if(!e){e={property:a,direction:b};f=[e]}else if(b===undefined){e.toggle()}else{e.setDirection(b)}}if(f&&f.length){d=true;f=c.decodeGroupers(f);c.groupers.clear();c.groupers.addAll(f)}if(c.remoteGroup){if(c.buffered){c.pageMap.clear();c.loadPage(1,{groupChange:true})}else{c.load({scope:c,callback:c.fireGroupChange})}}else{c.sort(null,null,null,d);c.fireGroupChange()}},clearGrouping:function(){var a=this,b=a.groupers.items,c=b.length,d,e;for(e=0;e<c;e++){d=b[e];a.sorters.remove(d)}a.groupers.clear();if(a.remoteGroup){if(a.buffered){a.pageMap.clear();a.loadPage(1,{groupChange:true})}else{a.load({scope:a,callback:a.fireGroupChange})}}else{a.sort();a.fireGroupChange()}},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(a){var b=this.data.items,c=b.length,d=[],e={},f,g,h,i;for(i=0;i<c;i++){f=b[i];g=this.getGroupString(f);h=e[g];if(h===undefined){h={name:g,children:[]};d.push(h);e[g]=h}h.children.push(f)}return a?e[a]:d},getGroupsForGrouper:function(a,b){var c=a.length,d=[],e,f,g,h,i;for(i=0;i<c;i++){g=a[i];f=b.getGroupString(g);if(f!==e){h={name:f,grouper:b,records:[]};d.push(h)}h.records.push(g);e=f}return d},getGroupsForGrouperIndex:function(a,b){var c=this,d=c.groupers,e=d.getAt(b),f=c.getGroupsForGrouper(a,e),g=f.length,h;if(b+1<d.length){for(h=0;h<g;h++){f[h].children=c.getGroupsForGrouperIndex(f[h].records,b+1)}}for(h=0;h<g;h++){f[h].depth=b}return f},getGroupData:function(a){var b=this;if(a!==false){b.sort()}return b.getGroupsForGrouperIndex(b.data.items,0)},getGroupString:function(a){var b=this.groupers.first();if(b){return a.get(b.property)}return""},insert:function(a,b){var c=this,d=false,e,f,g;b=[].concat(b);for(e=0,g=b.length;e<g;e++){f=c.createModel(b[e]);f.set(c.modelDefaults);b[e]=f;c.data.insert(a+e,f);f.join(c);d=d||f.phantom===true}if(c.snapshot){c.snapshot.addAll(b)}if(c.requireSort){c.suspendEvents();c.sort();c.resumeEvents()}c.fireEvent("add",c,b,a);c.fireEvent("datachanged",c);if(c.autoSync&&d&&!c.autoSyncSuspended){c.sync()}},add:function(a){if(!Ext.isArray(a)){a=Array.prototype.slice.apply(arguments)}else{a=a.slice(0)}var b=this,c=0,d=a.length,e,f=!b.remoteSort&&b.sorters&&b.sorters.items.length;if(f&&d===1){return[b.addSorted(b.createModel(a[0]))]}for(;c<d;c++){e=b.createModel(a[c]);a[c]=e}if(f){b.requireSort=true}b.insert(b.data.length,a);delete b.requireSort;return a},addSorted:function(a){var b=this,c=b.data.findInsertionIndex(a,b.generateComparator());b.insert(c,a);return a},createModel:function(a){if(!a.isModel){a=Ext.ModelManager.create(a,this.model)}return a},each:function(a,b){var c=this.data.items,d=c.length,e,f;for(f=0;f<d;f++){e=c[f];if(a.call(b||e,e,f,d)===false){break}}},remove:function(a,b){if(!Ext.isArray(a)){a=[a]}b=b===true;var c=this,d=false,e=0,f=a.length,g,h,i;for(;e<f;e++){i=a[e];h=c.data.indexOf(i);if(c.snapshot){c.snapshot.remove(i)}if(h>-1){g=i.phantom!==true;if(!b&&g){i.removedFrom=h;c.removed.push(i)}i.unjoin(c);c.data.remove(i);d=d||g;c.fireEvent("remove",c,i,h)}}c.fireEvent("datachanged",c);if(!b&&c.autoSync&&d&&!c.autoSyncSuspended){c.sync()}},removeAt:function(a){var b=this.getAt(a);if(b){this.remove(b)}},load:function(a){var b=this;a=a||{};if(typeof a=="function"){a={callback:a}}a.groupers=a.groupers||b.groupers.items;a.page=a.page||b.currentPage;a.start=a.start!==undefined?a.start:(a.page-1)*b.pageSize;a.limit=a.limit||b.pageSize;a.addRecords=a.addRecords||false;if(b.buffered){return b.loadToPrefetch(a)}return b.callParent([a])},reload:function(a){var b=this,c,d,e,f,g,h,i,j;if(!a){a={}}if(b.buffered){delete b.totalCount;h=function(){if(b.rangeCached(c,d)){b.loading=false;b.pageMap.un("pageAdded",h);j=b.pageMap.getRange(c,d);b.loadRecords(j,{start:c});b.fireEvent("load",b,j,true)}};i=Math.ceil((b.leadingBufferZone+b.trailingBufferZone)/2);c=a.start||b.getAt(0).index;d=c+(a.count||b.getCount())-1;e=b.getPageFromRecordIndex(Math.max(c-i,0));f=b.getPageFromRecordIndex(d+i);b.pageMap.clear(true);if(b.fireEvent("beforeload",b,a)!==false){b.loading=true;for(g=e;g<=f;g++){b.prefetchPage(g,a)}b.pageMap.on("pageAdded",h)}}else{return b.callParent(arguments)}},onProxyLoad:function(a){var b=this,c=a.getResultSet(),d=a.getRecords(),e=a.wasSuccessful();if(c){b.totalCount=c.total}if(e){b.loadRecords(d,a)}b.loading=false;if(b.hasListeners.load){b.fireEvent("load",b,d,e)}if(b.hasListeners.read){b.fireEvent("read",b,d,e)}Ext.callback(a.callback,a.scope||b,[d,a,e])},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(a,b){if(Ext.isString(a)){a={property:a,value:b}}var c=this,d=c.decodeFilters(a),e=0,f=c.sorters.length&&c.sortOnFilter&&!c.remoteSort,g=d.length;for(;e<g;e++){c.filters.replace(d[e])}if(c.remoteFilter){delete c.totalCount;if(c.buffered){c.pageMap.clear();c.loadPage(1)}else{c.currentPage=1;c.load()}}else{if(c.filters.getCount()){c.snapshot=c.snapshot||c.data.clone();c.data=c.data.filter(c.filters.items);if(f){c.sort()}else{c.fireEvent("datachanged",c);c.fireEvent("refresh",c)}}}},clearFilter:function(a){var b=this;b.filters.clear();if(b.remoteFilter){if(a){return}delete b.totalCount;if(b.buffered){b.pageMap.clear();b.loadPage(1)}else{b.currentPage=1;b.load()}}else if(b.isFiltered()){b.data=b.snapshot.clone();delete b.snapshot;if(a!==true){b.fireEvent("datachanged",b);b.fireEvent("refresh",b)}}},isFiltered:function(){var a=this.snapshot;return!!a&&a!==this.data},filterBy:function(a,b){var c=this;c.snapshot=c.snapshot||c.data.clone();c.data=c.queryBy(a,b||c);c.fireEvent("datachanged",c);c.fireEvent("refresh",c)},queryBy:function(a,b){var c=this,d=c.snapshot||c.data;return d.filterBy(a,b||c)},query:function(a,b,c,d,e){var f=this,g=f.createFilterFn(a,b,c,d,e),h=f.queryBy(g);if(!h){h=new Ext.util.MixedCollection}return h},loadData:function(a,b){var c=this,d=c.model,e=a.length,f=[],g,h;for(g=0;g<e;g++){h=a[g];if(!h.isModel){h=Ext.ModelManager.create(h,d)}f.push(h)}c.loadRecords(f,b?c.addRecordsOptions:undefined)},loadRawData:function(a,b){var c=this,d=c.proxy.reader.read(a),e=d.records;if(d.success){c.totalCount=d.total;c.loadRecords(e,b?c.addRecordsOptions:undefined);c.fireEvent("load",c,e,true)}},loadRecords:function(a,b){var c=this,d=0,e=a.length,f,g,h=c.snapshot;if(b){f=b.start;g=b.addRecords}if(!g){delete c.snapshot;c.clearData(true)}else if(h){h.addAll(a)}c.data.addAll(a);if(f!==undefined){for(;d<e;d++){a[d].index=f+d;a[d].join(c)}}else{for(;d<e;d++){a[d].join(c)}}c.suspendEvents();if(c.filterOnLoad&&!c.remoteFilter){c.filter()}if(c.sortOnLoad&&!c.remoteSort){c.sort(undefined,undefined,undefined,true)}c.resumeEvents();c.fireEvent("datachanged",c);c.fireEvent("refresh",c)},loadPage:function(a,b){var c=this;c.currentPage=a;b=Ext.apply({page:a,start:(a-1)*c.pageSize,limit:c.pageSize,addRecords:!c.clearOnPageLoad},b);if(c.buffered){return c.loadToPrefetch(b)}c.read(b)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(a){var b=this,c=b.data.items,d=c.length;while(d--){c[d].unjoin(b)}b.data.clear();if(a!==true||b.clearRemovedOnLoad){b.removed.length=0}},loadToPrefetch:function(a){var b=this,c,d,e=a.start,f=a.start+a.limit-1,g=a.start+(b.viewSize||a.limit)-1,h=b.getPageFromRecordIndex(Math.max(e-b.trailingBufferZone,0)),i=b.getPageFromRecordIndex(f+b.leadingBufferZone),j=function(){if(b.rangeCached(e,g)){b.loading=false;d=b.pageMap.getRange(e,g);b.pageMap.un("pageAdded",j);if(b.hasListeners.guaranteedrange){b.guaranteeRange(e,g,a.callback,a.scope)}else{b.loadRecords(d,{start:e})}b.fireEvent("load",b,d,true);if(a.groupChange){b.fireGroupChange()}}};if(b.fireEvent("beforeload",b,a)!==false){delete b.totalCount;b.loading=true;b.pageMap.on("pageAdded",j);b.on("prefetch",function(){for(c=h+1;c<=i;++c){b.prefetchPage(c,a)}},null,{single:true});b.prefetchPage(h,a)}},prefetch:function(a){var b=this,c=b.pageSize,d,e;if(c){if(b.lastPageSize&&c!=b.lastPageSize){Ext.error.raise("pageSize cannot be dynamically altered")}if(!b.pageMap.pageSize){b.pageMap.pageSize=c}}else{b.pageSize=b.pageMap.pageSize=c=a.limit}b.lastPageSize=c;if(!a.page){a.page=b.getPageFromRecordIndex(a.start);a.start=(a.page-1)*c;a.limit=Math.ceil(a.limit/c)*c}if(!b.pageRequests[a.page]){a=Ext.apply({action:"read",filters:b.filters.items,sorters:b.sorters.items,groupers:b.groupers.items,generation:b.pageMap.generation},a);e=new Ext.data.Operation(a);if(b.fireEvent("beforeprefetch",b,e)!==false){b.loading=true;d=b.proxy;b.pageRequests[a.page]=d.read(e,b.onProxyPrefetch,b);if(d.isSynchronous){delete b.pageRequests[a.page]}}}return b},cancelAllPrefetches:function(){var a=this,b=a.pageRequests,c,d;if(a.pageMap.events.pageadded){a.pageMap.events.pageadded.clearListeners()}for(d in b){if(b.hasOwnProperty(d)){c=b[d];delete b[d];delete c.callback}}},prefetchPage:function(a,b){var c=this,d=c.pageSize||c.defaultPageSize,e=(a-1)*c.pageSize,f=c.totalCount;if(f!==undefined&&c.getCount()===f){return}c.prefetch(Ext.applyIf({page:a,start:e,limit:d},b))},onProxyPrefetch:function(a){var b=this,c=a.getResultSet(),d=a.getRecords(),e=a.wasSuccessful(),f=a.page;if(a.generation===b.pageMap.generation){if(c){b.totalCount=c.total;b.fireEvent("totalcountchange",b.totalCount)}if(f!==undefined){delete b.pageRequests[f]}if(e){b.cachePage(d,a.page)}b.loading=false;b.fireEvent("prefetch",b,d,e,a);Ext.callback(a.callback,a.scope||b,[d,a,e])}},cachePage:function(a,b){var c=this;if(!Ext.isDefined(c.totalCount)){c.totalCount=a.length;c.fireEvent("totalcountchange",c.totalCount)}c.pageMap.addPage(b,a)},rangeCached:function(a,b){return this.pageMap&&this.pageMap.hasRange(a,b)},pageCached:function(a){return this.pageMap&&this.pageMap.hasPage(a)},rangeSatisfied:function(a,b){return this.rangeCached(a,b)},getPageFromRecordIndex:function(a){return Math.floor(a/this.pageSize)+1},onGuaranteedRange:function(a){var b=this,c=b.getTotalCount(),d=a.prefetchStart,e=c-1<a.prefetchEnd?c-1:a.prefetchEnd,f;e=Math.max(0,e);if(d>e){Ext.log({level:"warn",msg:"Start ("+d+") was greater than end ("+e+") for the range of records requested ("+d+"-"+a.prefetchEnd+")"+(this.storeId?' from store "'+this.storeId+'"':"")})}f=b.pageMap.getRange(d,e);b.fireEvent("guaranteedrange",f,d,e);if(a.cb){a.cb.call(a.scope||b,f,d,e)}},prefetchRange:function(a,b){var c=this,d,e,f;if(!c.rangeCached(a,b)){d=c.getPageFromRecordIndex(a);e=c.getPageFromRecordIndex(b);c.pageMap.maxSize=c.purgePageCount?e-d+1+c.purgePageCount:0;for(f=d;f<=e;f++){if(!c.pageCached(f)){c.prefetchPage(f)}}}},guaranteeRange:function(a,b,c,d){b=b>this.totalCount?this.totalCount-1:b;var e=this,f=e.lastRequestStart,g={prefetchStart:a,prefetchEnd:b,cb:c,scope:d},h;e.lastRequestStart=a;if(e.rangeCached(a,b)){if(a<f){a=Math.max(a-e.leadingBufferZone,0);b=Math.min(b+e.trailingBufferZone,e.totalCount-1)}else{a=Math.max(Math.min(a-e.trailingBufferZone,e.totalCount-e.pageSize),0);b=Math.min(b+e.leadingBufferZone,e.totalCount-1)}if(!e.rangeCached(a,b)){e.prefetchRange(a,b)}e.onGuaranteedRange(g)}else{e.fireEvent("cachemiss",e,a,b);a=Math.min(Math.max(Math.floor(a-(e.leadingBufferZone+e.trailingBufferZone)/2),0),e.totalCount-e.pageSize);b=Math.min(Math.max(Math.ceil(b+(e.leadingBufferZone+e.trailingBufferZone)/2),0),e.totalCount-1);h=function(c,d){if(e.rangeCached(g.prefetchStart,g.prefetchEnd)){e.fireEvent("cachefilled",e,a,b);e.pageMap.un("pageAdded",h);e.onGuaranteedRange(g)}};e.pageMap.on("pageAdded",h);e.prefetchRange(g.prefetchStart,g.prefetchEnd);e.prefetchRange(a,b)}},sort:function(){var a=this,b=a.pageMap;if(a.buffered){if(a.remoteSort){b.clear();a.callParent(arguments)}else{a.callParent(arguments)}}else{a.callParent(arguments)}},doSort:function(a){var b=this,c,d,e;if(b.remoteSort){if(b.buffered){b.pageMap.clear();b.loadPage(1)}else{b.load()}}else{b.data.sortBy(a);if(!b.buffered){c=b.getRange();d=c.length;for(e=0;e<d;e++){c[e].index=e}}b.fireEvent("datachanged",b);b.fireEvent("refresh",b)}},find:function(a,b,c,d,e,f){var g=this.createFilterFn(a,b,d,e,f);return g?this.data.findIndexBy(g,null,c):-1},findRecord:function(){var a=this,b=a.find.apply(a,arguments);return b!==-1?a.getAt(b):null},createFilterFn:function(a,b,c,d,e){if(Ext.isEmpty(b)){return false}b=this.data.createValueMatcher(b,c,d,e);return function(c){return b.test(c.data[a])}},findExact:function(a,b,c){return this.data.findIndexBy(function(c){return c.isEqual(c.get(a),b)},this,c)},findBy:function(a,b,c){return this.data.findIndexBy(a,b,c)},collect:function(a,b,c){var d=this,e=c===true&&d.snapshot?d.snapshot:d.data;return e.collect(a,"data",b)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalCount||0},getAt:function(a){return this.data.getAt(a)},getRange:function(a,b){return this.data.getRange(a,b)},getById:function(a){return(this.snapshot||this.data).findBy(function(b){return b.getId()===a})},indexOf:function(a){return this.data.indexOf(a)},indexOfTotal:function(a){var b=a.index;if(b||b===0){return b}return this.indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},removeAll:function(a){var b=this;b.clearData();if(b.snapshot){b.snapshot.clear()}if(b.pageMap){b.pageMap.clear()}if(a!==true){b.fireEvent("clear",b)}},first:function(a){var b=this;if(a&&b.isGrouped()){return b.aggregate(function(a){return a.length?a[0]:undefined},b,true)}else{return b.data.first()}},last:function(a){var b=this;if(a&&b.isGrouped()){return b.aggregate(function(a){var b=a.length;return b?a[b-1]:undefined},b,true)}else{return b.data.last()}},sum:function(a,b){var c=this;if(b&&c.isGrouped()){return c.aggregate(c.getSum,c,true,[a])}else{return c.getSum(c.data.items,a)}},getSum:function(a,b){var c=0,d=0,e=a.length;for(;d<e;++d){c+=a[d].get(b)}return c},count:function(a){var b=this;if(a&&b.isGrouped()){return b.aggregate(function(a){return a.length},b,true)}else{return b.getCount()}},min:function(a,b){var c=this;if(b&&c.isGrouped()){return c.aggregate(c.getMin,c,true,[a])}else{return c.getMin(c.data.items,a)}},getMin:function(a,b){var c=1,d=a.length,e,f;if(d>0){f=a[0].get(b)}for(;c<d;++c){e=a[c].get(b);if(e<f){f=e}}return f},max:function(a,b){var c=this;if(b&&c.isGrouped()){return c.aggregate(c.getMax,c,true,[a])}else{return c.getMax(c.data.items,a)}},getMax:function(a,b){var c=1,d=a.length,e,f;if(d>0){f=a[0].get(b)}for(;c<d;++c){e=a[c].get(b);if(e>f){f=e}}return f},average:function(a,b){var c=this;if(b&&c.isGrouped()){return c.aggregate(c.getAverage,c,true,[a])}else{return c.getAverage(c.data.items,a)}},getAverage:function(a,b){var c=0,d=a.length,e=0;if(a.length>0){for(;c<d;++c){e+=a[c].get(b)}return e/d}return 0},aggregate:function(a,b,c,d){d=d||[];if(c&&this.isGrouped()){var e=this.getGroups(),f=0,g=e.length,h={},i;for(;f<g;++f){i=e[f];h[i.name]=a.apply(b||this,[i.children].concat(d))}return h}else{return a.apply(b||this,[this.data.items].concat(d))}},commitChanges:function(){var a=this,b=a.getModifiedRecords(),c=b.length,d=0;for(;d<c;d++){b[d].commit()}a.removed.length=0},filterNewOnly:function(a){return a.phantom===true},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,this.getUpdatedRecords())},rejectChanges:function(){var a=this,b=a.getRejectRecords(),c=b.length,d=0,e;for(;d<c;d++){e=b[d];e.reject();if(e.phantom){a.remove(e)}}b=a.removed;c=b.length;for(d=0;d<c;d++){e=b[d];a.insert(e.removedFrom||0,e);e.reject()}a.removed.length=0}},function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"});this.prototype.PageMap=new Ext.Class({extend:"Ext.util.LruCache",clear:function(a){this.generation=(this.generation||0)+1;this.callParent(arguments)},getPageFromRecordIndex:this.prototype.getPageFromRecordIndex,addPage:function(a,b){this.add(a,b);this.fireEvent("pageAdded",a,b)},getPage:function(a){return this.get(a)},hasRange:function(a,b){var c=this.getPageFromRecordIndex(a),d=this.getPageFromRecordIndex(b);for(;c<=d;c++){if(!this.hasPage(c)){return false}}return true},hasPage:function(a){return!!this.get(a)},getRange:function(a,b){if(!this.hasRange(a,b)){Ext.Error.raise("PageMap asked for range which it does not have")}var c=this,d=c.getPageFromRecordIndex(a),e=c.getPageFromRecordIndex(b),f=(d-1)*c.pageSize,g=e*c.pageSize-1,h=d,i=[],j,k,l,m=0,n;for(;h<=e;h++){if(h==d){j=a-f;l=true}else{j=0;l=false}if(h==e){k=c.pageSize-(g-b);l=true}if(l){Ext.Array.push(i,Ext.Array.slice(c.getPage(h),j,k))}else{Ext.Array.push(i,c.getPage(h))}}for(n=i.length;m<n;m++){i[m].index=a++}return i}})});Ext.define("Ext.state.Manager",{singleton:true,requires:["Ext.state.Provider"],constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(a){this.provider=a},get:function(a,b){return this.provider.get(a,b)},set:function(a,b){this.provider.set(a,b)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}});Ext.define("Ext.state.Stateful",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.state.Manager"],stateful:false,saveDelay:100,constructor:function(a){var b=this;a=a||{};if(a.stateful!==undefined){b.stateful=a.stateful}if(a.saveDelay!==undefined){b.saveDelay=a.saveDelay}b.stateId=b.stateId||a.stateId;if(!b.stateEvents){b.stateEvents=[]}if(a.stateEvents){b.stateEvents.concat(a.stateEvents)}this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave");b.mixins.observable.constructor.call(b);if(b.stateful!==false){b.addStateEvents(b.stateEvents);b.initState()}},addStateEvents:function(a){var b=this,c,d,e;if(b.stateful&&b.getStateId()){if(typeof a=="string"){a=Array.prototype.slice.call(arguments,0)}e=b.stateEventsByName||(b.stateEventsByName={});for(c=a.length;c--;){d=a[c];if(!e[d]){e[d]=1;b.on(d,b.onStateChange,b)}}}},onStateChange:function(){var a=this,b=a.saveDelay,c,d;if(!a.stateful){return}if(b){if(!a.stateTask){c=Ext.state.Stateful;d=c.runner||(c.runner=new Ext.util.TaskRunner);a.stateTask=d.newTask({run:a.saveState,scope:a,interval:b,repeat:1})}a.stateTask.start()}else{a.saveState()}},saveState:function(){var a=this,b=a.stateful&&a.getStateId(),c=a.hasListeners,d;if(b){d=a.getState()||{};if(!c.beforestatesave||a.fireEvent("beforestatesave",a,d)!==false){Ext.state.Manager.set(b,d);if(c.statesave){a.fireEvent("statesave",a,d)}}}},getState:function(){return null},applyState:function(a){if(a){Ext.apply(this,a)}},getStateId:function(){var a=this;return a.stateId||(a.autoGenId?null:a.id)},initState:function(){var a=this,b=a.stateful&&a.getStateId(),c=a.hasListeners,d;if(b){d=Ext.state.Manager.get(b);if(d){d=Ext.apply({},d);if(!c.beforestaterestore||a.fireEvent("beforestaterestore",a,d)!==false){a.applyState(d);if(c.staterestore){a.fireEvent("staterestore",a,d)}}}}},savePropToState:function(a,b,c){var d=this,e=d[a],f=d.initialConfig;if(d.hasOwnProperty(a)){if(!f||f[a]!==e){if(b){b[c||a]=e}return true}}return false},savePropsToState:function(a,b){var c=this,d,e;if(typeof a=="string"){c.savePropToState(a,b)}else{for(d=0,e=a.length;d<e;++d){c.savePropToState(a[d],b)}}return b},destroy:function(){var a=this,b=a.stateTask;if(b){b.destroy();a.stateTask=null}a.clearListeners()}});Ext.define("Ext.AbstractComponent",{requires:["Ext.ComponentQuery","Ext.ComponentManager","Ext.util.ProtoElement"],mixins:{observable:"Ext.util.Observable",animate:"Ext.util.Animate",elementCt:"Ext.util.ElementContainer",renderable:"Ext.util.Renderable",state:"Ext.state.Stateful"},uses:["Ext.PluginManager","Ext.Element","Ext.DomHelper","Ext.XTemplate","Ext.ComponentQuery","Ext.ComponentLoader","Ext.EventManager","Ext.layout.Context","Ext.layout.Layout","Ext.layout.component.Auto","Ext.LoadMask","Ext.ZIndexManager"],statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(a,b){var c=this.runningLayoutContext||this.pendingLayouts;if(c){c.cancelComponent(a,false,b)}},flushLayouts:function(){var a=this,b=a.pendingLayouts;if(b&&b.invalidQueue.length){a.pendingLayouts=null;a.runningLayoutContext=b;Ext.override(b,{runComplete:function(){a.runningLayoutContext=null;return this.callParent()}});b.run()}},resumeLayouts:function(a){if(this.layoutSuspendCount&&!--this.layoutSuspendCount){if(a){this.flushLayouts()}}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(a,b){var c=this,d=c.runningLayoutContext,e;if(d){d.queueInvalidate(a)}else{e=c.pendingLayouts||(c.pendingLayouts=new Ext.layout.Context);e.queueInvalidate(a);if(!b&&!c.layoutSuspendCount&&!a.isLayoutSuspended()){c.flushLayouts()}}}},isComponent:true,getAutoId:function(){this.autoGenId=true;return++Ext.AbstractComponent.AUTO_ID},deferLayouts:false,autoGenId:false,renderTpl:"{%this.renderContent(out,values)%}",frameSize:{left:0,top:0,right:0,bottom:0,width:0,height:0},tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:false,disabled:false,draggable:false,floating:false,hideMode:"display",styleHtmlContent:false,styleHtmlCls:Ext.baseCSSPrefix+"html",autoShow:false,autoRender:false,allowDomMove:true,rendered:false,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:true,_isLayoutRoot:false,constructor:function(a){var b=this,c,d,e;if(a){Ext.apply(b,a);e=b.xhooks;if(e){delete b.xhooks;Ext.override(b,e)}}else{a={}}b.initialConfig=a;b.mixins.elementCt.constructor.call(b);b.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur");b.getId();b.setupProtoEl();if(b.cls){b.initialCls=b.cls;b.protoEl.addCls(b.cls)}if(b.style){b.initialStyle=b.style;b.protoEl.setStyle(b.style)}b.mons=[];b.renderData=b.renderData||{};b.renderSelectors=b.renderSelectors||{};if(b.plugins){b.plugins=b.constructPlugins()}if(!b.hasListeners){b.hasListeners=new b.HasListeners}b.initComponent();Ext.ComponentManager.register(b);b.mixins.observable.constructor.call(b);b.mixins.state.constructor.call(b,a);this.addStateEvents("resize");if(b.plugins){for(c=0,d=b.plugins.length;c<d;c++){b.plugins[c]=b.initPlugin(b.plugins[c])}}b.loader=b.getLoader();if(b.renderTo){b.render(b.renderTo)}if(b.autoShow&&!b.isContained){b.show()}if(Ext.isDefined(b.disabledClass)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.Component: disabledClass has been deprecated. Please use disabledCls.")}b.disabledCls=b.disabledClass;delete b.disabledClass}},initComponent:function(){this.plugins=this.constructPlugins();this.setSize(this.width,this.height)},getState:function(){var a=this,b=null,c=a.getSizeModel();if(c.width.configured){b=a.addPropertyToState(b,"width")}if(c.height.configured){b=a.addPropertyToState(b,"height")}return b},addPropertyToState:function(a,b,c){var d=this,e=arguments.length;if(e==3||d.hasOwnProperty(b)){if(e<3){c=d[b]}if(c!==d.initialConfig[b]){(a||(a={}))[b]=c}}return a},show:Ext.emptyFn,animate:function(a){var b=this,c,d,e,f,g,h,i,j,k,l,m,n;a=a||{};g=a.to||{};if(Ext.fx.Manager.hasFxBlock(b.id)){return b}c=Ext.isDefined(g.width);if(c){f=Ext.Number.constrain(g.width,b.minWidth,b.maxWidth)}d=Ext.isDefined(g.height);if(d){e=Ext.Number.constrain(g.height,b.minHeight,b.maxHeight)}if(!a.dynamic&&(c||d)){j=(a.from?a.from.width:undefined)||b.getWidth();k=j;l=(a.from?a.from.height:undefined)||b.getHeight();m=l;n=false;if(d&&e>l){m=e;n=true}if(c&&f>j){k=f;n=true}if(n){h=!Ext.isNumber(b.width);i=!Ext.isNumber(b.height);b.setSize(k,m);b.el.setSize(j,l);if(h){delete b.width}if(i){delete b.height}}if(c){g.width=f}if(d){g.height=e}}return b.mixins.animate.animate.apply(b,arguments)},onHide:function(){this.updateLayout({isRoot:false})},onShow:function(){this.updateLayout({isRoot:false})},constructPlugin:function(a){if(a.ptype&&typeof a.init!="function"){a.cmp=this;a=Ext.PluginManager.create(a)}else if(typeof a=="string"){a=Ext.PluginManager.create({ptype:a,cmp:this})}return a},constructPlugins:function(){var a=this,b,c=[],d,e;if(a.plugins){b=Ext.isArray(a.plugins)?a.plugins:[a.plugins];for(d=0,e=b.length;d<e;d++){c[d]=a.constructPlugin(b[d])}return c}},initPlugin:function(a){a.init(this);return a},updateAria:Ext.emptyFn,registerFloatingItem:function(a){var b=this;if(!b.floatingDescendants){b.floatingDescendants=new Ext.ZIndexManager(b)}b.floatingDescendants.register(a)},unregisterFloatingItem:function(a){var b=this;if(b.floatingDescendants){b.floatingDescendants.unregister(a)}},layoutSuspendCount:0,suspendLayouts:function(){var a=this;if(!a.rendered){return}if(++a.layoutSuspendCount==1){a.suspendLayout=true}},resumeLayouts:function(a){var b=this;if(!b.rendered){return}if(!--b.layoutSuspendCount){b.suspendLayout=false;if(a&&!b.isLayoutSuspended()){b.updateLayout(a)}}},setupProtoEl:function(){var a=this,b=[a.baseCls,a.getComponentLayout().targetCls];if(Ext.isDefined(a.cmpCls)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls.")}a.componentCls=a.cmpCls;delete a.cmpCls}if(a.componentCls){b.push(a.componentCls)}else{a.componentCls=a.baseCls}a.protoEl=new Ext.util.ProtoElement({cls:b.join(" ")})},setUI:function(a){var b=this,c=Ext.Array.clone(b.uiCls),d=[],e=[],f,g;for(g=0;g<c.length;g++){f=c[g];e=e.concat(b.removeClsWithUI(f,true));d.push(f)}if(e.length){b.removeCls(e)}b.removeUIFromElement();b.ui=a;b.addUIToElement();e=[];for(g=0;g<d.length;g++){f=d[g];e=e.concat(b.addClsWithUI(f,true))}if(e.length){b.addCls(e)}if(b.rendered){b.updateLayout()}},addClsWithUI:function(a,b){var c=this,d=[],e,f=0,g;if(typeof a==="string"){a=a.indexOf(" ")<0?[a]:Ext.String.splitWords(a)}e=a.length;c.uiCls=Ext.Array.clone(c.uiCls);for(;f<e;f++){g=a[f];if(g&&!c.hasUICls(g)){c.uiCls.push(g);d=d.concat(c.addUIClsToElement(g))}}if(b!==true){c.addCls(d)}return d},removeClsWithUI:function(a,b){var c=this,d=[],e=0,f,g;if(typeof a==="string"){a=a.indexOf(" ")<0?[a]:Ext.String.splitWords(a)}f=a.length;for(e=0;e<f;e++){g=a[e];if(g&&c.hasUICls(g)){c.uiCls=Ext.Array.remove(c.uiCls,g);d=d.concat(c.removeUIClsFromElement(g))}}if(b!==true){c.removeCls(d)}return d},hasUICls:function(a){var b=this,c=b.uiCls||[];return Ext.Array.contains(c,a)},frameElementsArray:["tl","tc","tr","ml","mc","mr","bl","bc","br"],addUIClsToElement:function(a){var b=this,c=b.baseCls+"-"+b.ui+"-"+a,d=[Ext.baseCSSPrefix+a,b.baseCls+"-"+a,c],e=b.frameElementCls,f,g,h,i,j,k;if(b.frame&&!Ext.supports.CSS3BorderRadius){f=b.frameElementsArray;g=f.length;h=0;for(;h<g;h++){j=f[h];i=b["frame"+j.toUpperCase()];k=c+"-"+j;if(i&&i.dom){i.addCls(k)}else if(Ext.Array.indexOf(e[j],k)==-1){e[j].push(k)}}}b.frameElementCls=e;return d},removeUIClsFromElement:function(a){var b=this,c=b.baseCls+"-"+b.ui+"-"+a,d=[Ext.baseCSSPrefix+a,b.baseCls+"-"+a,c],e=b.frameElementCls,f,g,h,i,j,k;if(b.frame&&!Ext.supports.CSS3BorderRadius){f=b.frameElementsArray;g=f.length;h=0;for(;h<g;h++){j=f[h];i=b["frame"+j.toUpperCase()];k=c+"-"+j;if(i&&i.dom){i.addCls(k)}else{Ext.Array.remove(e[j],k)}}}b.frameElementCls=e;return d},addUIToElement:function(){var a=this,b=a.baseCls+"-"+a.ui,c=a.frameElementCls,d,e,f,g,h,i;a.addCls(b);if(a.frame&&!Ext.supports.CSS3BorderRadius){d=a.frameElementsArray;e=d.length;f=0;for(;f<e;f++){h=d[f];g=a["frame"+h.toUpperCase()];i=b+"-"+h;if(g){g.addCls(i)}else{if(!Ext.Array.contains(c[h],i)){c[h].push(i)}}}}},removeUIFromElement:function(){var a=this,b=a.baseCls+"-"+a.ui,c=a.frameElementCls,d,e,f,g,h,i;a.removeCls(b);if(a.frame&&!Ext.supports.CSS3BorderRadius){d=a.frameElementsArray;e=d.length;f=0;for(;f<e;f++){h=d[f];g=a["frame"+h.toUpperCase()];i=b+"-"+h;if(g){g.removeCls(i)}else{Ext.Array.remove(c[h],i)}}}},getTpl:function(a){return Ext.XTemplate.getTpl(this,a)},initStyles:function(a){var b=this,c=Ext.Element,d=b.padding,e=b.margin,f=b.x,g=b.y,h,i;if(d!==undefined){a.setStyle("padding",c.unitizeBox(d===true?5:d))}if(e!==undefined){a.setStyle("margin",c.unitizeBox(e===true?5:e))}if(b.border!==undefined){b.setBorder(b.border,a)}if(b.cls&&b.cls!=b.initialCls){a.addCls(b.cls);delete b.cls;delete b.initialCls}if(b.style&&b.style!=b.initialStyle){a.setStyle(b.style);delete b.style;delete b.initialStyle}if(f!==undefined){a.setStyle("left",typeof f=="number"?f+"px":f)}if(g!==undefined){a.setStyle("top",typeof g=="number"?g+"px":g)}if(!b.getFrameInfo()){h=b.width;i=b.height;if(h!==undefined){if(typeof h==="number"){if(Ext.isBorderBox){a.setStyle("width",h+"px")}}else{a.setStyle("width",h)}}if(i!==undefined){if(typeof i==="number"){if(Ext.isBorderBox){a.setStyle("height",i+"px")}}else{a.setStyle("height",i)}}}},initEvents:function(){var a=this,b=a.afterRenderEvents,c,d,e=function(b){a.mon(c,b)};if(b){for(d in b){if(b.hasOwnProperty(d)){c=a[d];if(c&&c.on){Ext.each(b[d],e)}}}}a.addFocusListener()},addFocusListener:function(){var a=this,b=a.getFocusEl(),c;if(b){if(b.isComponent){return b.addFocusListener()}c=b.needsTabIndex();if(!a.focusListenerAdded&&(!c||Ext.FocusManager.enabled)){if(c){b.dom.tabIndex=-1}b.on({focus:a.onFocus,blur:a.onBlur,scope:a});a.focusListenerAdded=true}}},getFocusEl:Ext.emptyFn,isFocusable:function(a){var b=this,c;if(b.focusable!==false&&(c=b.getFocusEl())&&b.rendered&&!b.destroying&&!b.isDestroyed&&!b.disabled&&b.isVisible(true)){if(c.isComponent){return c.isFocusable()}return c&&c.dom&&c.isVisible()}},preFocus:Ext.emptyFn,onFocus:function(a){var b=this,c=b.focusCls,d=b.getFocusEl();if(!b.disabled){b.preFocus(a);if(c&&d){d.addCls(b.addClsWithUI(c,true))}if(!b.hasFocus){b.hasFocus=true;b.fireEvent("focus",b,a)}}},beforeBlur:Ext.emptyFn,onBlur:function(a){var b=this,c=b.focusCls,d=b.getFocusEl();if(b.destroying){return}b.beforeBlur(a);if(c&&d){d.removeCls(b.removeClsWithUI(c,true))}if(b.validateOnBlur){b.validate()}b.hasFocus=false;b.fireEvent("blur",b,a);b.postBlur(a)},postBlur:Ext.emptyFn,is:function(a){return Ext.ComponentQuery.is(this,a)},up:function(a){var b=this.getBubbleTarget();if(a){for(;b;b=b.getBubbleTarget()){if(Ext.ComponentQuery.is(b,a)){return b}}}return b},nextSibling:function(a){var b=this.ownerCt,c,d,e,f;if(b){c=b.items;e=c.indexOf(this)+1;if(e){if(a){for(d=c.getCount();e<d;e++){if((f=c.getAt(e)).is(a)){return f}}}else{if(e<c.getCount()){return c.getAt(e)}}}}return null},previousSibling:function(a){var b=this.ownerCt,c,d,e;if(b){c=b.items;d=c.indexOf(this);if(d!=-1){if(a){for(--d;d>=0;d--){if((e=c.getAt(d)).is(a)){return e}}}else{if(d){return c.getAt(--d)}}}}return null},previousNode:function(a,b){var c=this,d=c.ownerCt,e,f,g,h;if(b&&c.is(a)){return c}if(d){for(f=d.items.items,g=Ext.Array.indexOf(f,c)-1;g>-1;g--){h=f[g];if(h.query){e=h.query(a);e=e[e.length-1];if(e){return e}}if(h.is(a)){return h}}return d.previousNode(a,true)}return null},nextNode:function(a,b){var c=this,d=c.ownerCt,e,f,g,h,i;if(b&&c.is(a)){return c}if(d){for(f=d.items.items,h=Ext.Array.indexOf(f,c)+1,g=f.length;h<g;h++){i=f[h];if(i.is(a)){return i}if(i.down){e=i.down(a);if(e){return e}}}return d.nextNode(a)}return null},getId:function(){return this.id||(this.id="ext-comp-"+this.getAutoId())},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowStyle:function(){var a=this,b=null;if(typeof a.autoScroll=="boolean"){b={overflow:a.autoScroll?"auto":""}}else if(a.overflowX!==undefined||a.overflowY!==undefined){b={"overflow-x":a.overflowX||"","overflow-y":a.overflowY||""}}if(b&&(Ext.isIE6||Ext.isIE7)){b.position="relative"}return b},isXType:function(a,b){if(b){return this.xtype===a}else{return this.xtypesMap[a]}},getXTypes:function(){var a=this.self,b,c,d;if(!a.xtypes){b=[];c=this;while(c){d=c.xtypes;if(d!==undefined){b.unshift.apply(b,d)}c=c.superclass}a.xtypeChain=b;a.xtypes=b.join("/")}return a.xtypes},update:function(a,b,c){var d=this;if(d.tpl&&!Ext.isString(a)){d.data=a;if(d.rendered){d.tpl[d.tplWriteMode](d.getTargetEl(),a||{})}}else{d.html=Ext.isObject(a)?Ext.DomHelper.markup(a):a;if(d.rendered){d.getTargetEl().update(d.html,b,c)}}if(d.rendered){d.updateLayout()}},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(a){var b=this,c=b,d=b.rendered&&!b.hidden,e=b.ownerCt;b.hiddenAncestor=false;if(b.destroyed){return false}if(a&&d&&e){while(e){if(e.hidden||e.collapsed&&!(e.getDockedItems&&Ext.Array.contains(e.getDockedItems(),c))){b.hiddenAncestor=e;d=false;break}c=e;e=e.ownerCt}}return d},onBoxReady:function(){var a=this;if(a.disableOnBoxReady){a.onDisable()}else if(a.enableOnBoxReady){a.onEnable()}if(a.resizable){a.initResizable(a.resizable)}if(a.draggable){a.initDraggable()}},enable:function(a){var b=this;delete b.disableOnBoxReady;b.removeCls(b.disabledCls);if(b.rendered){b.onEnable()}else{b.enableOnBoxReady=true}b.disabled=false;delete b.resetDisable;if(a!==true){b.fireEvent("enable",b)}return b},disable:function(a){var b=this;delete b.enableOnBoxReady;b.addCls(b.disabledCls);if(b.rendered){b.onDisable()}else{b.disableOnBoxReady=true}b.disabled=true;if(a!==true){delete b.resetDisable;b.fireEvent("disable",b)}return b},onEnable:function(){if(this.maskOnDisable){this.el.dom.disabled=false;this.unmask()}},onDisable:function(){var a=this,b=a.focusCls,c=a.getFocusEl();if(b&&c){c.removeCls(a.removeClsWithUI(b,true))}if(a.maskOnDisable){a.el.dom.disabled=true;a.mask()}},mask:function(){var a=this.lastBox,b=this.getMaskTarget(),c=[];if(a){c[2]=a.height}b.mask.apply(b,c)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(a){return this[a?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(a){var b=this,c=b.rendered?b.el:b.protoEl;try{c.addCls.apply(c,arguments)}catch(d){alert(d+"\n"+a+"\n"+b)}return b},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(a){var b=this,c=b.rendered?b.el:b.protoEl;return c.hasCls.apply(c,arguments)},removeCls:function(a){var b=this,c=b.rendered?b.el:b.protoEl;try{c.removeCls.apply(c,arguments)}catch(d){alert(d+"\n"+a+"\n"+b)}return b},removeClass:function(){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.Component: removeClass has been deprecated. Please use removeCls.")}return this.removeCls.apply(this,arguments)},addOverCls:function(){var a=this;if(!a.disabled){a.el.addCls(a.overCls)}},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(a,b,c,d){var e=this,f,g;if(Ext.isString(a)&&(Ext.isObject(b)||d&&d.element)){if(d.element){f=b;b={};b[a]=f;a=d.element;if(c){b.scope=c}for(g in d){if(d.hasOwnProperty(g)){if(e.eventOptionsRe.test(g)){b[g]=d[g]}}}}if(e[a]&&e[a].on){e.mon(e[a],b)}else{e.afterRenderEvents=e.afterRenderEvents||{};if(!e.afterRenderEvents[a]){e.afterRenderEvents[a]=[]}e.afterRenderEvents[a].push(b)}}return e.mixins.observable.addListener.apply(e,arguments)},removeManagedListenerItem:function(a,b,c,d,e,f){var g=this,h=b.options?b.options.element:null;if(h){h=g[h];if(h&&h.un){if(a||b.item===c&&b.ename===d&&(!e||b.fn===e)&&(!f||b.scope===f)){h.un(b.ename,b.fn,b.scope);if(!a){Ext.Array.remove(g.managedListeners,b)}}}}else{return g.mixins.observable.removeManagedListenerItem.apply(g,arguments)}},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(a,b){var c=this;c.ownerCt=a;if(c.hasListeners.added){c.fireEvent("added",c,a,b)}},onRemoved:function(a){var b=this;if(b.hasListeners.removed){b.fireEvent("removed",b,b.ownerCt)}delete b.ownerCt;delete b.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:Ext.emptyFn,setSize:function(a,b){var c=this;if(a&&typeof a=="object"){b=a.height;a=a.width}if(typeof a=="number"){c.width=Ext.Number.constrain(a,c.minWidth,c.maxWidth)}else if(a===null){delete c.width}if(typeof b=="number"){c.height=Ext.Number.constrain(b,c.minHeight,c.maxHeight)}else if(b===null){delete c.height}if(c.rendered&&c.isVisible()){c.updateLayout({isRoot:false})}return c},isLayoutRoot:function(){var a=this,b=a.ownerLayout;if(!b||a._isLayoutRoot||a.floating){return true}return b.isItemLayoutRoot(a)},isLayoutSuspended:function(){var a=this,b;while(a){if(a.layoutSuspendCount||a.suspendLayout){return true}b=a.ownerLayout;if(!b){break}a=b.owner}return false},updateLayout:function(a){var b=this,c,d=a&&a.isRoot;if(!b.rendered||b.layoutSuspendCount||b.suspendLayout){return}if(b.hidden){Ext.AbstractComponent.cancelLayout(b)}else if(typeof d!="boolean"){d=b.isLayoutRoot()}if(d||!b.ownerLayout||!b.ownerLayout.onContentChange(b)){if(!b.isLayoutSuspended()){c=a&&a.hasOwnProperty("defer")?a.defer:b.deferLayouts;Ext.AbstractComponent.updateLayout(b,c)}}},getSizeModel:function(a){var b=this,c=Ext.layout.SizeModel,d=b.componentLayout.ownerContext,e=b.width,f=b.height,g,h,i,j,k,l,m,n,o,p;if(d){p=d.widthModel;k=d.heightModel}if(!p||!k){i=(g=typeof e)=="number";j=(h=typeof f)=="number";o=b.floating||!(l=b.ownerLayout);if(o){m=Ext.layout.Layout.prototype.autoSizePolicy;n=b.floating?3:b.shrinkWrap;if(i){p=c.configured}if(j){k=c.configured}}else{m=l.getItemSizePolicy(b,a);n=l.isItemShrinkWrap(b)}n=n===true?3:n||0;if(o&&n){if(e&&g=="string"){n&=2}if(f&&h=="string"){n&=1}}if(n!==3){if(!a){a=b.ownerCt&&b.ownerCt.getSizeModel()}if(a){n|=(a.width.shrinkWrap?1:0)|(a.height.shrinkWrap?2:0)}}if(!p){if(!m.setsWidth){if(i){p=c.configured}else{p=n&1?c.shrinkWrap:c.natural}}else if(m.readsWidth){if(i){p=c.calculatedFromConfigured}else{p=n&1?c.calculatedFromShrinkWrap:c.calculatedFromNatural}}else{p=c.calculated}}if(!k){if(!m.setsHeight){if(j){k=c.configured}else{k=n&2?c.shrinkWrap:c.natural}}else if(m.readsHeight){if(j){k=c.calculatedFromConfigured}else{k=n&2?c.calculatedFromShrinkWrap:c.calculatedFromNatural}}else{k=c.calculated}}}return p.pairsByHeightOrdinal[k.ordinal]},isDescendant:function(a){if(a.isContainer){for(var b=this.ownerCt;b;b=b.ownerCt){if(b===a){return true}}}return false},doComponentLayout:function(){this.updateLayout();return this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(a){var b=this.componentLayout;if(b&&b.isLayout&&b!=a){b.setOwner(null)}this.componentLayout=a;a.setOwner(this)},getComponentLayout:function(){var a=this;if(!a.componentLayout||!a.componentLayout.isLayout){a.setComponentLayout(Ext.layout.Layout.create(a.componentLayout,"autocomponent"))}return a.componentLayout},afterComponentLayout:function(a,b,c,d){var e=this,f,g,h,i;if(++e.componentLayoutCounter===1){e.afterFirstLayout(a,b)}if(e.floatingItems){f=e.floatingItems.items;g=f.length;for(h=0;h<g;h++){i=f[h];if(!i.rendered&&i.autoShow){i.show()}}}if(e.hasListeners.resize&&(a!==c||b!==d)){e.fireEvent("resize",e,a,b,c,d)}},beforeComponentLayout:function(a,b){return true},setPosition:function(a,b,c){var d=this,e=d.beforeSetPosition.apply(d,arguments);if(e&&d.rendered){e=d.convertPosition(e);if(e.left!==d.el.getLeft()||e.top!==d.el.getTop()){if(c){d.stopAnimation();d.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(d.afterSetPosition,d,[e.left,e.top])},to:e},c))}else{if(e.left!==undefined&&e.top!==undefined){d.el.setLeftTop(e.left,e.top)}else if(e.left!==undefined){d.el.setLeft(e.left)}else if(e.top!==undefined){d.el.setTop(e.top)}d.afterSetPosition(e.left,e.top)}}}return d},beforeSetPosition:function(a,b,c){var d,e;if(!a||Ext.isNumber(a)){d={x:a,y:b,anim:c}}else if(Ext.isNumber(e=a[0])){d={x:e,y:a[1],anim:b}}else{d={x:a.x,y:a.y,anim:b}}d.hasX=Ext.isNumber(d.x);d.hasY=Ext.isNumber(d.y);this.x=d.x;this.y=d.y;return d.hasX||d.hasY?d:null},afterSetPosition:function(a,b){var c=this;c.onPosition(a,b);if(c.hasListeners.move){c.fireEvent("move",c,a,b)}},convertPosition:function(a,b){var c={},d=Ext.Element;if(a.hasX){c.left=b?d.addUnits(a.x):a.x}if(a.hasY){c.top=b?d.addUnits(a.y):a.y}return c},onPosition:Ext.emptyFn,setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(undefined,a)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var a=this,b=a.autoLoad?Ext.isObject(a.autoLoad)?a.autoLoad:{url:a.autoLoad}:null,c=a.loader||b;if(c){if(!c.isLoader){a.loader=new Ext.ComponentLoader(Ext.apply({target:a,autoLoad:b},c))}else{c.setTarget(a)}return a.loader}return null},setDocked:function(a,b){var c=this;c.dock=a;if(b&&c.ownerCt&&c.rendered){c.ownerCt.updateLayout()}return c},setBorder:function(a,b){var c=this,d=!!b;if(c.rendered||d){if(!d){b=c.el}if(!a){a=0}else{a=Ext.Element.unitizeBox(a===true?1:a)}b.setStyle("border-width",a);if(!d){c.updateLayout()}}c.border=a},onDestroy:function(){var a=this;if(a.monitorResize&&Ext.EventManager.resizeEvent){Ext.EventManager.resizeEvent.removeListener(a.setSize,a)}Ext.destroy(a.componentLayout,a.loadMask,a.floatingDescendants)},destroy:function(){var a=this,b=a.renderSelectors,c,d;if(!a.isDestroyed){if(!a.hasListeners.beforedestroy||a.fireEvent("beforedestroy",a)!==false){a.destroying=true;a.beforeDestroy();if(a.floating){delete a.floatParent;if(a.zIndexManager){a.zIndexManager.unregister(a)}}else if(a.ownerCt&&a.ownerCt.remove){a.ownerCt.remove(a,false)}a.onDestroy();Ext.destroy(a.plugins);if(a.hasListeners.destroy){a.fireEvent("destroy",a)}Ext.ComponentManager.unregister(a);a.mixins.state.destroy.call(a);a.clearListeners();if(a.rendered){if(!a.preserveElOnDestroy){a.el.remove()}a.mixins.elementCt.destroy.call(a);if(b){for(c in b){if(b.hasOwnProperty(c)){d=a[c];if(d){delete a[c];d.remove()}}}}delete a.el;delete a.frameBody;delete a.rendered}a.destroying=false;a.isDestroyed=true}}},getPlugin:function(a){var b=0,c=this.plugins,d=c.length;for(;b<d;b++){if(c[b].pluginId===a){return c[b]}}},isDescendantOf:function(a){return!!this.findParentBy(function(b){return b===a})}},function(){var a=this;a.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(b){a.resumeLayouts(b)};Ext.suspendLayouts=function(){a.suspendLayouts()};Ext.batchLayouts=function(b,c){a.suspendLayouts();b.call(c);a.resumeLayouts(true)}});Ext.define("Ext.Component",{alias:["widget.component","widget.box"],extend:"Ext.AbstractComponent",requires:["Ext.util.DelayedTask"],uses:["Ext.Layer","Ext.resizer.Resizer","Ext.util.ComponentDragger"],mixins:{floating:"Ext.util.Floating"},statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:false,toFrontOnShow:true,hideMode:"display",bubbleEvents:[],monPropRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,constructor:function(a){var b=this;a=a||{};if(a.initialConfig){if(a.isAction){b.baseAction=a}a=a.initialConfig}else if(a.tagName||a.dom||Ext.isString(a)){a={applyTo:a,id:a.id||a}}b.callParent([a]);if(b.baseAction){b.baseAction.addComponent(b)}},initComponent:function(){var a=this;a.callParent();if(a.listeners){a.on(a.listeners);a.listeners=null}a.enableBubble(a.bubbleEvents);a.mons=[]},afterRender:function(){var a=this;a.callParent();if(!(a.x&&a.y)&&(a.pageX||a.pageY)){a.setPagePosition(a.pageX,a.pageY)}},setAutoScroll:function(a){var b=this;b.autoScroll=!!a;if(b.rendered){b.getTargetEl().setStyle(b.getOverflowStyle())}b.updateLayout();return b},setOverflowXY:function(a,b){var c=this,d=arguments.length;if(d){c.overflowX=a||"";if(d>1){c.overflowY=b||""}}if(c.rendered){c.getTargetEl().setStyle(c.getOverflowStyle())}c.updateLayout();return c},beforeRender:function(){var a=this,b=a.floating,c;if(b){a.addCls(Ext.baseCSSPrefix+"layer");c=b.cls;if(c){a.addCls(c)}}return a.callParent()},afterComponentLayout:function(){this.callParent(arguments);if(this.floating){this.onAfterFloatLayout()}},makeFloating:function(a){this.mixins.floating.constructor.call(this,a)},wrapPrimaryEl:function(a){if(this.floating){this.makeFloating(a)}else{this.callParent(arguments)}},initResizable:function(a){var b=this;a=Ext.apply({target:b,dynamic:false,constrainTo:b.constrainTo||(b.floatParent?b.floatParent.getTargetEl():null),handles:b.resizeHandles},a);a.target=b;b.resizer=new Ext.resizer.Resizer(a)},getDragEl:function(){return this.el},initDraggable:function(){var a=this,b=a.resizer&&a.resizer.el!==a.el?a.resizerComponent=new Ext.Component({el:a.resizer.el,rendered:true,container:a.container}):a,c=Ext.applyIf({el:b.getDragEl(),constrainTo:a.constrain?a.constrainTo||(a.floatParent?a.floatParent.getTargetEl():a.el.getScopeParent()):undefined},a.draggable);if(a.constrain||a.constrainDelegate){c.constrain=a.constrain;c.constrainDelegate=a.constrainDelegate}a.dd=new Ext.util.ComponentDragger(b,c)},scrollBy:function(a,b,c){var d;if((d=this.getTargetEl())&&d.dom){d.scrollBy.apply(d,arguments)}},setLoading:function(a,b){var c=this,d;if(c.rendered){Ext.destroy(c.loadMask);c.loadMask=null;if(a!==false&&!c.collapsed){if(Ext.isObject(a)){d=Ext.apply({},a)}else if(Ext.isString(a)){d={msg:a}}else{d={}}if(b){Ext.applyIf(d,{useTargetEl:true})}c.loadMask=new Ext.LoadMask(c,d);c.loadMask.show()}}return c.loadMask},beforeSetPosition:function(){var a=this,b=a.callParent(arguments),c;if(b){c=a.adjustPosition(b.x,b.y);b.x=c.x;b.y=c.y}return b||null},afterSetPosition:function(a,b){this.onPosition(a,b);this.fireEvent("move",this,a,b)},showAt:function(a,b,c){var d=this;if(!d.rendered&&(d.autoRender||d.floating)){d.doAutoRender();d.hidden=true}if(d.floating){d.setPosition(a,b,c)}else{d.setPagePosition(a,b,c)}d.show()},setPagePosition:function(a,b,c){var d=this,e,f;if(Ext.isArray(a)){b=a[1];a=a[0]}d.pageX=a;d.pageY=b;if(d.floating){if(d.isContainedFloater()){f=d.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(a)&&Ext.isNumber(f.left)){a-=f.left}if(Ext.isNumber(b)&&Ext.isNumber(f.top)){b-=f.top}}else{e=d.el.translatePoints(a,b);a=e.left;b=e.top}d.setPosition(a,b,c)}else{e=d.el.translatePoints(a,b);d.setPosition(e.left,e.top,c)}return d},isContainedFloater:function(){return this.floating&&this.floatParent},getBox:function(a){var b=a?this.getPosition(a):this.el.getXY(),c=this.getSize();c.x=b[0];c.y=b[1];return c},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},getOuterSize:function(){var a=this.el;return{width:a.getWidth()+a.getMargin("lr"),height:a.getHeight()+a.getMargin("tb")}},adjustPosition:function(a,b){var c=this,d;if(c.isContainedFloater()){d=c.floatParent.getTargetEl().getViewRegion();a+=d.left;b+=d.top}return{x:a,y:b}},getPosition:function(a){var b=this,c=b.el,d,e=b.isContainedFloater(),f;if(a===true&&!e){return[c.getLocalX(),c.getLocalY()]}d=b.el.getXY();if(a===true&&e){f=b.floatParent.getTargetEl().getViewRegion();d[0]-=f.left;d[1]-=f.top}return d},getId:function(){var a=this,b;if(!a.id){b=a.getXType();if(b){b=b.replace(Ext.Component.INVALID_ID_CHARS_Re,"-")}else{b=Ext.name.toLowerCase()+"-comp"}a.id=b+"-"+a.getAutoId()}return a.id},show:function(a,b,c){var d=this,e=d.rendered;if(e&&d.isVisible()){if(d.toFrontOnShow&&d.floating){d.toFront()}}else{if(d.fireEvent("beforeshow",d)!==false){d.hidden=false;if(!e&&(d.autoRender||d.floating)){d.doAutoRender();e=d.rendered}if(e){d.beforeShow();d.onShow.apply(d,arguments);d.afterShow.apply(d,arguments)}}else{d.onShowVeto()}}return d},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){var a=this;a.el.show();a.callParent(arguments);if(a.floating){if(a.maximized){a.fitContainer()}else if(a.constrain){a.doConstrain()}}},afterShow:function(a,b,c){var d=this,e,f,g;a=a||d.animateTarget;if(!d.ghost){a=null}if(a){a=a.el?a.el:Ext.get(a);f=d.el.getBox();e=a.getBox();d.el.addCls(Ext.baseCSSPrefix+"hide-offsets");g=d.ghost();g.el.stopAnimation();g.el.setX(-1e4);g.el.animate({from:e,to:f,listeners:{afteranimate:function(){delete g.componentLayout.lastComponentSize;d.unghost();d.el.removeCls(Ext.baseCSSPrefix+"hide-offsets");d.onShowComplete(b,c)}}})}else{d.onShowComplete(b,c)}},onShowComplete:function(a,b){var c=this;if(c.floating){c.toFront();c.onFloatShow()}Ext.callback(a,b||c);c.fireEvent("show",c);delete c.hiddenByLayout},hide:function(){var a=this;a.showOnParentShow=false;if(!(a.rendered&&!a.isVisible())&&a.fireEvent("beforehide",a)!==false){a.hidden=true;if(a.rendered){a.onHide.apply(a,arguments)}}return a},onHide:function(a,b,c){var d=this,e,f;a=a||d.animateTarget;if(!d.ghost){a=null}if(a){a=a.el?a.el:Ext.get(a);e=d.ghost();e.el.stopAnimation();f=a.getBox();f.width+="px";f.height+="px";e.el.animate({to:f,listeners:{afteranimate:function(){delete e.componentLayout.lastComponentSize;e.el.hide();d.afterHide(b,c)}}})}d.el.hide();if(!a){d.afterHide(b,c)}},afterHide:function(a,b){var c=this;delete c.hiddenByLayout;Ext.AbstractComponent.prototype.onHide.call(this);Ext.callback(a,b||c);c.fireEvent("hide",c)},onDestroy:function(){var a=this;if(a.rendered){Ext.destroy(a.proxy,a.proxyWrap,a.resizer,a.resizerComponent)}delete a.focusTask;a.callParent()},deleteMembers:function(){var a=arguments,b=a.length,c=0;for(;c<b;++c){delete this[a[c]]}},focus:function(a,b){var c=this,d,e,f;if(b){if(!c.focusTask){c.focusTask=new Ext.util.DelayedTask(c.focus)}c.focusTask.delay(Ext.isNumber(b)?b:10,null,c,[a,false]);return c}if(c.rendered&&!c.isDestroyed&&c.isVisible(true)&&(d=c.getFocusEl())){if(d.isComponent){return d.focus(a,b)}if(e=d.dom){if(d.needsTabIndex()){e.tabIndex=-1}if(c.floating){f=c.container.dom.scrollTop}d.focus();if(a===true){e.select()}}if(c.floating){c.toFront(true);if(f!==undefined){c.container.dom.scrollTop=f}}}return c},cancelFocus:function(){var a=this.focusTask;if(a){a.cancel()}},blur:function(){var a;if(this.rendered&&(a=this.getFocusEl())){a.blur()}return this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},onResize:Ext.emptyFn,getBubbleTarget:function(){return this.ownerCt||this.floatParent},getContentTarget:function(){return this.el},cloneConfig:function(a){a=a||{};var b=a.id||Ext.id(),c=Ext.applyIf(a,this.initialConfig),d;c.id=b;d=Ext.getClass(this);return new d(c)},getXType:function(){return this.self.xtype},findParentBy:function(a){var b;for(b=this.getBubbleTarget();b&&!a(b,this);b=b.getBubbleTarget()){}return b||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):this.up(a)},bubble:function(a,b,c){var d=this;while(d){if(a.apply(b||d,c||[d])===false){break}d=d.getBubbleTarget()}return this},getProxy:function(){var a=this,b;if(!a.proxy){b=Ext.getBody();if(Ext.scopeResetCSS){a.proxyWrap=b=Ext.getBody().createChild({cls:Ext.resetCls})}a.proxy=a.el.createProxy(Ext.baseCSSPrefix+"proxy-el",b,true)}return a.proxy}});Ext.define("Ext.ProgressBar",{extend:"Ext.Component",alias:"widget.progressbar",requires:["Ext.Template","Ext.CompositeElement","Ext.TaskManager","Ext.layout.component.ProgressBar"],uses:["Ext.fx.Anim"],baseCls:Ext.baseCSSPrefix+"progress",animate:false,text:"",waitTimer:null,childEls:["bar"],renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" class="{baseCls}-bar" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",initComponent:function(){this.callParent();this.addEvents("update")},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{internalText:!a.hasOwnProperty("textEl"),text:a.text||"&#160;",percentage:a.value?a.value*100:0})},onRender:function(){var a=this;a.callParent(arguments);if(a.textEl){a.textEl=Ext.get(a.textEl);a.updateText(a.text)}else{a.textEl=a.el.select("."+a.baseCls+"-text")}},updateProgress:function(a,b,c){var d=this,e=d.value;d.value=a||0;if(b){d.updateText(b)}if(d.rendered&&!d.isDestroyed){if(c===true||c!==false&&d.animate){d.bar.stopAnimation();d.bar.animate(Ext.apply({from:{width:e*100+"%"},to:{width:d.value*100+"%"}},d.animate))}else{d.bar.setStyle("width",d.value*100+"%")}}d.fireEvent("update",d,d.value,b);return d},updateText:function(a){var b=this;b.text=a;if(b.rendered){b.textEl.update(b.text)}return b},applyText:function(a){this.updateText(a)},getText:function(){return this.text},wait:function(a){var b=this,c;if(!b.waitTimer){c=b;a=a||{};b.updateText(a.text);b.waitTimer=Ext.TaskManager.start({run:function(c){var d=a.increment||10;c-=1;b.updateProgress(((c+d)%d+1)*(100/d)*.01,null,a.animate)},interval:a.interval||1e3,duration:a.duration,onStop:function(){if(a.fn){a.fn.apply(a.scope||b)}b.reset()},scope:c})}return b},isWaiting:function(){return this.waitTimer!==null},reset:function(a){var b=this;b.updateProgress(0);b.clearTimer();if(a===true){b.hide()}return b},clearTimer:function(){var a=this;if(a.waitTimer){a.waitTimer.onStop=null;Ext.TaskManager.stop(a.waitTimer);a.waitTimer=null}},onDestroy:function(){var a=this;a.clearTimer();if(a.rendered){if(a.textEl.isComposite){a.textEl.clear()}Ext.destroyMembers(a,"textEl","progressBar")}a.callParent()}});Ext.define("Ext.button.Button",{alias:"widget.button",extend:"Ext.Component",requires:["Ext.menu.Manager","Ext.util.ClickRepeater","Ext.layout.component.Button","Ext.util.TextMetrics","Ext.util.KeyMap"],alternateClassName:"Ext.Button",isButton:true,componentLayout:"button",hidden:false,disabled:false,pressed:false,enableToggle:false,menuAlign:"tl-bl?",textAlign:"center",type:"button",clickEvent:"click",preventDefault:true,handleMouseEvents:true,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",border:true,childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:['<em id="{id}-btnWrap"<tpl if="splitCls"> class="{splitCls}"</tpl>>','<tpl if="href">','<a id="{id}-btnEl" href="{href}" class="{btnCls}" target="{hrefTarget}"','<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>',' role="link">','<span id="{id}-btnInnerEl" class="{baseCls}-inner">',"{text}","</span>",'<span id="{id}-btnIconEl" class="{baseCls}-icon {iconCls}"<tpl if="iconUrl"> style="background-image:url({iconUrl})"</tpl>></span>',"</a>","<tpl else>",'<button id="{id}-btnEl" type="{type}" class="{btnCls}" hidefocus="true"','<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>',' role="button" autocomplete="off">','<span id="{id}-btnInnerEl" class="{baseCls}-inner" style="{innerSpanStyle}">',"{text}","</span>",'<span id="{id}-btnIconEl" class="{baseCls}-icon {iconCls}"<tpl if="iconUrl"> style="background-image:url({iconUrl})"</tpl>></span>',"</button>","</tpl>","</em>",'<tpl if="closable">','<a id="{id}-closeEl" href="#" class="{baseCls}-close-btn" title="{closeText}"></a>',"</tpl>"],scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:false,persistentPadding:undefined,shrinkWrap:3,frame:true,initComponent:function(){var a=this;a.callParent(arguments);a.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(a.menu){a.split=true;a.menu=Ext.menu.Manager.get(a.menu);a.menu.ownerButton=a}if(a.url){a.href=a.url}if(a.href&&!a.hasOwnProperty("preventDefault")){a.preventDefault=false}if(Ext.isString(a.toggleGroup)&&a.toggleGroup!==""){a.enableToggle=true}if(a.html&&!a.text){a.text=a.html;delete a.html}},getActionEl:function(){return this.btnEl},getFocusEl:function(){return this.useElForFocus?this.el:this.btnEl},onFocus:function(a){var b=this;b.useElForFocus=true;b.callParent(arguments);b.useElForFocus=false},onBlur:function(a){this.useElForFocus=true;this.callParent(arguments);this.useElForFocus=false},onDisable:function(){this.useElForFocus=true;this.callParent(arguments);this.useElForFocus=false},setComponentCls:function(){var a=this,b=a.getComponentCls();if(!Ext.isEmpty(a.oldCls)){a.removeClsWithUI(a.oldCls);a.removeClsWithUI(a.pressedCls)}a.oldCls=b;a.addClsWithUI(b)},getComponentCls:function(){var a=this,b=[];if(a.iconCls||a.icon){if(a.text){b.push("icon-text-"+a.iconAlign)}else{b.push("icon")}}else if(a.text){b.push("noicon")}if(a.pressed){b.push(a.pressedCls)}return b},beforeRender:function(){var a=this;a.callParent();a.oldCls=a.getComponentCls();a.addClsWithUI(a.oldCls);Ext.applyIf(a.renderData,a.getTemplateArgs());if(a.scale){a.setScale(a.scale)}},onRender:function(){var a=this,b,c,d;a.doc=Ext.getDoc();a.callParent(arguments);if(a.split&&a.arrowTooltip){a.arrowEl.dom.setAttribute(a.getTipAttr(),a.arrowTooltip)}c=a.el;if(a.tooltip){a.setTooltip(a.tooltip,true)}if(a.handleMouseEvents){d={scope:a,mouseover:a.onMouseOver,mouseout:a.onMouseOut,mousedown:a.onMouseDown};if(a.split){d.mousemove=a.onMouseMove}}else{d={scope:a}}if(a.menu){a.mon(a.menu,{scope:a,show:a.onMenuShow,hide:a.onMenuHide});a.keyMap=new Ext.util.KeyMap({target:a.el,key:Ext.EventObject.DOWN,handler:a.onDownKey,scope:a})}if(a.repeat){a.mon(new Ext.util.ClickRepeater(c,Ext.isObject(a.repeat)?a.repeat:{}),"click",a.onRepeatClick,a)}else{if(d[a.clickEvent]){b=true}else{d[a.clickEvent]=a.onClick}}a.mon(c,d);if(b){a.mon(c,a.clickEvent,a.onClick,a)}Ext.ButtonToggleManager.register(a)},getTemplateArgs:function(){var a=this,b=a.getPersistentPadding(),c="";if(Math.max.apply(Math,b)>0){c="margin:"+Ext.Array.map(b,function(a){return-a+"px"}).join(" ")}return{href:a.getHref(),disabled:a.disabled,hrefTarget:a.hrefTarget,type:a.type,btnCls:a.getBtnCls(),splitCls:a.getSplitCls(),iconUrl:a.icon,iconCls:a.iconCls,text:a.text||"&#160;",tabIndex:a.tabIndex,innerSpanStyle:c}},getHref:function(){var a=this,b=Ext.apply({},a.baseParams);b=Ext.apply(b,a.params);return a.href?Ext.urlAppend(a.href,Ext.Object.toQueryString(b)):false},setParams:function(a){this.params=a;this.btnEl.dom.href=this.getHref()},getSplitCls:function(){var a=this;return a.split?a.baseCls+"-"+a.arrowCls+" "+(a.baseCls+"-"+a.arrowCls+"-"+a.arrowAlign):""},getBtnCls:function(){return this.textAlign?this.baseCls+"-"+this.textAlign:""},setIconCls:function(a){var b=this,c=b.btnIconEl,d=b.iconCls;b.iconCls=a;if(c){c.removeCls(d);c.addCls(a||"");b.setComponentCls();if(b.didIconStateChange(d,a)){b.updateLayout()}}return b},setTooltip:function(a,b){var c=this;if(c.rendered){if(!b){c.clearTip()}if(Ext.isObject(a)){Ext.tip.QuickTipManager.register(Ext.apply({target:c.btnEl.id},a));c.tooltip=a}else{c.btnEl.dom.setAttribute(c.getTipAttr(),a)}}else{c.tooltip=a}return c},setTextAlign:function(a){var b=this,c=b.btnEl;if(c){c.removeCls(b.baseCls+"-"+b.textAlign);c.addCls(b.baseCls+"-"+a)}b.textAlign=a;return b},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},getRefItems:function(a){var b=this.menu,c;if(b){c=b.getRefItems(a);c.unshift(b)}return c||[]},clearTip:function(){if(Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.btnEl)}},beforeDestroy:function(){var a=this;if(a.rendered){a.clearTip()}if(a.menu&&a.destroyMenu!==false){Ext.destroy(a.menu)}Ext.destroy(a.btnInnerEl,a.repeater);a.callParent()},onDestroy:function(){var a=this;if(a.rendered){a.doc.un("mouseover",a.monitorMouseOver,a);a.doc.un("mouseup",a.onMouseUp,a);delete a.doc;Ext.ButtonToggleManager.unregister(a);Ext.destroy(a.keyMap);delete a.keyMap}a.callParent()},setHandler:function(a,b){this.handler=a;this.scope=b;return this},setText:function(a){var b=this;b.text=a;if(b.rendered){b.btnInnerEl.update(a||"&#160;");b.setComponentCls();if(Ext.isStrict&&Ext.isIE8){b.el.repaint()}b.updateLayout()}return b},setIcon:function(a){var b=this,c=b.btnIconEl,d=b.icon;b.icon=a;if(c){c.setStyle("background-image",a?"url("+a+")":"");b.setComponentCls();if(b.didIconStateChange(d,a)){b.updateLayout()}}return b},didIconStateChange:function(a,b){var c=Ext.isEmpty(b);return Ext.isEmpty(a)?!c:c},getText:function(){return this.text},toggle:function(a,b){var c=this;a=a===undefined?!c.pressed:!!a;if(a!==c.pressed){if(c.rendered){c[a?"addClsWithUI":"removeClsWithUI"](c.pressedCls)}c.pressed=a;if(!b){c.fireEvent("toggle",c,a);Ext.callback(c.toggleHandler,c.scope||c,[c,a])}}return c},maybeShowMenu:function(){var a=this;if(a.menu&&!a.hasVisibleMenu()&&!a.ignoreNextClick){a.showMenu()}},showMenu:function(){var a=this;if(a.rendered&&a.menu){if(a.tooltip&&a.getTipAttr()!="title"){Ext.tip.QuickTipManager.getQuickTip().cancelShow(a.btnEl)}if(a.menu.isVisible()){a.menu.hide()}a.menu.showBy(a.el,a.menuAlign,!Ext.isStrict&&Ext.isIE||Ext.isIE6?[-2,-2]:undefined)}return a},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(a,b){this.onClick(b)},onClick:function(a){var b=this;if(b.preventDefault||b.disabled&&b.getHref()&&a){a.preventDefault()}if(a.button!==0){return}if(!b.disabled){b.doToggle();b.maybeShowMenu();b.fireHandler(a)}},fireHandler:function(a){var b=this,c=b.handler;if(b.fireEvent("click",b,a)!==false){if(c){c.call(b.scope||b,b,a)}b.blur()}},doToggle:function(){var a=this;if(a.enableToggle&&(a.allowDepress!==false||!a.pressed)){a.toggle()}},onMouseOver:function(a){var b=this;if(!b.disabled&&!a.within(b.el,true,true)){b.onMouseEnter(a)}},onMouseOut:function(a){var b=this;if(!a.within(b.el,true,true)){if(b.overMenuTrigger){b.onMenuTriggerOut(a)}b.onMouseLeave(a)}},onMouseMove:function(a){var b=this,c=b.el,d=b.overMenuTrigger,e,f;if(b.split){if(b.arrowAlign==="right"){e=a.getX()-c.getX();f=c.getWidth()}else{e=a.getY()-c.getY();f=c.getHeight()}if(e>f-b.getTriggerSize()){if(!d){b.onMenuTriggerOver(a)}}else{if(d){b.onMenuTriggerOut(a)}}}},getTriggerSize:function(){var a=this,b=a.triggerSize,c,d,e;if(b===e){c=a.arrowAlign;d=c.charAt(0);b=a.triggerSize=a.el.getFrameWidth(d)+a.btnWrap.getFrameWidth(d)+a.frameSize[c]}return b},onMouseEnter:function(a){var b=this;b.addClsWithUI(b.overCls);b.fireEvent("mouseover",b,a)},onMouseLeave:function(a){var b=this;b.removeClsWithUI(b.overCls);b.fireEvent("mouseout",b,a)},onMenuTriggerOver:function(a){var b=this;b.overMenuTrigger=true;b.fireEvent("menutriggerover",b,b.menu,a)},onMenuTriggerOut:function(a){var b=this;delete b.overMenuTrigger;b.fireEvent("menutriggerout",b,b.menu,a)},enable:function(a){var b=this;b.callParent(arguments);if(b.btnEl){b.btnEl.dom.disabled=false}b.removeClsWithUI("disabled");return b},disable:function(a){var b=this;b.callParent(arguments);if(b.btnEl){b.btnEl.dom.disabled=true}b.addClsWithUI("disabled");b.removeClsWithUI(b.overCls);if(b.btnInnerEl&&(Ext.isIE6||Ext.isIE7)){b.btnInnerEl.repaint()}return b},setScale:function(a){var b=this,c=b.ui.replace("-"+b.scale,"");if(!Ext.Array.contains(b.allowedScales,a)){throw"#setScale: scale must be an allowed scale ("+b.allowedScales.join(", ")+")"}b.scale=a;b.setUI(c)},setUI:function(a){var b=this;if(b.scale&&!a.match(b.scale)){a=a+"-"+b.scale}b.callParent([a])},onMouseDown:function(a){var b=this;if(!b.disabled&&a.button===0){b.addClsWithUI(b.pressedCls);b.doc.on("mouseup",b.onMouseUp,b)}},onMouseUp:function(a){var b=this;if(a.button===0){if(!b.pressed){b.removeClsWithUI(b.pressedCls)}b.doc.un("mouseup",b.onMouseUp,b)}},onMenuShow:function(a){var b=this;b.ignoreNextClick=0;b.addClsWithUI(b.menuActiveCls);b.fireEvent("menushow",b,b.menu)},onMenuHide:function(a){var b=this;b.removeClsWithUI(b.menuActiveCls);b.ignoreNextClick=Ext.defer(b.restoreClick,250,b);b.fireEvent("menuhide",b,b.menu)},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(){var a=this;if(!a.disabled){if(a.menu){a.showMenu()}}},getPersistentPadding:function(){var a=this,b=Ext.scopeResetCSS,c=a.persistentPadding,d,e,f,g,h;if(!c){c=a.self.prototype.persistentPadding=[0,0,0,0];if(!Ext.isIE){d=new Ext.button.Button({text:"test",style:"position:absolute;top:-999px;"});d.el=Ext.DomHelper.append(Ext.resetElement,d.getRenderTree(),true);d.applyChildEls(d.el);f=d.btnEl;g=d.btnInnerEl;f.setSize(null,null);e=g.getOffsetsTo(f);c[0]=e[1];c[1]=f.getWidth()-g.getWidth()-e[0];c[2]=f.getHeight()-g.getHeight()-e[1];c[3]=e[0];d.destroy();d.el.remove()}}return c}},function(){var a={},b=function(b,c){if(c){var d=a[b.toggleGroup],e=d.length,f;for(f=0;f<e;f++){if(d[f]!==b){d[f].toggle(false)}}}};Ext.ButtonToggleManager={register:function(c){if(!c.toggleGroup){return}var d=a[c.toggleGroup];if(!d){d=a[c.toggleGroup]=[]}d.push(c);c.on("toggle",b)},unregister:function(c){if(!c.toggleGroup){return}var d=a[c.toggleGroup];if(d){Ext.Array.remove(d,c);c.un("toggle",b)}},getPressed:function(b){var c=a[b],d=0,e;if(c){for(e=c.length;d<e;d++){if(c[d].pressed===true){return c[d]}}}return null}}});Ext.define("Ext.chart.MaskLayer",{extend:"Ext.Component",constructor:function(a){a=Ext.apply(a||{},{style:"position:absolute;background-color:#888;cursor:move;opacity:0.6;border:1px solid #222;"});this.callParent([a])},initComponent:function(){var a=this;a.callParent(arguments);a.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave")},initDraggable:function(){this.callParent(arguments);this.dd.onStart=function(a){var b=this,c=b.comp;this.startPosition=c.getPosition(true);if(c.ghost&&!c.liveDrag){b.proxy=c.ghost();b.dragTarget=b.proxy.header.el}if(b.constrain||b.constrainDelegate){b.constrainTo=b.calculateConstrainRegion()}}}});Ext.define("Ext.chart.Mask",{requires:["Ext.chart.MaskLayer"],constructor:function(a){var b=this,c;b.addEvents("select");if(a){Ext.apply(b,a)}if(b.enableMask){b.on("afterrender",function(){var a=new Ext.chart.MaskLayer({renderTo:b.el,hidden:true});a.el.on({mousemove:function(a){b.onMouseMove(a)},mouseup:function(a){b.resized(a)}});c=new Ext.resizer.Resizer({el:a.el,handles:"all",pinned:true});c.on({resize:function(a){b.resized(a)}});a.initDraggable();b.maskType=b.mask;b.mask=a;b.maskSprite=b.surface.add({type:"path",path:["M",0,0],zIndex:1001,opacity:.7,hidden:true,stroke:"#444"})},b,{single:true})}},resized:function(a){var b=this,c=b.bbox||b.chartBBox,d=c.x,e=c.y,f=c.width,g=c.height,h=b.mask.getBox(true),i=Math.max,j=Math.min,k=h.x-d,l=h.y-e;k=i(k,d);l=i(l,e);k=j(k,f);l=j(l,g);h.x=k;h.y=l;b.fireEvent("select",b,h)},onMouseUp:function(a){var b=this,c=b.bbox||b.chartBBox,d=b.maskSelection;b.maskMouseDown=false;b.mouseDown=false;if(b.mouseMoved){b.onMouseMove(a);b.mouseMoved=false;b.fireEvent("select",b,{x:d.x-c.x,y:d.y-c.y,width:d.width,height:d.height})}},onMouseDown:function(a){var b=this;b.mouseDown=true;b.mouseMoved=false;b.maskMouseDown={x:a.getPageX()-b.el.getX(),y:a.getPageY()-b.el.getY()}},onMouseMove:function(a){var b=this,c=b.maskType,d=b.bbox||b.chartBBox,e=d.x,f=d.y,g=Math,h=g.floor,i=g.abs,j=g.min,k=g.max,l=h(f+d.height),m=h(e+d.width),n=a.getPageX(),o=a.getPageY(),p=n-b.el.getX(),q=o-b.el.getY(),r=b.maskMouseDown,s;b.mouseMoved=b.mouseDown;p=k(p,e);q=k(q,f);p=j(p,m);q=j(q,l);if(r&&b.mouseDown){if(c=="horizontal"){q=f;r.y=l;o=b.el.getY()+d.height+b.insetPadding}else if(c=="vertical"){p=e;r.x=m}m=r.x-p;l=r.y-q;s=["M",p,q,"l",m,0,0,l,-m,0,"z"];b.maskSelection={x:m>0?p:p+m,y:l>0?q:q+l,width:i(m),height:i(l)};b.mask.updateBox(b.maskSelection);b.mask.show();b.maskSprite.setAttributes({hidden:true},true)}else{if(c=="horizontal"){s=["M",p,f,"L",p,l]}else if(c=="vertical"){s=["M",e,q,"L",m,q]}else{s=["M",p,f,"L",p,l,"M",e,q,"L",m,q]}b.maskSprite.setAttributes({path:s,fill:b.maskMouseDown?b.maskSprite.stroke:false,"stroke-width":c===true?1:3,hidden:false},true)}},onMouseLeave:function(a){var b=this;b.mouseMoved=false;b.mouseDown=false;b.maskMouseDown=false;b.mask.hide();b.maskSprite.hide(true)}});Ext.define("Ext.toolbar.Fill",{extend:"Ext.Component",alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",isFill:true,flex:1});Ext.define("Ext.form.Label",{extend:"Ext.Component",alias:"widget.label",requires:["Ext.util.Format"],autoEl:"label",maskOnDisable:false,getElConfig:function(){var a=this;a.html=a.text?Ext.util.Format.htmlEncode(a.text):a.html||"";return Ext.apply(a.callParent(),{htmlFor:a.forId||""})},setText:function(a,b){var c=this;b=b!==false;if(b){c.text=a;delete c.html}else{c.html=a;delete c.text}if(c.rendered){c.el.dom.innerHTML=b!==false?Ext.util.Format.htmlEncode(a):a;c.updateLayout()}return c}});Ext.define("Ext.container.AbstractContainer",{extend:"Ext.Component",requires:["Ext.util.MixedCollection","Ext.layout.container.Auto","Ext.ZIndexManager"],renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:false,autoDestroy:true,defaultType:"panel",detachOnRemove:true,isContainer:true,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",bubbleEvents:["add","remove"],initComponent:function(){var a=this;a.addEvents("afterlayout","beforeadd","beforeremove","add","remove");a.callParent();a.getLayout();a.initItems()},initItems:function(){var a=this,b=a.items;a.items=new Ext.util.AbstractMixedCollection(false,a.getComponentId);if(b){if(!Ext.isArray(b)){b=[b]}a.add(b)}},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var a=this.getLayout();if(a){a.finishRender()}},beforeRender:function(){var a=this,b=a.getLayout();a.callParent();if(!b.initialized){b.initLayout()}},setupRenderTpl:function(a){var b=this.getLayout();this.callParent(arguments);b.setupRenderTpl(a)},setLayout:function(a){var b=this.layout;if(b&&b.isLayout&&b!=a){b.setOwner(null)}this.layout=a;a.setOwner(this)},getLayout:function(){var a=this;if(!a.layout||!a.layout.isLayout){a.setLayout(Ext.layout.Layout.create(a.layout,a.self.prototype.layout||"autocontainer"))}return a.layout},doLayout:function(){this.updateLayout();return this},afterLayout:function(a){var b=this;++b.layoutCounter;if(b.hasListeners.afterlayout){b.fireEvent("afterlayout",b,a)}},prepareItems:function(a,b){if(Ext.isArray(a)){a=a.slice()}else{a=[a]}var c=this,d=0,e=a.length,f;for(;d<e;d++){f=a[d];if(f==null){Ext.Array.erase(a,d,1);--d;--e}else{if(b){f=this.applyDefaults(f)}f.isContained=c;a[d]=c.lookupComponent(f);delete f.isContained}}return a},applyDefaults:function(a){var b=this.defaults;if(b){if(Ext.isFunction(b)){b=b.call(this,a)}if(Ext.isString(a)){a=Ext.ComponentManager.get(a)}Ext.applyIf(a,b)}return a},lookupComponent:function(a){return typeof a=="string"?Ext.ComponentManager.get(a):Ext.ComponentManager.create(a,this.defaultType)},getComponentId:function(a){return a.getItemId()},add:function(){var a=this,b=Ext.Array.slice(arguments),c=typeof b[0]=="number"?b.shift():-1,d=a.getLayout(),e,f,g,h,i,j,k;if(b.length==1&&Ext.isArray(b[0])){f=b[0];e=true}else{f=b}k=f=a.prepareItems(f,true);h=f.length;if(a.rendered){Ext.suspendLayouts()}if(!e&&h==1){k=f[0]}for(g=0;g<h;g++){i=f[g];if(!i){Ext.Error.raise("Cannot add null item to Container with itemId/id: "+a.getItemId())}j=c<0?a.items.length:c+g;if(i.floating){a.floatingItems=a.floatingItems||new Ext.util.MixedCollection;a.floatingItems.add(i);i.onAdded(a,j)}else if((!a.hasListeners.beforeadd||a.fireEvent("beforeadd",a,i,j)!==false)&&a.onBeforeAdd(i)!==false){a.items.insert(j,i);i.onAdded(a,j);a.onAdd(i,j);d.onAdd(i,j);if(a.hasListeners.add){a.fireEvent("add",a,i,j)}}}a.updateLayout();if(a.rendered){Ext.resumeLayouts(true)}return k},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(a,b){return this.add(a,b)},move:function(a,b){var c=this.items,d;d=c.removeAt(a);if(d===false){return false}c.insert(b,d);this.doLayout();return d},onBeforeAdd:function(a){var b=this,c=a.border;if(a.ownerCt&&a.ownerCt!==b){a.ownerCt.remove(a,false)}if(b.border===false||b.border===0){a.border=Ext.isDefined(c)&&c!==false&&c!==0}},remove:function(a,b){var c=this,d=c.getComponent(a);if(Ext.isDefined(Ext.global.console)&&!d){Ext.global.console.warn("Attempted to remove a component that does not exist. Ext.container.Container: remove takes an argument of the component to remove. cmp.remove() is incorrect usage.")}if(d&&(!c.hasListeners.beforeremove||c.fireEvent("beforeremove",c,d)!==false)){c.doRemove(d,b);if(c.hasListeners.remove){c.fireEvent("remove",c,d)}if(!c.destroying){c.doLayout()}}return d},doRemove:function(a,b){var c=this,d=c.layout,e=d&&c.rendered,f=b===true||b!==false&&c.autoDestroy;b=b===true||b!==false&&c.autoDestroy;c.items.remove(a);if(e){if(d.running){Ext.AbstractComponent.cancelLayout(a,f)}d.onRemove(a,f)}a.onRemoved(f);c.onRemove(a,f);if(f){a.destroy()}else{if(e){d.afterRemove(a)}if(c.detachOnRemove&&a.rendered){Ext.getDetachedBody().appendChild(a.getEl())}}},removeAll:function(a){var b=this,c=b.items.items.slice(),d=[],e=0,f=c.length,g;b.suspendLayouts();for(;e<f;e++){g=c[e];b.remove(g,a);if(g.ownerCt!==b){d.push(g)}}b.resumeLayouts(!!f);return d},getRefItems:function(a){var b=this,c=b.items.items,d=c.length,e=0,f,g=[];for(;e<d;e++){f=c[e];g.push(f);if(a&&f.getRefItems){g.push.apply(g,f.getRefItems(true))}}if(b.floatingItems){g.push.apply(g,b.floatingItems.items)}return g},cascade:function(a,b,c){var d=this,e=d.items?d.items.items:[],f=e.length,g=0,h,i=c?c.concat(d):[d],j=i.length-1;if(a.apply(b||d,i)!==false){for(;g<f;g++){h=e[g];if(h.cascade){h.cascade(a,b,c)}else{i[j]=h;a.apply(b||e,i)}}}return this},isAncestor:function(a){while(a){if(a.ownerCt===this){return true}a=a.ownerCt}},getComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.items.get(a)},query:function(a){a=a||"*";return Ext.ComponentQuery.query(a,this)},queryBy:function(a,b){var c=[],d=this.getRefItems(true),e=0,f=d.length,g;for(;e<f;++e){g=d[e];if(a.call(b||g,g)!==false){c.push(g)}}return c},queryById:function(a){return this.down("#"+a)},child:function(a){a=a||"";return this.query("> "+a)[0]||null},nextChild:function(a,b){var c=this,d,e=c.items.indexOf(a);if(e!==-1){d=b?Ext.ComponentQuery(b,c.items.items.slice(e+1)):c.items.getAt(e+1);if(!d&&c.ownerCt){d=c.ownerCt.nextChild(c,b)}}return d},prevChild:function(a,b){var c=this,d,e=c.items.indexOf(a);if(e!==-1){d=b?Ext.ComponentQuery(b,c.items.items.slice(e+1)):c.items.getAt(e+1);if(!d&&c.ownerCt){d=c.ownerCt.nextChild(c,b)}}return d},down:function(a){return this.query(a)[0]||null},enable:function(){this.callParent(arguments);var a=this.getChildItemsToDisable(),b=a.length,c,d;for(d=0;d<b;d++){c=a[d];if(c.resetDisable){c.enable()}}return this},disable:function(){this.callParent(arguments);var a=this.getChildItemsToDisable(),b=a.length,c,d;for(d=0;d<b;d++){c=a[d];if(c.resetDisable!==false&&!c.disabled){c.disable();c.resetDisable=true}}return this},getChildItemsToDisable:function(){return this.query("[isFormField],button")},beforeLayout:function(){return true},beforeDestroy:function(){var a=this,b=a.items,c;if(b){while(c=b.first()){a.doRemove(c,true)}}Ext.destroy(a.layout);a.callParent()}});Ext.define("Ext.container.Container",{extend:"Ext.container.AbstractContainer",alias:"widget.container",alternateClassName:"Ext.Container",fireHierarchyEvent:function(a){this.hierarchyEventSource.fireEvent(a,this)},afterHide:function(){this.callParent(arguments);this.fireHierarchyEvent("hide")},afterShow:function(){this.callParent(arguments);this.fireHierarchyEvent("show")},onAdded:function(){this.callParent(arguments);if(this.hierarchyEventSource.hasListeners.added){this.fireHierarchyEvent("added")}},getChildByElement:function(a,b){var c,d,e=0,f=this.getRefItems(),g=f.length;a=Ext.getDom(a);for(;e<g;e++){c=f[e];d=c.getEl();if(d&&(d.dom===a||d.contains(a))){return b&&c.getChildByElement?c.getChildByElement(a,b):c}}return null}},function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:true,show:true,collapse:true,expand:true,added:true}})});Ext.define("Ext.container.Viewport",{extend:"Ext.container.Container",alias:"widget.viewport",requires:["Ext.EventManager"],alternateClassName:"Ext.Viewport",isViewport:true,ariaRole:"application",preserveElOnDestroy:true,initComponent:function(){var a=this,b=document.body.parentNode,c;Ext.getScrollbarSize();a.width=a.height=undefined;a.callParent(arguments);Ext.fly(b).addCls(Ext.baseCSSPrefix+"viewport");if(a.autoScroll){delete a.autoScroll;Ext.fly(b).setStyle("overflow","auto")}a.el=c=Ext.getBody();c.setHeight=Ext.emptyFn;c.setWidth=Ext.emptyFn;c.setSize=Ext.emptyFn;c.dom.scroll="no";a.allowDomMove=false;a.renderTo=a.el},onRender:function(){var a=this;a.callParent(arguments);a.width=Ext.Element.getViewportWidth();a.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var a=this;a.callParent(arguments);setTimeout(function(){Ext.EventManager.onWindowResize(a.fireResize,a)},1)},fireResize:function(a,b){if(a!=this.width||b!=this.height){this.setSize(a,b)}}});Ext.define("Ext.panel.Header",{extend:"Ext.container.Container",uses:["Ext.panel.Tool","Ext.draw.Component","Ext.util.CSS","Ext.layout.component.Body","Ext.Img"],alias:"widget.header",isHeader:true,defaultType:"tool",indicateDrag:false,weight:-1,componentLayout:"body",titleAlign:"left",childEls:["body"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>"],headingTpl:'<span id="{id}-textEl" class="{cls}-text {cls}-text-{ui}">{title}</span>',shrinkWrap:3,initComponent:function(){var a=this,b,c,d,e,f;a.addEvents("click","dblclick");a.indicateDragCls=a.baseCls+"-draggable";a.title=a.title||"&#160;";a.tools=a.tools||[];a.items=a.items||[];a.orientation=a.orientation||"horizontal";a.dock=a.dock?a.dock:a.orientation=="horizontal"?"top":"left";a.addClsWithUI([a.orientation,a.dock]);if(a.indicateDrag){a.addCls(a.indicateDragCls)}if(!Ext.isEmpty(a.iconCls)||!Ext.isEmpty(a.icon)){a.initIconCmp();a.items.push(a.iconCmp)}if(a.orientation=="vertical"){a.layout={type:"vbox",align:"center"};a.textConfig={width:16,cls:a.baseCls+"-text",type:"text",text:a.title,rotate:{degrees:90}};e=a.ui;if(Ext.isArray(e)){e=e[0]}b="."+a.baseCls+"-text-"+e;if(Ext.scopeResetCSS){b="."+Ext.baseCSSPrefix+"reset "+b}c=Ext.util.CSS.getRule(b);if(c){d=c.style}else{d=(f=Ext.resetElement.createChild({style:"position:absolute",cls:a.baseCls+"-text-"+e})).getStyles("fontFamily","fontWeight","fontSize","color");f.remove()}if(d){Ext.apply(a.textConfig,{"font-family":d.fontFamily,"font-weight":d.fontWeight,"font-size":d.fontSize,fill:d.color})}a.titleCmp=new Ext.draw.Component({width:16,ariaRole:"heading",focusable:false,viewBox:false,flex:1,id:a.id+"_hd",autoSize:true,items:a.textConfig,xhooks:{setSize:function(a){this.callParent([a])}},childEls:[{name:"textEl",select:"."+a.baseCls+"-text"}]})}else{a.layout={type:"hbox",align:"middle"};a.titleCmp=new Ext.Component({ariaRole:"heading",focusable:false,noWrap:true,flex:1,id:a.id+"_hd",style:"text-align:"+a.titleAlign,cls:a.baseCls+"-text-container",renderTpl:a.getTpl("headingTpl"),renderData:{title:a.title,cls:a.baseCls,ui:a.ui},childEls:["textEl"]})}a.items.push(a.titleCmp);a.items=a.items.concat(a.tools);a.callParent();a.on({dblclick:a.onDblClick,click:a.onClick,element:"el",scope:a})},initIconCmp:function(){var a=this,b={focusable:false,src:Ext.BLANK_IMAGE_URL,cls:[a.baseCls+"-icon",a.iconCls],id:a.id+"-iconEl",iconCls:a.iconCls};if(!Ext.isEmpty(a.icon)){delete b.iconCls;b.src=a.icon}a.iconCmp=new Ext.Img(b)},afterRender:function(){this.el.unselectable();this.callParent()},addUIClsToElement:function(a){var b=this,c=b.callParent(arguments),d=[b.baseCls+"-body-"+a,b.baseCls+"-body-"+b.ui+"-"+a],e,f;if(b.bodyCls){e=b.bodyCls.split(" ");for(f=0;f<d.length;f++){if(!Ext.Array.contains(e,d[f])){e.push(d[f])}}b.bodyCls=e.join(" ")}else{b.bodyCls=d.join(" ")}return c},removeUIClsFromElement:function(a){var b=this,c=b.callParent(arguments),d=[b.baseCls+"-body-"+a,b.baseCls+"-body-"+b.ui+"-"+a],e,f;if(b.bodyCls){e=b.bodyCls.split(" ");for(f=0;f<d.length;f++){Ext.Array.remove(e,d[f])}b.bodyCls=e.join(" ")}return c},addUIToElement:function(){var a=this,b,c;a.callParent(arguments);c=a.baseCls+"-body-"+a.ui;if(a.rendered){if(a.bodyCls){a.body.addCls(a.bodyCls)}else{a.body.addCls(c)}}else{if(a.bodyCls){b=a.bodyCls.split(" ");if(!Ext.Array.contains(b,c)){b.push(c)}a.bodyCls=b.join(" ")}else{a.bodyCls=c}}if(a.titleCmp&&a.titleCmp.rendered&&a.titleCmp.textEl){a.titleCmp.textEl.addCls(a.baseCls+"-text-"+a.ui)}},removeUIFromElement:function(){var a=this,b,c;a.callParent(arguments);c=a.baseCls+"-body-"+a.ui;if(a.rendered){if(a.bodyCls){a.body.removeCls(a.bodyCls)}else{a.body.removeCls(c)}}else{if(a.bodyCls){b=a.bodyCls.split(" ");Ext.Array.remove(b,c);a.bodyCls=b.join(" ")}else{a.bodyCls=c}}if(a.titleCmp&&a.titleCmp.rendered&&a.titleCmp.textEl){a.titleCmp.textEl.removeCls(a.baseCls+"-text-"+a.ui)}},onClick:function(a){this.fireClickEvent("click",a)},onDblClick:function(a){this.fireClickEvent("dblclick",a)},fireClickEvent:function(a,b){var c="."+Ext.panel.Tool.prototype.baseCls;if(!b.getTarget(c)){this.fireEvent(a,this,b)}},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},setTitle:function(a){var b=this,c,d;if(b.rendered){if(b.titleCmp.rendered){if(b.titleCmp.surface){b.title=a||"";c=b.titleCmp.surface.items.items[0];d=b.titleCmp.surface;d.remove(c);b.textConfig.type="text";b.textConfig.text=a;c=d.add(b.textConfig);c.setAttributes({rotate:{degrees:90}},true);b.titleCmp.autoSizeSurface()}else{b.title=a;b.titleCmp.textEl.update(b.title||"&#160;")}b.titleCmp.updateLayout()}else{b.titleCmp.on({render:function(){b.setTitle(a)},single:true})}}else{b.title=a}},getMinWidth:function(){var a=this,b=a.titleCmp.textEl.dom,c,d=a.tools,e,f;b.style.display="inline";c=b.offsetWidth;b.style.display="";if(d&&(e=d.length)){for(f=0;f<e;f++){if(d[f].el){c+=d[f].el.dom.offsetWidth}}}if(a.iconCmp){c+=a.iconCmp.el.dom.offsetWidth}return c+10},setIconCls:function(a){var b=this,c=!a||!a.length,d=b.iconCmp;b.iconCls=a;if(!b.iconCmp&&!c){b.initIconCmp();b.insert(0,b.iconCmp)}else if(d){if(c){b.iconCmp.destroy();delete b.iconCmp}else{d.removeCls(d.iconCls);d.addCls(a);d.iconCls=a}}},setIcon:function(a){var b=this,c=!a||!a.length,d=b.iconCmp;b.icon=a;if(!b.iconCmp&&!c){b.initIconCmp();b.insert(0,b.iconCmp)}else if(d){if(c){b.iconCmp.destroy();delete b.iconCmp}else{d.setSrc(b.icon)}}},addTool:function(a){this.tools.push(this.add(a))},onAdd:function(a,b){this.callParent(arguments);if(a instanceof Ext.panel.Tool){a.bindTo(this.ownerCt);this.tools[a.type]=a}},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls})}});Ext.define("Ext.picker.Color",{extend:"Ext.Component",requires:"Ext.XTemplate",alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",value:null,clickEvent:"click",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" class="color-{.}" hidefocus="on">','<em><span style="background:#{.}" unselectable="on">&#160;</span></em>',"</a>","</tpl>"],initComponent:function(){var a=this;a.callParent(arguments);a.addEvents("select");if(a.handler){a.on("select",a.handler,a.scope,true)}},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{itemCls:a.itemCls,colors:a.colors})},onRender:function(){var a=this,b=a.clickEvent;a.callParent(arguments);a.mon(a.el,b,a.handleClick,a,{delegate:"a"});if(b!="click"){a.mon(a.el,"click",Ext.emptyFn,a,{delegate:"a",stopEvent:true})}},afterRender:function(){var a=this,b;a.callParent(arguments);if(a.value){b=a.value;a.value=null;a.select(b,true)}},handleClick:function(a,b){var c=this,d;a.stopEvent();if(!c.disabled){d=b.className.match(c.colorRe)[1];c.select(d.toUpperCase())}},select:function(a,b){var c=this,d=c.selectedCls,e=c.value,f;a=a.replace("#","");if(!c.rendered){c.value=a;return}if(a!=e||c.allowReselect){f=c.el;if(c.value){f.down("a.color-"+e).removeCls(d)}f.down("a.color-"+a).addCls(d);c.value=a;if(b!==true){c.fireEvent("select",c,a)}}},getValue:function(){return this.value||null}});Ext.define("Ext.toolbar.Item",{extend:"Ext.Component",alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:"Ext.Component",requires:["Ext.draw.Surface","Ext.layout.component.Draw"],enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:true,shrinkWrap:3,autoSize:false,initComponent:function(){this.callParent(arguments);this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave","click","dblclick")},onRender:function(){var a=this,b=a.viewBox,c=a.autoSize,d,e,f,g,h,i;a.callParent(arguments);if(a.createSurface()!==false){e=a.surface.items;if(b||c){d=e.getBBox();f=d.width;g=d.height;h=d.x;i=d.y;if(a.viewBox){a.surface.setViewBox(h,i,f,g)}else{a.autoSizeSurface()}}}},autoSizeSurface:function(){var a=this.surface.items.getBBox();this.setSurfaceSize(a.width,a.height)},setSurfaceSize:function(a,b){this.surface.setSize(a,b);if(this.autoSize){var c=this.surface.items.getBBox();this.surface.setViewBox(c.x,c.y- +Ext.isOpera,a,b)}},createSurface:function(){function d(b){return function(c){a.fireEvent(b,c)}}var a=this,b=Ext.applyIf({renderTo:a.el,height:a.height,width:a.width,items:a.items},a.initialConfig),c;delete b.listeners;c=Ext.draw.Surface.create(b);if(!c){return false}a.surface=c;c.on({scope:a,mouseup:d("mouseup"),mousedown:d("mousedown"),mousemove:d("mousemove"),mouseenter:d("mouseenter"),mouseleave:d("mouseleave"),click:d("click"),dblclick:d("dblclick")})},onDestroy:function(){Ext.destroy(this.surface);this.callParent(arguments)}});Ext.define("Ext.chart.Chart",{alias:"widget.chart",extend:"Ext.draw.Component",mixins:{themeManager:"Ext.chart.theme.Theme",mask:"Ext.chart.Mask",navigation:"Ext.chart.Navigation",bindable:"Ext.util.Bindable",observable:"Ext.util.Observable"},uses:["Ext.chart.series.Series"],requires:["Ext.util.MixedCollection","Ext.data.StoreManager","Ext.chart.Legend","Ext.chart.theme.Base","Ext.chart.theme.Theme","Ext.util.DelayedTask"],viewBox:false,animate:false,legend:false,insetPadding:10,enginePriority:["Svg","Vml"],background:false,constructor:function(a){var b=this,c;a=Ext.apply({},a);b.initTheme(a.theme||b.theme);if(b.gradients){Ext.apply(a,{gradients:b.gradients})}if(b.background){Ext.apply(a,{background:b.background})}if(a.animate){c={easing:"ease",duration:500};if(Ext.isObject(a.animate)){a.animate=Ext.applyIf(a.animate,c)}else{a.animate=c}}b.mixins.observable.constructor.call(b,a);if(a.enableMask){b.mixins.mask.constructor.call(b)}b.mixins.navigation.constructor.call(b);b.callParent([a])},getChartStore:function(){return this.substore||this.store},initComponent:function(){var a=this,b,c;a.callParent();a.addEvents("itemmousedown","itemmouseup","itemmouseover","itemmouseout","itemclick","itemdblclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh");Ext.applyIf(a,{zoom:{width:1,height:1,x:0,y:0}});a.maxGutter=[0,0];a.store=Ext.data.StoreManager.lookup(a.store);b=a.axes;a.axes=new Ext.util.MixedCollection(false,function(a){return a.position});if(b){a.axes.addAll(b)}c=a.series;a.series=new Ext.util.MixedCollection(false,function(a){return a.seriesId||(a.seriesId=Ext.id(null,"ext-chart-series-"))});if(c){a.series.addAll(c)}if(a.legend!==false){a.legend=new Ext.chart.Legend(Ext.applyIf({chart:a},a.legend))}a.on({mousemove:a.onMouseMove,mouseleave:a.onMouseLeave,mousedown:a.onMouseDown,mouseup:a.onMouseUp,click:a.onClick,dblclick:a.onDblClick,scope:a})},afterComponentLayout:function(a,b){var c=this;if(Ext.isNumber(a)&&Ext.isNumber(b)){if(a!==c.curWidth||b!==c.curHeight){c.curWidth=a;c.curHeight=b;c.redraw(true)}else if(c.needsRedraw){delete c.needsRedraw;c.redraw()}}this.callParent(arguments)},redraw:function(a){var b=this,c=b.series.items,d=c.length,e=b.axes.items,f=e.length,g,h=b.chartBBox={x:0,y:0,height:b.curHeight,width:b.curWidth},i=b.legend;b.surface.setSize(h.width,h.height);for(g=0;g<d;g++){b.initializeSeries(c[g],g)}for(g=0;g<f;g++){b.initializeAxis(e[g])}for(g=0;g<f;g++){e[g].processView()}for(g=0;g<f;g++){e[g].drawAxis(true)}if(i!==false&&i.visible){if(i.update||!i.created){i.create()}}b.alignAxes();if(i!==false&&i.visible){i.updatePosition()}b.getMaxGutter();b.resizing=!!a;for(g=0;g<f;g++){e[g].drawAxis()}for(g=0;g<d;g++){b.drawCharts(c[g])}b.resizing=false},afterRender:function(){var a,b=this;this.callParent();if(b.categoryNames){b.setCategoryNames(b.categoryNames)}if(b.tipRenderer){a=b.getFunctionRef(b.tipRenderer);b.setTipRenderer(a.fn,a.scope)}b.bindStore(b.store,true);b.refresh();if(b.surface.engine==="Vml"){b.on("added",b.onAddedVml,b);b.mon(Ext.container.Container.hierarchyEventSource,"added",b.onContainerAddedVml,b)}},onAddedVml:function(){this.needsRedraw=true},onContainerAddedVml:function(a){if(this.isDescendantOf(a)){this.needsRedraw=true}},getEventXY:function(a){var b=this,c=this.surface.getRegion(),d=a.getXY(),e=d[0]-c.left,f=d[1]-c.top;return[e,f]},onClick:function(a){this.handleClick("itemclick",a)},onDblClick:function(a){this.handleClick("itemdblclick",a)},handleClick:function(a,b){var c=this,d=c.getEventXY(b),e=c.series.items,f,g,h,i;for(f=0,g=e.length;f<g;f++){h=e[f];if(Ext.draw.Draw.withinBox(d[0],d[1],h.bbox)){if(h.getItemForPoint){i=h.getItemForPoint(d[0],d[1]);if(i){h.fireEvent(a,i)}}}}},onMouseDown:function(a){var b=this,c=b.getEventXY(a),d=b.series.items,e,f,g,h;if(b.enableMask){b.mixins.mask.onMouseDown.call(b,a)}for(e=0,f=d.length;e<f;e++){g=d[e];if(Ext.draw.Draw.withinBox(c[0],c[1],g.bbox)){if(g.getItemForPoint){h=g.getItemForPoint(c[0],c[1]);if(h){g.fireEvent("itemmousedown",h)}}}}},onMouseUp:function(a){var b=this,c=b.getEventXY(a),d=b.series.items,e,f,g,h;if(b.enableMask){b.mixins.mask.onMouseUp.call(b,a)}for(e=0,f=d.length;e<f;e++){g=d[e];if(Ext.draw.Draw.withinBox(c[0],c[1],g.bbox)){if(g.getItemForPoint){h=g.getItemForPoint(c[0],c[1]);if(h){g.fireEvent("itemmouseup",h)}}}}},onMouseMove:function(a){var b=this,c=b.getEventXY(a),d=b.series.items,e,f,g,h,i,j,k;if(b.enableMask){b.mixins.mask.onMouseMove.call(b,a)}for(e=0,f=d.length;e<f;e++){g=d[e];if(Ext.draw.Draw.withinBox(c[0],c[1],g.bbox)){if(g.getItemForPoint){h=g.getItemForPoint(c[0],c[1]);i=g._lastItemForPoint;j=g._lastStoreItem;k=g._lastStoreField;if(h!==i||h&&(h.storeItem!=j||h.storeField!=k)){if(i){g.fireEvent("itemmouseout",i);delete g._lastItemForPoint;delete g._lastStoreField;delete g._lastStoreItem}if(h){g.fireEvent("itemmouseover",h);g._lastItemForPoint=h;g._lastStoreItem=h.storeItem;g._lastStoreField=h.storeField}}}}else{i=g._lastItemForPoint;if(i){g.fireEvent("itemmouseout",i);delete g._lastItemForPoint;delete g._lastStoreField;delete g._lastStoreItem}}}},onMouseLeave:function(a){var b=this,c=b.series.items,d,e,f;if(b.enableMask){b.mixins.mask.onMouseLeave.call(b,a)}for(d=0,e=c.length;d<e;d++){f=c[d];delete f._lastItemForPoint}},delayRefresh:function(){var a=this;if(!a.refreshTask){a.refreshTask=new Ext.util.DelayedTask(a.refresh,a)}a.refreshTask.delay(a.refreshBuffer)},refresh:function(){var a=this;if(a.rendered&&a.curWidth!==undefined&&a.curHeight!==undefined){if(!a.isVisible(true)&&!a.refreshPending){a.setShowListeners("mon");a.refreshPending=true;return}if(a.fireEvent("beforerefresh",a)!==false){a.redraw();a.fireEvent("refresh",a)}}},onShow:function(){var a=this;a.callParent(arguments);if(a.refreshPending){a.delayRefresh();a.setShowListeners("mun")}delete a.refreshPending},setShowListeners:function(a){var b=this;b[a](Ext.container.Container.hierarchyEventSource,{scope:b,single:true,show:b.forceRefresh,expand:b.forceRefresh})},forceRefresh:function(a){var b=this;if(b.isDescendantOf(a)&&b.refreshPending){b.setShowListeners("mun");b.delayRefresh()}delete b.refreshPending},bindStore:function(a,b){var c=this;c.mixins.bindable.bindStore.apply(c,arguments);if(c.store&&!b){c.refresh()}},getStoreListeners:function(){var a=this.refresh,b=this.delayRefresh;return{refresh:a,add:b,remove:b,update:b,clear:a}},initializeAxis:function(a){var b=this,c=b.chartBBox,d=c.width,e=c.height,f=c.x,g=c.y,h=b.themeAttrs,i={chart:b};if(h){i.axisStyle=Ext.apply({},h.axis);i.axisLabelLeftStyle=Ext.apply({},h.axisLabelLeft);i.axisLabelRightStyle=Ext.apply({},h.axisLabelRight);i.axisLabelTopStyle=Ext.apply({},h.axisLabelTop);i.axisLabelBottomStyle=Ext.apply({},h.axisLabelBottom);i.axisTitleLeftStyle=Ext.apply({},h.axisTitleLeft);i.axisTitleRightStyle=Ext.apply({},h.axisTitleRight);i.axisTitleTopStyle=Ext.apply({},h.axisTitleTop);i.axisTitleBottomStyle=Ext.apply({},h.axisTitleBottom)}switch(a.position){case"top":Ext.apply(i,{length:d,width:e,x:f,y:g});break;case"bottom":Ext.apply(i,{length:d,width:e,x:f,y:e});break;case"left":Ext.apply(i,{length:e,width:d,x:f,y:e});break;case"right":Ext.apply(i,{length:e,width:d,x:d,y:e});break}if(!a.chart){Ext.apply(i,a);a=b.axes.replace(Ext.createByAlias("axis."+a.type.toLowerCase(),i))}else{Ext.apply(a,i)}},alignAxes:function(){function p(a){var c=b.findIndex("position",a);return c<0?null:b.getAt(c)}var a=this,b=a.axes,c=b.items,d,e=a.legend,f=["top","right","bottom","left"],g,h,i,j,k=a.insetPadding,l={top:k,right:k,bottom:k,left:k},m,n,o;for(h=0,i=f.length;h<i;h++){g=f[h];m=g==="left"||g==="right";d=p(g);if(e!==false){if(e.position===g){n=e.getBBox();l[g]+=(m?n.width:n.height)+l[g]}}if(d&&d.bbox){n=d.bbox;l[g]+=m?n.width:n.height}}j={x:l.left,y:l.top,width:a.curWidth-l.left-l.right,height:a.curHeight-l.top-l.bottom};a.chartBBox=j;for(h=0,i=c.length;h<i;h++){d=c[h];o=d.position;m=o==="left"||o==="right";d.x=o==="right"?j.x+j.width:j.x;d.y=o==="top"?j.y:j.y+j.height;d.width=m?j.width:j.height;d.length=m?j.height:j.width}},initializeSeries:function(a,b){var c=this,d=c.themeAttrs,e,f,g,h,i,j=[],k=0,l,m={chart:c,seriesId:a.seriesId};if(d){g=d.seriesThemes;i=d.markerThemes;e=Ext.apply({},d.series);f=Ext.apply({},d.marker);m.seriesStyle=Ext.apply(e,g[b%g.length]);m.seriesLabelStyle=Ext.apply({},d.seriesLabel);m.markerStyle=Ext.apply(f,i[b%i.length]);if(d.colors){m.colorArrayStyle=d.colors}else{j=[];for(l=g.length;k<l;k++){h=g[k];if(h.fill||h.stroke){j.push(h.fill||h.stroke)}}if(j.length){m.colorArrayStyle=j}}m.seriesIdx=b}if(a instanceof Ext.chart.series.Series){Ext.apply(a,m)}else{Ext.applyIf(m,a);a=c.series.replace(Ext.createByAlias("series."+a.type.toLowerCase(),m))}if(a.initialize){a.initialize()}},getMaxGutter:function(){var a=this,b=a.series.items,c,d,e,f=[0,0],g;for(c=0,d=b.length;c<d;c++){e=b[c];g=e.getGutters&&e.getGutters()||[0,0];f[0]=Math.max(f[0],g[0]);f[1]=Math.max(f[1],g[1])}a.maxGutter=f},drawAxis:function(a){a.drawAxis()},drawCharts:function(a){a.triggerafterrender=false;a.drawSeries();if(!this.animate){a.fireEvent("afterrender")}},save:function(a){return Ext.draw.Surface.save(this.surface,a)},destroy:function(){Ext.destroy(this.surface);this.bindStore(null);this.callParent(arguments)}});Ext.define("Ext.chart.TipSurface",{extend:"Ext.draw.Component",spriteArray:false,renderFirst:true,constructor:function(a){this.callParent([a]);if(a.sprites){this.spriteArray=[].concat(a.sprites);delete a.sprites}},onRender:function(){var a=this,b=0,c=0,d,e;this.callParent(arguments);e=a.spriteArray;if(a.renderFirst&&e){a.renderFirst=false;for(c=e.length;b<c;b++){d=a.surface.add(e[b]);d.setAttributes({hidden:false},true)}}}});Ext.define("Ext.chart.axis.Abstract",{requires:["Ext.chart.Chart"],constructor:function(a){a=a||{};var b=this,c=a.position||"left";c=c.charAt(0).toUpperCase()+c.substring(1);a.label=Ext.apply(a["axisLabel"+c+"Style"]||{},a.label||{});a.axisTitleStyle=Ext.apply(a["axisTitle"+c+"Style"]||{},a.labelTitle||{});Ext.apply(b,a);b.fields=Ext.Array.from(b.fields);this.callParent();b.labels=[];b.getId();b.labelGroup=b.chart.surface.getGroup(b.axisId+"-labels")},alignment:null,grid:false,steps:10,x:0,y:0,minValue:0,maxValue:0,getId:function(){return this.axisId||(this.axisId=Ext.id(null,"ext-axis-"))},processView:Ext.emptyFn,drawAxis:Ext.emptyFn,addDisplayAndLabels:Ext.emptyFn});Ext.define("Ext.chart.axis.Axis",{extend:"Ext.chart.axis.Abstract",alternateClassName:"Ext.chart.Axis",requires:["Ext.draw.Draw"],forceMinMax:false,dashSize:3,position:"bottom",skipFirst:false,length:0,width:0,adjustEnd:true,majorTickSteps:false,applyData:Ext.emptyFn,getRange:function(){var a=this,b=a.chart,c=b.getChartStore(),d=c.data.items,e=b.series.items,f=a.position,g,h=Ext.chart.series,i=[],j=Infinity,k=-Infinity,l=a.position==="left"||a.position==="right",m,n,o,p,q,r=d.length,s,t={},u={},v=true,w,x,y,z,A;w=a.fields;for(p=0,n=w.length;p<n;p++){u[w[p]]=true}for(m=0,n=e.length;m<n;m++){if(e[m].seriesIsHidden){continue}if(!e[m].getAxesForXAndYFields){continue}g=e[m].getAxesForXAndYFields();if(g.xAxis&&g.xAxis!==f&&g.yAxis&&g.yAxis!==f){continue}if(h.Bar&&e[m]instanceof h.Bar&&!e[m].column){w=l?Ext.Array.from(e[m].xField):Ext.Array.from(e[m].yField)}else{w=l?Ext.Array.from(e[m].yField):Ext.Array.from(e[m].xField)}if(a.fields.length){for(p=0,o=w.length;p<o;p++){if(u[w[p]]){break}}if(p==o){continue}}if(s=e[m].stacked){if(h.Bar&&e[m]instanceof h.Bar){if(e[m].column!=l){s=false;v=false}}else if(!l){s=false;v=false}}if(s){x={};for(p=0;p<w.length;p++){if(v&&e[m].__excludes&&e[m].__excludes[p]){continue}if(!u[w[p]]){Ext.Logger.warn("Field `"+w[p]+"` is not included in the "+f+" axis config.")}u[w[p]]=x[w[p]]=true}i.push({fields:x,value:0})}else{if(!w||w.length==0){w=a.fields}for(p=0;p<w.length;p++){if(v&&e[m].__excludes&&e[m].__excludes[p]){continue}u[w[p]]=t[w[p]]=true}}}for(m=0;m<r;m++){y=d[m];for(q=0;q<i.length;q++){i[q].value=0}for(z in u){A=y.get(z);if(isNaN(A)){continue}if(A===undefined){A=0}if(t[z]){if(j>A){j=A}if(k<A){k=A}}for(q=0;q<i.length;q++){if(i[q].fields[z]){i[q].value+=A;if(j>0){j=0}if(k<i[q].value){k=i[q].value}}}}}if(!isFinite(k)){k=a.prevMax||0}if(!isFinite(j)){j=a.prevMin||0}if(j!=k&&k!=Math.floor(k)){k=Math.floor(k)+1}if(!isNaN(a.minimum)){j=a.minimum}if(!isNaN(a.maximum)){k=a.maximum}if(j>=k){k=j+1}return{min:j,max:k}},calcEnds:function(){var a=this,b=a.getRange(),c=b.min,d=b.max,e,f,g,h;e=Ext.isNumber(a.majorTickSteps)?a.majorTickSteps+1:a.steps;f=!(Ext.isNumber(a.maximum)&&Ext.isNumber(a.minimum)&&Ext.isNumber(a.majorTickSteps)&&a.majorTickSteps>0);g=Ext.draw.Draw.snapEnds(c,d,e,f);if(Ext.isNumber(a.maximum)){g.to=a.maximum;h=true}if(Ext.isNumber(a.minimum)){g.from=a.minimum;h=true}if(a.adjustMaximumByMajorUnit){g.to=Math.ceil(g.to/g.step)*g.step;h=true}if(a.adjustMinimumByMajorUnit){g.from=Math.floor(g.from/g.step)*g.step;h=true}if(h){g.steps=Math.ceil((g.to-g.from)/g.step)}a.prevMin=c==d?0:c;a.prevMax=d;return g},drawAxis:function(a){var b=this,c,d=b.x,e=b.y,f=b.chart.maxGutter[0],g=b.chart.maxGutter[1],h=b.dashSize,i=b.minorTickSteps||0,j=b.minorTickSteps||0,k=b.length,l=b.position,m=[],n=false,o=b.applyData(),p=o.step,q=o.steps,r=o.from,s=o.to,t,u,v,w,x,y,z;if(b.hidden||isNaN(p)||r>s){return}b.from=o.from;b.to=o.to;if(l=="left"||l=="right"){u=Math.floor(d)+.5;w=["M",u,e,"l",0,-k];t=k-g*2}else{v=Math.floor(e)+.5;w=["M",d,v,"l",k,0];t=k-f*2}z=q&&t/q;x=Math.max(i+1,0);y=Math.max(j+1,0);if(b.type=="Numeric"||b.type=="Time"){n=true;b.labels=[o.from]}if(l=="right"||l=="left"){v=e-g;u=d-(l=="left")*h*2;while(v>=e-g-t){w.push("M",u,Math.floor(v)+.5,"l",h*2+1,0);if(v!=e-g){for(c=1;c<y;c++){w.push("M",u+h,Math.floor(v+z*c/y)+.5,"l",h+1,0)}}m.push([Math.floor(d),Math.floor(v)]);v-=z;if(n){b.labels.push(b.labels[b.labels.length-1]+p)}if(z===0){break}}if(Math.round(v+z-(e-g-t))){w.push("M",u,Math.floor(e-k+g)+.5,"l",h*2+1,0);for(c=1;c<y;c++){w.push("M",u+h,Math.floor(e-k+g+z*c/y)+.5,"l",h+1,0)}m.push([Math.floor(d),Math.floor(v)]);if(n){b.labels.push(b.labels[b.labels.length-1]+p)}}}else{u=d+f;v=e-(l=="top")*h*2;while(u<=d+f+t){w.push("M",Math.floor(u)+.5,v,"l",0,h*2+1);if(u!=d+f){for(c=1;c<x;c++){w.push("M",Math.floor(u-z*c/x)+.5,v,"l",0,h+1)}}m.push([Math.floor(u),Math.floor(e)]);u+=z;if(n){b.labels.push(b.labels[b.labels.length-1]+p)}if(z===0){break}}if(Math.round(u-z-(d+f+t))){w.push("M",Math.floor(d+k-f)+.5,v,"l",0,h*2+1);for(c=1;c<x;c++){w.push("M",Math.floor(d+k-f-z*c/x)+.5,v,"l",0,h+1)}m.push([Math.floor(u),Math.floor(e)]);if(n){b.labels.push(b.labels[b.labels.length-1]+p)}}}if(n){b.labels[m.length-1]=+b.labels[m.length-1].toFixed(10)}if(!b.axis){b.axis=b.chart.surface.add(Ext.apply({type:"path",path:w},b.axisStyle))}b.axis.setAttributes({path:w},true);b.inflections=m;if(!a&&b.grid){b.drawGrid()}b.axisBBox=b.axis.getBBox();b.drawLabel()},drawGrid:function(){var a=this,b=a.chart.surface,c=a.grid,d=c.odd,e=c.even,f=a.inflections,g=f.length-(d||e?0:1),h=a.position,i=a.chart.maxGutter,j=a.width-2,k,l,m=1,n=[],o,p,q,r=[],s=[];if(i[1]!==0&&(h=="left"||h=="right")||i[0]!==0&&(h=="top"||h=="bottom")){m=0;g++}for(;m<g;m++){k=f[m];l=f[m-1];if(d||e){n=m%2?r:s;o=(m%2?d:e)||{};p=(o.lineWidth||o["stroke-width"]||0)/2;q=2*p;if(h=="left"){n.push("M",l[0]+1+p,l[1]+.5-p,"L",l[0]+1+j-p,l[1]+.5-p,"L",k[0]+1+j-p,k[1]+.5+p,"L",k[0]+1+p,k[1]+.5+p,"Z")}else if(h=="right"){n.push("M",l[0]-p,l[1]+.5-p,"L",l[0]-j+p,l[1]+.5-p,"L",k[0]-j+p,k[1]+.5+p,"L",k[0]-p,k[1]+.5+p,"Z")}else if(h=="top"){n.push("M",l[0]+.5+p,l[1]+1+p,"L",l[0]+.5+p,l[1]+1+j-p,"L",k[0]+.5-p,k[1]+1+j-p,"L",k[0]+.5-p,k[1]+1+p,"Z")}else{n.push("M",l[0]+.5+p,l[1]-p,"L",l[0]+.5+p,l[1]-j+p,"L",k[0]+.5-p,k[1]-j+p,"L",k[0]+.5-p,k[1]-p,"Z")}}else{if(h=="left"){n=n.concat(["M",k[0]+.5,k[1]+.5,"l",j,0])}else if(h=="right"){n=n.concat(["M",k[0]-.5,k[1]+.5,"l",-j,0])}else if(h=="top"){n=n.concat(["M",k[0]+.5,k[1]+.5,"l",0,j])}else{n=n.concat(["M",k[0]+.5,k[1]-.5,"l",0,-j])}}}if(d||e){if(r.length){if(!a.gridOdd&&r.length){a.gridOdd=b.add({type:"path",path:r})}a.gridOdd.setAttributes(Ext.apply({path:r,hidden:false},d||{}),true)}if(s.length){if(!a.gridEven){a.gridEven=b.add({type:"path",path:s})}a.gridEven.setAttributes(Ext.apply({path:s,hidden:false},e||{}),true)}}else{if(n.length){if(!a.gridLines){a.gridLines=a.chart.surface.add({type:"path",path:n,"stroke-width":a.lineWidth||1,stroke:a.gridColor||"#ccc"})}a.gridLines.setAttributes({hidden:false,path:n},true)}else if(a.gridLines){a.gridLines.hide(true)}}},getOrCreateLabel:function(a,b){var c=this,d=c.labelGroup,e=d.getAt(a),f=c.chart.surface;if(e){if(b!=e.attr.text){e.setAttributes(Ext.apply({text:b},c.label),true);e._bbox=e.getBBox()}}else{e=f.add(Ext.apply({group:d,type:"text",x:0,y:0,text:b},c.label));f.renderItem(e);e._bbox=e.getBBox()}if(c.label.rotation){e.setAttributes({rotation:{degrees:0}},true);e._ubbox=e.getBBox();e.setAttributes(c.label,true)}else{e._ubbox=e._bbox}return e},rect2pointArray:function(a){var b=this.chart.surface,c=b.getBBox(a,true),d=[c.x,c.y],e=d.slice(),f=[c.x+c.width,c.y],g=f.slice(),h=[c.x+c.width,c.y+c.height],i=h.slice(),j=[c.x,c.y+c.height],k=j.slice(),l=a.matrix;d[0]=l.x.apply(l,e);d[1]=l.y.apply(l,e);f[0]=l.x.apply(l,g);f[1]=l.y.apply(l,g);h[0]=l.x.apply(l,i);h[1]=l.y.apply(l,i);j[0]=l.x.apply(l,k);j[1]=l.y.apply(l,k);return[d,f,h,j]},intersect:function(a,b){var c=this.rect2pointArray(a),d=this.rect2pointArray(b);return!!Ext.draw.Draw.intersect(c,d).length},drawHorizontalLabels:function(){var a=this,b=a.label,c=Math.floor,d=Math.max,e=a.chart.axes,f=a.chart.insetPadding,g=a.position,h=a.inflections,i=h.length,j=a.labels,k=0,l,m,n,o,p,q=a.adjustEnd,r=e.findIndex("position","left")!=-1,s=e.findIndex("position","right")!=-1,t,u,v,w,x,y,z;v=i-1;n=h[0];z=a.getOrCreateLabel(0,a.label.renderer(j[0]));l=Math.floor(Math.abs(Math.sin(b.rotate&&b.rotate.degrees*Math.PI/180||0)));for(y=0;y<i;y++){n=h[y];u=a.label.renderer(j[y]);t=a.getOrCreateLabel(y,u);m=t._bbox;k=d(k,m.height+a.dashSize+a.label.padding);w=c(n[0]-(l?m.height:m.width)/2);if(q&&a.chart.maxGutter[0]==0){if(y==0&&!r){w=n[0]}else if(y==v&&!s){w=Math.min(w,n[0]-m.width+f)}}if(g=="top"){x=n[1]-a.dashSize*2-a.label.padding-m.height/2}else{x=n[1]+a.dashSize*2+a.label.padding+m.height/2}t.setAttributes({hidden:false,x:w,y:x},true);if(y!=0&&(a.intersect(t,o)||a.intersect(t,z))){if(y===v&&p!==0){o.hide(true)}else{t.hide(true);continue}}o=t;p=y}return k},drawVerticalLabels:function(){var a=this,b=a.inflections,c=a.position,d=b.length,e=a.chart,f=e.insetPadding,g=a.labels,h=0,i=Math.max,j=Math.floor,k=Math.ceil,l=a.chart.axes,m=a.chart.maxGutter[1],n,o,p,q,r=l.findIndex("position","top")!=-1,s=l.findIndex("position","bottom")!=-1,t=a.adjustEnd,u,v,w=d-1,x,y,z;for(z=0;z<d;z++){o=b[z];v=a.label.renderer(g[z]);u=a.getOrCreateLabel(z,v);n=u._bbox;h=i(h,n.width+a.dashSize+a.label.padding);y=o[1];if(t&&m<n.height/2){if(z==w&&!r){y=Math.max(y,a.y-a.length+k(n.height/2)-f)}else if(z==0&&!s){y=a.y+m-j(n.height/2)}}if(c=="left"){x=o[0]-n.width-a.dashSize-a.label.padding-2}else{x=o[0]+a.dashSize+a.label.padding+2}u.setAttributes(Ext.apply({hidden:false,x:x,y:y},a.label),true);if(z!=0&&a.intersect(u,p)){if(z===w&&q!==0){p.hide(true)}else{u.hide(true);continue}}p=u;q=z}return h},drawLabel:function(){var a=this,b=a.position,c=a.labelGroup,d=a.inflections,e=0,f=0,g,h;if(b=="left"||b=="right"){e=a.drawVerticalLabels()}else{f=a.drawHorizontalLabels()}g=c.getCount();h=d.length;for(;h<g;h++){c.getAt(h).hide(true)}a.bbox={};Ext.apply(a.bbox,a.axisBBox);a.bbox.height=f;a.bbox.width=e;if(Ext.isString(a.title)){a.drawTitle(e,f)}},setTitle:function(a){this.title=a;this.drawLabel()},drawTitle:function(a,b){var c=this,d=c.position,e=c.chart.surface,f=c.displaySprite,g=c.title,h=d=="left"||d=="right",i=c.x,j=c.y,k,l,m;if(f){f.setAttributes({text:g},true)}else{k={type:"text",x:0,y:0,text:g};f=c.displaySprite=e.add(Ext.apply(k,c.axisTitleStyle,c.labelTitle));e.renderItem(f)}l=f.getBBox();m=c.dashSize+c.label.padding;if(h){j-=c.length/2-l.height/2;if(d=="left"){i-=a+m+l.width/2}else{i+=a+m+l.width-l.width/2}c.bbox.width+=l.width+10}else{i+=c.length/2-l.width*.5;if(d=="top"){j-=b+m+l.height*.3}else{j+=b+m+l.height*.8}c.bbox.height+=l.height+10}f.setAttributes({translate:{x:i,y:j}},true)}});Ext.define("Ext.chart.axis.Category",{extend:"Ext.chart.axis.Axis",alternateClassName:"Ext.chart.CategoryAxis",alias:"axis.category",categoryNames:null,calculateCategoryCount:false,setLabels:function(){var a=this.chart.getChartStore(),b=a.data.items,c,d,e,f=this.fields,g=f.length,h;this.labels=[];for(c=0,d=b.length;c<d;c++){e=b[c];for(h=0;h<g;h++){this.labels.push(e.get(f[h]))}}},applyData:function(){this.callParent();this.setLabels();var a=this.chart.getChartStore().getCount();return{from:0,to:a-1,power:1,step:1,steps:a-1}}});Ext.define("Ext.chart.axis.Gauge",{extend:"Ext.chart.axis.Abstract",position:"gauge",alias:"axis.gauge",drawAxis:function(a){var b=this.chart,c=b.surface,d=b.chartBBox,e=d.x+d.width/2,f=d.y+d.height,g=this.margin||10,h=Math.min(d.width,2*d.height)/2+g,i=[],j,k=this.steps,l,m=Math.PI,n=Math.cos,o=Math.sin;if(this.sprites&&!b.resizing){this.drawLabel();return}if(this.margin>=0){if(!this.sprites){for(l=0;l<=k;l++){j=c.add({type:"path",path:["M",e+(h-g)*n(l/k*m-m),f+(h-g)*o(l/k*m-m),"L",e+h*n(l/k*m-m),f+h*o(l/k*m-m),"Z"],stroke:"#ccc"});j.setAttributes({hidden:false},true);i.push(j)}}else{i=this.sprites;for(l=0;l<=k;l++){i[l].setAttributes({path:["M",e+(h-g)*n(l/k*m-m),f+(h-g)*o(l/k*m-m),"L",e+h*n(l/k*m-m),f+h*o(l/k*m-m),"Z"],stroke:"#ccc"},true)}}}this.sprites=i;this.drawLabel();if(this.title){this.drawTitle()}},drawTitle:function(){var a=this,b=a.chart,c=b.surface,d=b.chartBBox,e=a.titleSprite,f;if(!e){a.titleSprite=e=c.add({type:"text",zIndex:2})}e.setAttributes(Ext.apply({text:a.title},a.label||{}),true);f=e.getBBox();e.setAttributes({x:d.x+d.width/2-f.width/2,y:d.y+d.height-f.height/2-4},true)},setTitle:function(a){this.title=a;this.drawTitle()},drawLabel:function(){var a=this.chart,b=a.surface,c=a.chartBBox,d=c.x+c.width/2,e=c.y+c.height,f=this.margin||10,g=Math.min(c.width,2*c.height)/2+2*f,h=Math.round,i=[],j,k=this.maximum||0,l=this.minimum||0,m=this.steps,n=0,o,p=Math.PI,q=Math.cos,r=Math.sin,s=this.label,t=s.renderer||function(a){return a};if(!this.labelArray){for(n=0;n<=m;n++){o=n===0||n===m?7:0;j=b.add({type:"text",text:t(h(l+n/m*(k-l))),x:d+g*q(n/m*p-p),y:e+g*r(n/m*p-p)-o,"text-anchor":"middle","stroke-width":.2,zIndex:10,stroke:"#333"});j.setAttributes({hidden:false},true);i.push(j)}}else{i=this.labelArray;for(n=0;n<=m;n++){o=n===0||n===m?7:0;i[n].setAttributes({text:t(h(l+n/m*(k-l))),x:d+g*q(n/m*p-p),y:e+g*r(n/m*p-p)-o},true)}}this.labelArray=i}});Ext.define("Ext.chart.axis.Numeric",{extend:"Ext.chart.axis.Axis",alternateClassName:"Ext.chart.NumericAxis",type:"numeric",alias:"axis.numeric",uses:["Ext.data.Store"],constructor:function(a){var b=this,c=!!(a.label&&a.label.renderer),d;b.callParent([a]);d=b.label;if(a.constrain==null){b.constrain=a.minimum!=null&&a.maximum!=null}if(!c){d.renderer=function(a){return b.roundToDecimal(a,b.decimals)}}},roundToDecimal:function(a,b){var c=Math.pow(10,b||0);return Math.round(a*c)/c},minimum:NaN,maximum:NaN,constrain:true,decimals:2,scale:"linear",doConstrain:function(){var a=this,b=a.chart.store,c=b.data.items,d,e,f,g=a.chart.series.items,h=a.fields,i=h.length,j=a.calcEnds(),k=j.from,l=j.to,m,n,o=false,p,q=[],r;for(m=0,n=g.length;m<n;m++){if(g[m].type==="bar"&&g[m].stacked){return}}for(d=0,e=c.length;d<e;d++){r=true;f=c[d];for(m=0;m<i;m++){p=f.get(h[m]);if(+p<+k){r=false;break}if(+p>+l){r=false;break}}if(r){q.push(f)}}a.chart.substore=Ext.create("Ext.data.Store",{model:b.model});a.chart.substore.loadData(q)},position:"left",adjustMaximumByMajorUnit:false,adjustMinimumByMajorUnit:false,processView:function(){var a=this,b=a.constrain;if(b){a.doConstrain()}},applyData:function(){this.callParent();return this.calcEnds()}});Ext.define("Ext.chart.axis.Time",{extend:"Ext.chart.axis.Numeric",alternateClassName:"Ext.chart.TimeAxis",alias:"axis.time",uses:["Ext.data.Store"],dateFormat:false,fromDate:false,toDate:false,step:[Ext.Date.DAY,1],constrain:false,constructor:function(a){var b=this,c,d,e;b.callParent([a]);c=b.label||{};e=this.dateFormat;if(e){if(c.renderer){d=c.renderer;c.renderer=function(a){a=d(a);return Ext.Date.format(new Date(d(a)),e)}}else{c.renderer=function(a){return Ext.Date.format(new Date(a>>0),e)}}}},processView:function(){var a=this;if(a.fromDate){a.minimum=+a.fromDate}if(a.toDate){a.maximum=+a.toDate}if(a.constrain){a.doConstrain()}},calcEnds:function(){var a=this,b,c=a.step;if(c){b=a.getRange();b=Ext.draw.Draw.snapEndsByDateAndStep(new Date(b.min),new Date(b.max),Ext.isNumber(c)?[Date.MILLI,c]:c);if(a.minimum){b.from=a.minimum}if(a.maximum){b.to=a.maximum}b.step=(b.to-b.from)/b.steps;return b}else{return a.callParent(arguments)}}});Ext.define("Ext.chart.axis.Radial",{extend:"Ext.chart.axis.Abstract",position:"radial",alias:"axis.radial",drawAxis:function(a){var b=this.chart,c=b.surface,d=b.chartBBox,e=b.store,f=e.getCount(),g=d.x+d.width/2,h=d.y+d.height/2,i=Math.min(d.width,d.height)/2,j=[],k,l=this.steps,m,n,o=Math.PI*2,p=Math.cos,q=Math.sin;if(this.sprites&&!b.resizing){this.drawLabel();return}if(!this.sprites){for(m=1;m<=l;m++){k=c.add({type:"circle",x:g,y:h,radius:Math.max(i*m/l,0),stroke:"#ccc"});k.setAttributes({hidden:false},true);j.push(k)}for(m=0;m<f;m++){k=c.add({type:"path",path:["M",g,h,"L",g+i*p(m/f*o),h+i*q(m/f*o),"Z"],stroke:"#ccc"});k.setAttributes({hidden:false},true);j.push(k)}}else{j=this.sprites;for(m=0;m<l;m++){j[m].setAttributes({x:g,y:h,radius:Math.max(i*(m+1)/l,0),stroke:"#ccc"},true)}for(n=0;n<f;n++){j[m+n].setAttributes({path:["M",g,h,"L",g+i*p(n/f*o),h+i*q(n/f*o),"Z"],stroke:"#ccc"},true)}}this.sprites=j;this.drawLabel()},drawLabel:function(){var a=this.chart,b=a.series.items,c,d=a.surface,e=a.chartBBox,f=a.store,g=f.data.items,h,i,j=e.x+e.width/2,k=e.y+e.height/2,l=Math.min(e.width,e.height)/2,m=Math.max,n=Math.round,o=[],p,q=[],r,s=[],t,u=!this.maximum,v=this.maximum||0,w=this.steps,x=0,y,z,A,B=Math.PI*2,C=Math.cos,D=Math.sin,E=this.label.display,F=E!=="none",G=10;if(!F){return}for(x=0,h=b.length;x<h;x++){c=b[x];q.push(c.yField);t=c.xField}for(y=0,h=g.length;y<h;y++){i=g[y];if(u){for(x=0,r=q.length;x<r;x++){v=m(+i.get(q[x]),v)}}s.push(i.get(t))}if(!this.labelArray){if(E!="categories"){for(x=1;x<=w;x++){p=d.add({type:"text",text:n(x/w*v),x:j,y:k-l*x/w,"text-anchor":"middle","stroke-width":.1,stroke:"#333"});p.setAttributes({hidden:false},true);o.push(p)}}if(E!="scale"){for(y=0,w=s.length;y<w;y++){z=C(y/w*B)*(l+G);A=D(y/w*B)*(l+G);p=d.add({type:"text",text:s[y],x:j+z,y:k+A,"text-anchor":z*z<=.001?"middle":z<0?"end":"start"});p.setAttributes({hidden:false},true);o.push(p)}}}else{o=this.labelArray;if(E!="categories"){for(x=0;x<w;x++){o[x].setAttributes({text:n((x+1)/w*v),x:j,y:k-l*(x+1)/w,"text-anchor":"middle","stroke-width":.1,stroke:"#333"},true)}}if(E!="scale"){for(y=0,w=s.length;y<w;y++){z=C(y/w*B)*(l+G);A=D(y/w*B)*(l+G);if(o[x+y]){o[x+y].setAttributes({type:"text",text:s[y],x:j+z,y:k+A,"text-anchor":z*z<=.001?"middle":z<0?"end":"start"},true)}}}}this.labelArray=o}});Ext.define("Ext.form.field.Base",{extend:"Ext.Component",mixins:{labelable:"Ext.form.Labelable",field:"Ext.form.field.Field"},alias:"widget.field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],requires:["Ext.util.DelayedTask","Ext.XTemplate","Ext.layout.component.field.Field"],fieldSubTpl:['<input id="{id}" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {editableCls}" autocomplete="off"/>',{disableFormats:true}],subTplInsertions:["inputAttrTpl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<9)?["change","propertychange"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:false,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:true,hasFocus:false,baseCls:Ext.baseCSSPrefix+"field",maskOnDisable:false,initComponent:function(){var a=this;a.callParent();a.subTplData=a.subTplData||{};a.addEvents("specialkey","writeablechange");a.initLabelable();a.initField();if(!a.name){a.name=a.getInputId()}},beforeRender:function(){var a=this;a.callParent(arguments);a.beforeLabelableRender(arguments);if(a.readOnly){a.addCls(a.readOnlyCls)}},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var a=this,b=a.inputType,c=a.getInputId(),d;d=Ext.apply({id:c,cmpId:a.id,name:a.name||c,disabled:a.disabled,readOnly:a.readOnly,value:a.getRawValue(),type:b,fieldCls:a.fieldCls,fieldStyle:a.getFieldStyle(),tabIdx:a.tabIndex,typeCls:Ext.baseCSSPrefix+"form-"+(b==="password"?"text":b)},a.subTplData);a.getInsertionRenderData(d,a.subTplInsertions);return d},afterFirstLayout:function(){this.callParent();var a=this.inputEl;if(a){a.selectable()}},applyRenderSelectors:function(){var a=this;a.callParent();a.inputEl=a.el.getById(a.getInputId())},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty("renderTpl")){a.renderTpl=a.getTpl("labelableRenderTpl")}return a.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(a){var b=this,c=b.inputEl;if(c){c.applyStyles(a)}b.fieldStyle=a},getFieldStyle:function(){return"width:100%;"+(Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||"")},onRender:function(){var a=this;a.callParent(arguments);a.onLabelableRender();a.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return this.inputType==="file"},extractFileInput:function(){var a=this,b=a.isFileUpload()?a.inputEl.dom:null,c;if(b){c=b.cloneNode(true);b.parentNode.replaceChild(c,b);a.inputEl=Ext.get(c)}return b},getSubmitData:function(){var a=this,b=null,c;if(!a.disabled&&a.submitValue&&!a.isFileUpload()){c=a.getSubmitValue();if(c!==null){b={};b[a.getName()]=c}}return b},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var a=this,b=a.inputEl?a.inputEl.getValue():Ext.value(a.rawValue,"");a.rawValue=b;return b},setRawValue:function(a){var b=this;a=Ext.value(b.transformRawValue(a),"");b.rawValue=a;if(b.inputEl){b.inputEl.dom.value=a}return a},transformRawValue:function(a){return a},valueToRaw:function(a){return""+Ext.value(a,"")},rawToValue:function(a){return a},processRawValue:function(a){return a},getValue:function(){var a=this,b=a.rawToValue(a.processRawValue(a.getRawValue()));a.value=b;return b},setValue:function(a){var b=this;b.setRawValue(b.valueToRaw(a));return b.mixins.field.setValue.call(b,a)},onBoxReady:function(){var a=this;a.callParent();if(a.setReadOnlyOnBoxReady){a.setReadOnly(a.readOnly)}},onDisable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=true;if(a.hasActiveError()){a.clearInvalid();a.needsValidateOnEnable=true}}},onEnable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=false;if(a.needsValidateOnEnable){delete a.needsValidateOnEnable;a.forceValidation=true;a.isValid();delete a.forceValidation}}},setReadOnly:function(a){var b=this,c=b.inputEl;a=!!a;b[a?"addCls":"removeCls"](b.readOnlyCls);b.readOnly=a;if(c){c.dom.readOnly=a}else if(b.rendering){b.setReadOnlyOnBoxReady=true}b.fireEvent("writeablechange",b,a)},fireKey:function(a){if(a.isSpecialKey()){this.fireEvent("specialkey",this,new Ext.EventObjectImpl(a))}},initEvents:function(){var a=this,b=a.inputEl,c,d,e=a.checkChangeEvents,f,g=e.length,h;if(a.inEditor){a.onBlur=Ext.Function.createBuffered(a.onBlur,10)}if(b){a.mon(b,Ext.EventManager.getKeyEvent(),a.fireKey,a);c=new Ext.util.DelayedTask(a.checkChange,a);a.onChangeEvent=d=function(){c.delay(a.checkChangeBuffer)};for(f=0;f<g;f++){h=e[f];if(h==="propertychange"){a.usesPropertychange=true}a.mon(b,h,d)}}a.callParent()},doComponentLayout:function(){var a=this,b=a.inputEl,c=a.usesPropertychange,d="propertychange",e=a.onChangeEvent;if(c){a.mun(b,d,e)}a.callParent(arguments);if(c){a.mon(b,d,e)}},onDirtyChange:function(a){this[a?"addCls":"removeCls"](this.dirtyCls)},isValid:function(){var a=this,b=a.disabled,c=a.forceValidation||!b;return c?a.validateValue(a.processRawValue(a.getRawValue())):b},validateValue:function(a){var b=this,c=b.getErrors(a),d=Ext.isEmpty(c);if(!b.preventMark){if(d){b.clearInvalid()}else{b.markInvalid(c)}}return d},markInvalid:function(a){var b=this,c=b.getActiveError();b.setActiveErrors(Ext.Array.from(a));if(c!==b.getActiveError()){b.updateLayout()}},clearInvalid:function(){var a=this,b=a.hasActiveError();a.unsetActiveError();if(b){a.updateLayout()}},renderActiveError:function(){var a=this,b=a.hasActiveError();if(a.inputEl){a.inputEl[b?"addCls":"removeCls"](a.invalidCls+"-field")}a.mixins.labelable.renderActiveError.call(a)},getActionEl:function(){return this.inputEl||this.el}});Ext.define("Ext.form.field.Text",{extend:"Ext.form.field.Base",alias:"widget.textfield",requires:["Ext.form.field.VTypes","Ext.layout.component.field.Text"],alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",componentLayout:"textfield",valueContainsPlaceholder:false,initComponent:function(){var a=this;a.callParent();a.addEvents("autosize","keydown","keyup","keypress");a.addStateEvents("change");a.setGrowSizePolicy()},setGrowSizePolicy:function(){if(this.grow){this.shrinkWrap|=1}},initEvents:function(){var a=this,b=a.inputEl;a.callParent();if(a.selectOnFocus||a.emptyText){a.mon(b,"mousedown",a.onMouseDown,a)}if(a.maskRe||a.vtype&&a.disableKeyFilter!==true&&(a.maskRe=Ext.form.field.VTypes[a.vtype+"Mask"])){a.mon(b,"keypress",a.filterKeys,a)}if(a.enableKeyEvents){a.mon(b,{scope:a,keyup:a.onKeyUp,keydown:a.onKeyDown,keypress:a.onKeyPress})}},isEqual:function(a,b){return this.isEqualAsString(a,b)},onChange:function(){this.callParent();this.autoSize()},getSubTplData:function(){var a=this,b=a.getRawValue(),c=a.emptyText&&b.length<1,d=a.maxLength,e;if(a.enforceMaxLength){if(d===Number.MAX_VALUE){d=undefined}}else{d=undefined}if(c){if(Ext.supports.Placeholder){e=a.emptyText}else{b=a.emptyText;a.valueContainsPlaceholder=true}}return Ext.apply(a.callParent(),{maxLength:d,readOnly:a.readOnly,placeholder:e,value:b,fieldCls:a.fieldCls+(c&&(e||b)?" "+a.emptyCls:"")+(a.allowBlank?"":" "+a.requiredCls)})},afterRender:function(){this.autoSize();this.callParent()},onMouseDown:function(a){var b=this;if(!b.hasFocus){b.mon(b.inputEl,"mouseup",Ext.emptyFn,b,{single:true,preventDefault:true})}},processRawValue:function(a){var b=this,c=b.stripCharsRe,d;if(c){d=a.replace(c,"");if(d!==a){b.setRawValue(d);a=d}}return a},onDisable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable="on"}},onEnable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable=""}},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},reset:function(){this.callParent();this.applyEmptyText()},applyEmptyText:function(){var a=this,b=a.emptyText,c;if(a.rendered&&b){c=a.getRawValue().length<1&&!a.hasFocus;if(Ext.supports.Placeholder){a.inputEl.dom.placeholder=b}else if(c){a.setRawValue(b);a.valueContainsPlaceholder=true}if(c){a.inputEl.addCls(a.emptyCls)}a.autoSize()}},afterFirstLayout:function(){this.callParent();if(Ext.isIE&&this.disabled){var a=this.inputEl;if(a){a.dom.unselectable="on"}}},preFocus:function(){var a=this,b=a.inputEl,c=a.emptyText,d;a.callParent(arguments);if(c&&!Ext.supports.Placeholder&&b.dom.value===a.emptyText&&a.valueContainsPlaceholder){a.setRawValue("");d=true;b.removeCls(a.emptyCls);a.valueContainsPlaceholder=false}else if(Ext.supports.Placeholder){a.inputEl.removeCls(a.emptyCls)}if(a.selectOnFocus||d){b.dom.select()}},onFocus:function(){var a=this;a.callParent(arguments);if(a.emptyText){a.autoSize()}},postBlur:function(){this.callParent(arguments);this.applyEmptyText()},filterKeys:function(a){if(a.ctrlKey&&!a.altKey){return}var b=a.getKey(),c=String.fromCharCode(a.getCharCode());if((Ext.isGecko||Ext.isOpera)&&(a.isNavKeyPress()||b===a.BACKSPACE||b===a.DELETE&&a.button===-1)){return}if(!Ext.isGecko&&!Ext.isOpera&&a.isSpecialKey()&&!c){return}if(!this.maskRe.test(c)){a.stopEvent()}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(a){this.callParent(arguments);if(a.hasOwnProperty("value")){this.setValue(a.value)}},getRawValue:function(){var a=this,b=a.callParent();if(b===a.emptyText&&a.valueContainsPlaceholder){b=""}return b},setValue:function(a){var b=this,c=b.inputEl;if(c&&b.emptyText&&!Ext.isEmpty(a)){c.removeCls(b.emptyCls);b.valueContainsPlaceholder=false}b.callParent(arguments);b.applyEmptyText();return b},getErrors:function(a){var b=this,c=b.callParent(arguments),d=b.validator,e=b.emptyText,f=b.allowBlank,g=b.vtype,h=Ext.form.field.VTypes,i=b.regex,j=Ext.String.format,k;a=a||b.processRawValue(b.getRawValue());if(Ext.isFunction(d)){k=d.call(b,a);if(k!==true){c.push(k)}}if(a.length<1||a===b.emptyText&&b.valueContainsPlaceholder){if(!f){c.push(b.blankText)}return c}if(a.length<b.minLength){c.push(j(b.minLengthText,b.minLength))}if(a.length>b.maxLength){c.push(j(b.maxLengthText,b.maxLength))}if(g){if(!h[g](a,b)){c.push(b.vtypeText||h[g+"Text"])}}if(i&&!i.test(a)){c.push(b.regexText||b.invalidText)}return c},selectText:function(a,b){var c=this,d=c.getRawValue(),e=true,f=c.inputEl.dom,g,h;if(d.length>0){a=a===g?0:a;b=b===g?d.length:b;if(f.setSelectionRange){f.setSelectionRange(a,b)}else if(f.createTextRange){h=f.createTextRange();h.moveStart("character",a);h.moveEnd("character",b-d.length);h.select()}e=Ext.isGecko||Ext.isOpera}if(e){c.focus()}},autoSize:function(){var a=this;if(a.grow&&a.rendered){a.autoSizing=true;a.updateLayout()}},afterComponentLayout:function(){var a=this,b;a.callParent(arguments);if(a.autoSizing){b=a.inputEl.getWidth();if(b!==a.lastInputWidth){a.fireEvent("autosize",a,b);a.lastInputWidth=b;delete a.autoSizing}}}});Ext.define("Ext.form.field.TextArea",{extend:"Ext.form.field.Text",alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",requires:["Ext.XTemplate","Ext.layout.component.field.TextArea","Ext.util.DelayedTask"],fieldSubTpl:['<textarea id="{id}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="rows"> rows="{rows}" </tpl>','<tpl if="cols"> cols="{cols}" </tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:true}],growMin:60,growMax:1e3,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:false,preventScrollbars:false,componentLayout:"textareafield",setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,getSubTplData:function(){var a=this,b=a.getFieldStyle(),c=a.callParent();if(a.grow){if(a.preventScrollbars){c.fieldStyle=(b||"")+";overflow:hidden;height:"+a.growMin+"px"}}Ext.applyIf(c,{cols:a.cols,rows:a.rows});return c},afterRender:function(){var a=this;a.callParent(arguments);a.needsMaxCheck=a.enforceMaxLength&&a.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength;if(a.needsMaxCheck){a.inputEl.on("paste",a.onPaste,a)}},transformRawValue:function(a){return this.stripReturns(a)},transformOriginalValue:function(a){return this.stripReturns(a)},valueToRaw:function(a){a=this.stripReturns(a);return this.callParent([a])},stripReturns:function(a){if(a){a=a.replace(this.returnRe,"")}return a},onPaste:function(a){var b=this;if(!b.pasteTask){b.pasteTask=new Ext.util.DelayedTask(b.pasteCheck,b)}b.pasteTask.delay(1)},pasteCheck:function(){var a=this,b=a.getValue(),c=a.maxLength;if(b.length>c){b=b.substr(0,c);a.setValue(b)}},fireKey:function(a){var b=this,c=a.getKey(),d;if(a.isSpecialKey()&&(b.enterIsSpecial||c!==a.ENTER||a.hasModifier())){b.fireEvent("specialkey",b,a)}if(b.needsMaxCheck&&c!==a.BACKSPACE&&c!==a.DELETE&&!a.isNavKeyPress()&&!b.isCutCopyPasteSelectAll(a,c)){d=b.getValue();if(d.length>=b.maxLength){a.stopEvent()}}},isCutCopyPasteSelectAll:function(a,b){if(a.CTRL){return b===a.A||b===a.C||b===a.V||b===a.X}return false},autoSize:function(){var a=this,b;if(a.grow&&a.rendered){a.updateLayout();b=a.inputEl.getHeight();if(b!==a.lastInputHeight){a.fireEvent("autosize",a,b);a.lastInputHeight=b}}},initAria:function(){this.callParent(arguments);this.getActionEl().dom.setAttribute("aria-multiline",true)},beforeDestroy:function(){var a=this.pasteTask;if(a){a.delay()}this.callParent()}});Ext.define("Ext.form.field.Display",{extend:"Ext.form.field.Base",alias:"widget.displayfield",requires:["Ext.util.Format","Ext.XTemplate"],alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}"','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls}">{value}</div>',{compiled:true,disableFormats:true}],fieldCls:Ext.baseCSSPrefix+"form-display-field",htmlEncode:false,validateOnChange:false,initEvents:Ext.emptyFn,submitValue:false,isDirty:function(){return false},isValid:function(){return true},validate:function(){return true},getRawValue:function(){return this.rawValue},setRawValue:function(a){var b=this,c;a=Ext.value(a,"");b.rawValue=a;if(b.rendered){b.inputEl.dom.innerHTML=b.getDisplayValue();b.updateLayout()}return a},getDisplayValue:function(){var a=this,b=this.getRawValue(),c;if(a.renderer){c=a.renderer.call(a.scope||a,b,a)}else{c=a.htmlEncode?Ext.util.Format.htmlEncode(b):b}return c},getSubTplData:function(){var a=this.callParent(arguments);a.value=this.getDisplayValue();return a}});Ext.define("Ext.dd.StatusProxy",{extend:"Ext.Component",animRepair:false,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div>'+'<div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>'],constructor:function(a){var b=this;a=a||{};Ext.apply(b,{hideMode:"visibility",hidden:true,floating:true,id:b.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:a.shadow||false,renderTo:Ext.getDetachedBody()});b.callParent(arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceCls(this.dropStatus,a);this.dropStatus=a}},reset:function(a){var b=this,c=Ext.baseCSSPrefix+"dd-drag-proxy ";b.el.replaceCls(c+b.dropAllowed,c+b.dropNotAllowed);b.dropStatus=b.dropNotAllowed;if(a){b.ghost.update("")}},update:function(a){if(typeof a=="string"){this.ghost.update(a)}else{this.ghost.update("");a.style.margin="0";this.ghost.dom.appendChild(a)}var b=this.ghost.dom.firstChild;if(b){Ext.fly(b).setStyle("float","none")}},getGhost:function(){return this.ghost},hide:function(a){this.callParent();if(a){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},sync:function(){this.el.sync()},repair:function(a,b,c){var d=this;d.callback=b;d.scope=c;if(a&&d.animRepair!==false){d.el.addCls(Ext.baseCSSPrefix+"dd-drag-repair");d.el.hideUnders(true);d.anim=d.el.animate({duration:d.repairDuration||500,easing:"ease-out",to:{x:a[0],y:a[1]},stopAnimation:true,callback:d.afterRepair,scope:d})}else{d.afterRepair()}},afterRepair:function(){var a=this;a.hide(true);a.el.removeCls(Ext.baseCSSPrefix+"dd-drag-repair");if(typeof a.callback=="function"){a.callback.call(a.scope||a)}delete a.callback;delete a.scope}});Ext.define("Ext.toolbar.Separator",{extend:"Ext.toolbar.Item",alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:false,border:true});Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.toolbar.Separator","Ext.button.Button"],alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(a){var b=this;b.callParent(arguments);b.triggerButtonCls=b.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-"+a.getNames().right;b.menuItems=[]},beginLayout:function(a){this.callParent(arguments);this.clearOverflow(a)},beginLayoutCycle:function(a,b){this.callParent(arguments);if(!b){this.clearOverflow(a);this.layout.cacheChildItems(a)}},onRemove:function(a){Ext.Array.remove(this.menuItems,a)},getSuffixConfig:function(){var a=this,b=a.layout,c=b.owner.id;a.menu=new Ext.menu.Menu({listeners:{scope:a,beforeshow:a.beforeMenuShow}});a.menuTrigger=new Ext.button.Button({id:c+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+a.triggerButtonCls,hidden:true,ownerCt:b.owner,ownerLayout:b,iconCls:Ext.baseCSSPrefix+a.getOwnerType(b.owner)+"-more-icon",ui:b.owner instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:a.menu,getSplitCls:function(){return""}});return a.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(a){var b=this,c=b.layout,d=c.getNames(),e=a.state.boxPlan,f=[null,null];b.showTrigger(a);f[d.heightIndex]=(e.maxSize-b.menuTrigger[d.getHeight]())/2;b.menuTrigger.setPosition.apply(b.menuTrigger,f);return{reservedSpace:b.menuTrigger[d.getWidth]()}},captureChildElements:function(){var a=this.menuTrigger;if(a.rendering){a.finishRender()}},_asLayoutRoot:{isRoot:true},clearOverflow:function(a){var b=this,c=b.menuItems,d,e=0,f=c.length,g=b.layout.owner,h=b._asLayoutRoot;g.suspendLayouts();b.captureChildElements();b.hideTrigger();g.resumeLayouts();for(;e<f;e++){d=c[e];d.suspendLayouts();d.show();d.resumeLayouts(h)}c.length=0},showTrigger:function(a){var b=this,c=b.layout,d=c.owner,e=c.getNames(),f=e.x,g=e.width,h=a.state.boxPlan,i=h.targetSize[g],j=a.childItems,k=j.length,l=b.menuTrigger,m,n,o,p;l.suspendLayouts();l.show();l.resumeLayouts(b._asLayoutRoot);i-=b.menuTrigger.getWidth();d.suspendLayouts();b.menuItems.length=0;for(o=0;o<k;o++){m=j[o];p=m.props;if(p[f]+p[g]>i){n=m.target;b.menuItems.push(n);n.hide()}}d.resumeLayouts()},hideTrigger:function(){var a=this.menuTrigger;if(a){a.hide()}},beforeMenuShow:function(a){var b=this,c=b.menuItems,d=0,e=c.length,f,g,h=function(a,b){return a.isXType("buttongroup")&&!(b instanceof Ext.toolbar.Separator)};a.suspendLayouts();b.clearMenu();a.removeAll();for(;d<e;d++){f=c[d];if(!d&&f instanceof Ext.toolbar.Separator){continue}if(g&&(h(f,g)||h(g,f))){a.add("-")}b.addComponentToMenu(a,f);g=f}if(a.items.length<1){a.add(b.noItemsMenuText)}a.resumeLayouts()},createMenuConfig:function(a,b){var c=Ext.apply({},a.initialConfig),d=a.toggleGroup;Ext.copyTo(c,a,["iconCls","icon","itemId","disabled","handler","scope","menu"]);Ext.apply(c,{text:a.overflowText||a.text,hideOnClick:b,destroyMenu:false});if(a.isFormField){c.value=a.getValue();if(!c.listeners){c.listeners={}}c.listeners.change=function(b,c,d){a.setValue(c)}}else if(d||a.enableToggle){Ext.apply(c,{iconAlign:"right",hideOnClick:false,group:d,checked:a.pressed,listeners:{checkchange:function(b,c){a.toggle(c)}}})}delete c.ownerCt;delete c.xtype;delete c.id;return c},addComponentToMenu:function(a,b){var c=this,d,e,f;if(b instanceof Ext.toolbar.Separator){a.add("-")}else if(b.isComponent){if(b.isXType("splitbutton")){a.add(c.createMenuConfig(b,true))}else if(b.isXType("button")){a.add(c.createMenuConfig(b,!b.menu))}else if(b.isXType("buttongroup")){e=b.items.items;f=e.length;for(d=0;d<f;d++){c.addComponentToMenu(a,e[d])}}else{a.add(Ext.create(Ext.getClassName(b),c.createMenuConfig(b)))}}},clearMenu:function(){var a=this.menu,b,c,d,e;if(a&&a.items){b=a.items.items;d=b.length;for(c=0;c<d;c++){e=b[c];if(e.setMenu){e.setMenu(null)}}}},destroy:function(){var a=this.menuTrigger;if(a&&!this.layout.owner.items.contains(a)){delete a.ownerCt}Ext.destroy(this.menu,a)}});Ext.define("Ext.layout.container.Box",{alias:["layout.box"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.BoxLayout",requires:["Ext.layout.container.boxOverflow.None","Ext.layout.container.boxOverflow.Menu","Ext.layout.container.boxOverflow.Scroller","Ext.util.Format","Ext.dd.DragDropManager"],defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:undefined,stretchMaxPartner:undefined,type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:true,manageMargins:true,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" style="position:absolute;',"width:20000px;","left:0px;top:0px;",'height:1px">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)","}%}",{disableFormats:true,definitions:"var dh=Ext.DomHelper;"}],constructor:function(a){var b=this,c;b.callParent(arguments);b.flexSortFn=Ext.Function.bind(b.flexSort,b);b.initOverflowHandler();c=typeof b.padding;if(c=="string"||c=="number"){b.padding=Ext.util.Format.parseBox(b.padding);b.padding.height=b.padding.top+b.padding.bottom;b.padding.width=b.padding.left+b.padding.right}},getNames:function(){return this.names},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(a,b){var c=this,d=c.sizePolicy,e=c.align,f=a.flex,g=e,h=c.names,i=a[h.width],j=a[h.height],k=c._percentageRe,l=k.test(i),m=e=="stretch";if((m||f||l)&&!b){b=c.owner.getSizeModel()}if(m){if(!k.test(j)&&b[h.height].shrinkWrap){g="stretchmax"}}else if(e!="stretchmax"){if(k.test(j)){g="stretch"}else{g=""}}if(f||l){if(!b[h.width].shrinkWrap){d=d.flex}}return d[g]},flexSort:function(a,b){var c=this.getNames().maxWidth,d=Infinity;a=a.target[c]||d;b=b.target[c]||d;if(!isFinite(a)&&!isFinite(b)){return 0}return a-b},isItemBoxParent:function(a){return true},isItemShrinkWrap:function(a){return true},minSizeSortFn:function(a,b){return b.available-a.available},roundFlex:function(a){return Math.ceil(a)},beginCollapse:function(a){var b=this;if(b.direction==="vertical"&&a.collapsedVertical()){a.collapseMemento.capture(["flex"]);delete a.flex}else if(b.direction==="horizontal"&&a.collapsedHorizontal()){a.collapseMemento.capture(["flex"]);delete a.flex}},beginExpand:function(a){a.collapseMemento.restore(["flex"])},beginLayout:function(a){var b=this,c=b.owner.stretchMaxPartner,d=b.innerCt.dom.style,e=b.getNames();a.boxNames=e;b.overflowHandler.beginLayout(a);if(typeof c==="string"){c=Ext.getCmp(c)||b.owner.query(c)[0]}a.stretchMaxPartner=c&&a.context.getCmp(c);b.callParent(arguments);a.innerCtContext=a.getEl("innerCt",b);b.scrollParallel=!!(b.owner.autoScroll||b.owner[e.overflowX]);b.scrollPerpendicular=!!(b.owner.autoScroll||b.owner[e.overflowY]);if(b.scrollParallel){b.scrollPos=b.owner.getTargetEl().dom[e.scrollLeft]}d.width="";d.height=""},beginLayoutCycle:function(a,b){var c=this,d=c.align,e=a.boxNames,f=c.pack,g=e.heightModel;c.overflowHandler.beginLayoutCycle(a,b);c.callParent(arguments);a.parallelSizeModel=a[e.widthModel];a.perpendicularSizeModel=a[g];a.boxOptions={align:d={stretch:d=="stretch",stretchmax:d=="stretchmax",center:d==e.center},pack:f={center:f=="center",end:f=="end"}};if(d.stretch&&a.perpendicularSizeModel.shrinkWrap){d.stretchmax=true;d.stretch=false}d.nostretch=!(d.stretch||d.stretchmax);if(a.parallelSizeModel.shrinkWrap){f.center=f.end=false}c.cacheFlexes(a);if(Ext.isWebKit){c.targetEl.setWidth(2e4)}},cacheFlexes:function(a){var b=this,c=a.boxNames,d=c.widthModel,e=c.heightModel,f=a.boxOptions.align.nostretch,g=0,h=a.childItems,i=h.length,j=[],k=0,l=c.minWidth,m=b._percentageRe,n=0,o=0,p,q,r,s;while(i--){q=h[i];p=q.target;if(q[d].calculated){q.flex=r=p.flex;if(r){g+=r;j.push(q);k+=p[l]||0}else{s=m.exec(p[c.width]);q.percentageParallel=parseFloat(s[1])/100;++n}}if(f&&q[e].calculated){s=m.exec(p[c.height]);q.percentagePerpendicular=parseFloat(s[1])/100;++o}}a.flexedItems=j;a.flexedMinSize=k;a.totalFlex=g;a.percentageWidths=n;a.percentageHeights=o;Ext.Array.sort(j,b.flexSortFn)},calculate:function(a){var b=this,c=b.getContainerSize(a),d=a.boxNames,e=a.state,f=e.boxPlan||(e.boxPlan={});f.targetSize=c;if(!a.parallelSizeModel.shrinkWrap&&!c[d.gotWidth]){b.done=false;return}if(!e.parallelDone){e.parallelDone=b.calculateParallel(a,d,f)}if(!e.perpendicularDone){e.perpendicularDone=b.calculatePerpendicular(a,d,f)}if(e.parallelDone&&e.perpendicularDone){if(b.owner.dock&&(Ext.isIE6||Ext.isIE7||Ext.isIEQuirks)&&!b.owner.width&&!b.horizontal){f.isIEVerticalDock=true;f.calculatedWidth=f.maxSize+a.getPaddingInfo().width+a.getFrameInfo().width}b.publishInnerCtSize(a,b.reserveOffset?b.availableSpaceOffset:0);if(b.done&&a.childItems.length>1&&a.boxOptions.align.stretchmax&&!e.stretchMaxDone){b.calculateStretchMax(a,d,f);e.stretchMaxDone=true}}else{b.done=false}},calculateParallel:function(a,b,c){var d=this,e=b.width,f=a.childItems,g=b.left,h=b.right,i=b.setWidth,j=f.length,k=a.flexedItems,l=k.length,m=a.boxOptions.pack,n=d.padding,o=c.targetSize[e],p=0,q=n[g],r=q+n[h]+d.scrollOffset+(d.reserveOffset?d.availableSpaceOffset:0),s=Ext.getScrollbarSize()[b.width],t,u,v,w,x,y,z,A,B,C,D;if(s&&d.scrollPerpendicular&&a.parallelSizeModel.shrinkWrap&&!a.boxOptions.align.stretch&&!a.perpendicularSizeModel.shrinkWrap){if(!a.state.perpendicularDone){return false}B=true}for(t=0;t<j;++t){x=f[t];u=x.marginInfo||x.getMarginInfo();p+=u[e];if(!x[b.widthModel].calculated){C=x.getProp(e);r+=C;if(isNaN(r)){return false}}}r+=p;if(a.percentageWidths){D=o-p;if(isNaN(D)){return false}for(t=0;t<j;++t){x=f[t];if(x.percentageParallel){C=Math.ceil(D*x.percentageParallel);C=x.setWidth(C);r+=C}}}if(a.parallelSizeModel.shrinkWrap){c.availableSpace=0;c.tooNarrow=false}else{c.availableSpace=o-r;c.tooNarrow=c.availableSpace<a.flexedMinSize;if(c.tooNarrow&&Ext.getScrollbarSize()[b.height]&&d.scrollParallel&&a.state.perpendicularDone){a.state.perpendicularDone=false;for(t=0;t<j;++t){f[t].invalidate()}}}A=r;v=c.availableSpace;w=a.totalFlex;for(t=0;t<l;t++){x=k[t];y=x.flex;z=d.roundFlex(y/w*v);z=x[i](z);A+=z;v=Math.max(0,v-z);w-=y}if(m.center){q+=v/2;if(q<0){q=0}}else if(m.end){q+=v}for(t=0;t<j;++t){x=f[t];u=x.marginInfo;q+=u[g];x.setProp(b.x,q);q+=u[h]+x.props[e]}A+=a.targetContext.getPaddingInfo()[e];a.state.contentWidth=A;if(B&&a.peek(b.contentHeight)>c.targetSize[b.height]){A+=s;a[b.hasOverflowY]=true;a.target.componentLayout[b.setWidthInDom]=true;a[b.invalidateScrollY]=Ext.isStrict&&Ext.isIE8}a[b.setContentWidth](A);return true},calculatePerpendicular:function(a,b,c){var d=this,e=a.perpendicularSizeModel.shrinkWrap,f=c.targetSize,g=a.childItems,h=g.length,i=Math.max,j=b.height,k=b.setHeight,l=b.top,m=b.y,n=d.padding,o=n[l],p=f[j]-o-n[b.bottom],q=a.boxOptions.align,r=q.stretch,s=q.stretchmax,t=q.center,u=0,v=0,w=Ext.getScrollbarSize().height,x,y,z,A,B,C,D,E,F,G,H;if(r||t&&!e){if(isNaN(p)){return false}}if(d.scrollParallel&&c.tooNarrow){if(e){G=true}else{p-=w;c.targetSize[j]-=w}}if(r){C=p}else{for(y=0;y<h;y++){D=g[y];A=(D.marginInfo||D.getMarginInfo())[j];if(!(H=D.percentagePerpendicular)){z=D.getProp(j)}else{++v;if(e){continue}else{z=H*p-A;z=D[b.setHeight](z)}}if(isNaN(u=i(u,z+A,D.target[b.minHeight]||0))){return false}}if(G){u+=w;a[b.hasOverflowX]=true;a.target.componentLayout[b.setHeightInDom]=true;a[b.invalidateScrollX]=Ext.isStrict&&Ext.isIE8}E=a.stretchMaxPartner;if(E){a.setProp("maxChildHeight",u);F=E.childItems;if(F&&F.length){u=i(u,E.getProp("maxChildHeight"));if(isNaN(u)){return false}}}a[b.setContentHeight](u+d.padding[j]+a.targetContext.getPaddingInfo()[j]);if(G){u-=w}c.maxSize=u;if(s){C=u}else if(t||v){C=e?u:i(p,u);C-=a.innerCtContext.getBorderInfo()[j]}}for(y=0;y<h;y++){D=g[y];A=D.marginInfo||D.getMarginInfo();x=o+A[l];if(r){D[k](C-A[j])}else{H=D.percentagePerpendicular;if(e&&H){A=D.marginInfo||D.getMarginInfo();z=H*C-A[j];z=D.setHeight(z)}if(t){B=C-D.props[j];if(B>0){x=o+Math.round(B/2)}}}D.setProp(m,x)}return true},calculateStretchMax:function(a,b,c){var d=this,e=b.height,f=b.width,g=a.childItems,h=g.length,i=c.maxSize,j=d.onBeforeInvalidateChild,k=d.onAfterInvalidateChild,l,m,n,o;for(n=0;n<h;++n){l=g[n];m=l.props;o=i-l.getMarginInfo()[e];if(o!=m[e]||l[b.heightModel].constrained){l.invalidate({before:j,after:k,layout:d,childWidth:m[f],childHeight:o,childX:m.x,childY:m.y,names:b})}}},completeLayout:function(a){var b=this,c=a.boxNames,d=a.invalidateScrollX,e=a.invalidateScrollY,f,g,h,i,j;b.overflowHandler.completeLayout(a);if(d||e){g=b.getTarget();f=g.dom;j=f.style;if(d){h=g.getStyle("overflowX");if(h=="auto"){h=j.overflowX;j.overflowX="scroll"}else{d=false}}if(e){i=g.getStyle("overflowY");if(i=="auto"){i=j.overflowY;j.overflowY="scroll"}else{e=false}}if(d||e){f.scrollWidth;if(d){j.overflowX=h}if(e){j.overflowY=i}}}if(b.scrollParallel){b.owner.getTargetEl().dom[c.scrollLeft]=b.scrollPos}},finishedLayout:function(a){this.overflowHandler.finishedLayout(a);this.callParent(arguments);if(Ext.isWebKit){this.targetEl.setWidth(a.innerCtContext.props.width)}},onBeforeInvalidateChild:function(a,b){var c=b.names.heightModel;if(!a[c].constrainedMax){a[c]=Ext.layout.SizeModel.calculated}},onAfterInvalidateChild:function(a,b){var c=b.names,d=Ext.getScrollbarSize(),e=b.childHeight,f=b.childWidth;a.setProp("x",b.childX);a.setProp("y",b.childY);if(a[c.heightModel].calculated){a[c.setHeight](e)}if(a[c.widthModel].calculated){a[c.setWidth](f)}},publishInnerCtSize:function(a,b){var c=this,d=a.boxNames,e=d.height,f=d.width,g=a.boxOptions.align,h=c.owner.dock,i=c.padding,j=a.state.boxPlan,k=j.targetSize,l=k[e],m=a.innerCtContext,n=(a.parallelSizeModel.shrinkWrap||j.tooNarrow&&c.scrollParallel?a.state.contentWidth:k[f])-(b||0),o;if(g.stretch){o=l}else{o=j.maxSize+i[d.top]+i[d.bottom]+m.getBorderInfo()[e];if(!a.perpendicularSizeModel.shrinkWrap&&g.center){o=Math.max(l,o)}}m[d.setWidth](n);m[d.setHeight](o);if(isNaN(n+o)){c.done=false}if(j.calculatedWidth&&(h=="left"||h=="right")){a.setWidth(j.calculatedWidth,true,true)}},onRemove:function(a){var b=this;b.callParent(arguments);if(b.overflowHandler){b.overflowHandler.onRemove(a)}if(a.layoutMarginCap==b.id){delete a.layoutMarginCap}},initOverflowHandler:function(){var a=this,b=a.overflowHandler,c,d;if(typeof b=="string"){b={type:b}}c="None";if(b&&b.type!==undefined){c=b.type}d=Ext.layout.container.boxOverflow[c];if(d[a.type]){d=d[a.type]}a.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+c,a,b)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},calculateChildBox:Ext.deprecated(),calculateChildBoxes:Ext.deprecated(),updateChildBoxes:Ext.deprecated(),destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler);this.callParent(arguments)}});Ext.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.HBoxLayout",align:"top",type:"hbox",direction:"horizontal",horizontal:true,names:{lr:"lr",left:"left",leftCap:"Left",right:"right",position:"left",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",center:"middle",top:"top",topPosition:"top",bottom:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",scrollTop:"scrollTop",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom"},sizePolicy:{flex:{"":{setsWidth:1,setsHeight:0},stretch:{setsWidth:1,setsHeight:1},stretchmax:{readsHeight:1,setsWidth:1,setsHeight:1}},"":{setsWidth:0,setsHeight:0},stretch:{setsWidth:0,setsHeight:1},stretchmax:{readsHeight:1,setsWidth:0,setsHeight:1}}});Ext.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.VBoxLayout",align:"left",type:"vbox",direction:"vertical",horizontal:false,names:{lr:"tb",left:"top",leftCap:"Top",right:"bottom",position:"top",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",center:"center",top:"left",topPosition:"left",bottom:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",scrollTop:"scrollLeft",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom"},sizePolicy:{flex:{"":{setsWidth:0,setsHeight:1},stretch:{setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,setsWidth:1,setsHeight:1}},"":{setsWidth:0,setsHeight:0},stretch:{setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,setsWidth:1,setsHeight:0}}});Ext.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.toolbar.Fill","Ext.layout.container.HBox","Ext.layout.container.VBox"],uses:["Ext.toolbar.Separator"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:true,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:false,enableOverflow:false,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:true,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var a=this,b;if(!a.layout&&a.enableOverflow){a.layout={overflowHandler:"Menu"}}if(a.dock==="right"||a.dock==="left"){a.vertical=true}a.layout=Ext.applyIf(Ext.isString(a.layout)?{type:a.layout}:a.layout||{},{type:a.vertical?"vbox":"hbox",align:a.vertical?"stretchmax":"middle"});if(a.vertical){a.addClsWithUI("vertical")}if(a.ui==="footer"){a.ignoreBorderManagement=true}a.callParent();a.addEvents("overflowchange")},getRefItems:function(a){var b=this,c=b.callParent(arguments),d=b.layout,e;if(a&&b.enableOverflow){e=d.overflowHandler;if(e&&e.menu){c=c.concat(e.menu.getRefItems(a))}}return c},lookupComponent:function(a){if(typeof a=="string"){var b=Ext.toolbar.Toolbar,c=b.shortcutsHV[this.vertical?1:0][a]||b.shortcuts[a];if(typeof c=="string"){a={xtype:c}}else if(c){a=Ext.apply({},c)}else{a={xtype:"tbtext",text:a}}this.applyDefaults(a)}return this.callParent(arguments)},applyDefaults:function(a){if(!Ext.isString(a)){a=this.callParent(arguments)}return a},trackMenu:function(a,b){if(this.trackMenus&&a.menu){var c=b?"mun":"mon",d=this;d[c](a,"mouseover",d.onButtonOver,d);d[c](a,"menushow",d.onButtonMenuShow,d);d[c](a,"menuhide",d.onButtonMenuHide,d)}},constructButton:function(a){return a.events?a:Ext.widget(a.split?"splitbutton":this.defaultType,a)},onBeforeAdd:function(a){if(a.is("field")||a.is("button")&&this.ui!="footer"){a.ui=a.ui+"-toolbar"}if(a instanceof Ext.toolbar.Separator){a.setUI(this.vertical?"vertical":"horizontal")}this.callParent(arguments)},onAdd:function(a){this.callParent(arguments);this.trackMenu(a)},onRemove:function(a){this.callParent(arguments);this.trackMenu(a,true)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!=a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a}},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(a){delete this.activeMenuBtn}});Ext.define("Ext.panel.AbstractPanel",{extend:"Ext.container.Container",mixins:{docking:"Ext.container.DockingContainer"},requires:["Ext.util.MixedCollection","Ext.Element","Ext.toolbar.Toolbar"],baseCls:Ext.baseCSSPrefix+"panel",isPanel:true,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",Ext.isIE6||Ext.isIE7||Ext.isIEQuirks?"<div></div>":"",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:true,emptyArray:[],initComponent:function(){var a=this;if(a.frame&&a.border&&a.bodyBorder===undefined){a.bodyBorder=false}if(a.frame&&a.border&&(a.bodyBorder===false||a.bodyBorder===0)){a.manageBodyBorders=true}a.callParent()},beforeDestroy:function(){this.destroyDockedItems();this.callParent()},initItems:function(){this.callParent();this.initDockingItems()},initRenderData:function(){var a=this,b=a.callParent();a.initBodyStyles();a.protoBody.writeTo(b);delete a.protoBody;return b},getComponent:function(a){var b=this.callParent(arguments);if(b===undefined&&!Ext.isNumber(a)){b=this.getDockedComponent(a)}return b},getProtoBody:function(){var a=this,b=a.protoBody;if(!b){a.protoBody=b=new Ext.util.ProtoElement({cls:a.bodyCls,style:a.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:true})}return b},initBodyStyles:function(){var a=this,b=a.getProtoBody(),c=Ext.Element;if(a.bodyPadding!==undefined){b.setStyle("padding",c.unitizeBox(a.bodyPadding===true?5:a.bodyPadding))}if(a.frame&&a.bodyBorder){if(!Ext.isNumber(a.bodyBorder)){a.bodyBorder=1}b.setStyle("border-width",c.unitizeBox(a.bodyBorder))}},getCollapsedDockedItems:function(){var a=this;return a.collapseMode=="placeholder"?a.emptyArray:[a.getReExpander()]},setBodyStyle:function(a,b){var c=this,d=c.rendered?c.body:c.getProtoBody();if(Ext.isFunction(a)){a=a()}if(arguments.length==1){if(Ext.isString(a)){a=Ext.Element.parseStyles(a)}d.setStyle(a)}else{d.setStyle(a,b)}return c},addBodyCls:function(a){var b=this,c=b.rendered?b.body:b.getProtoBody();c.addCls(a);return b},removeBodyCls:function(a){var b=this,c=b.rendered?b.body:b.getProtoBody();c.removeCls(a);return b},addUIClsToElement:function(a){var b=this,c=b.callParent(arguments);b.addBodyCls([Ext.baseCSSPrefix+a,b.baseCls+"-body-"+a,b.baseCls+"-body-"+b.ui+"-"+a]);return c},removeUIClsFromElement:function(a){var b=this,c=b.callParent(arguments);b.removeBodyCls([Ext.baseCSSPrefix+a,b.baseCls+"-body-"+a,b.baseCls+"-body-"+b.ui+"-"+a]);return c},addUIToElement:function(){var a=this;a.callParent(arguments);a.addBodyCls(a.baseCls+"-body-"+a.ui)},removeUIFromElement:function(){var a=this;a.callParent(arguments);a.removeBodyCls(a.baseCls+"-body-"+a.ui)},getTargetEl:function(){return this.body},getRefItems:function(a){var b=this.callParent(arguments);return this.getDockingRefItems(a,b)},setupRenderTpl:function(a){this.callParent(arguments);this.setupDockingRenderTpl(a)}});Ext.define("Ext.form.field.Trigger",{extend:"Ext.form.field.Text",alias:["widget.triggerfield","widget.trigger"],requires:["Ext.DomHelper","Ext.util.ClickRepeater","Ext.layout.component.field.Trigger"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],childEls:[{name:"triggerCell",select:"."+Ext.baseCSSPrefix+"trigger-cell"},{name:"triggerEl",select:"."+Ext.baseCSSPrefix+"form-trigger"},"triggerWrap","inputCell"],triggerBaseCls:Ext.baseCSSPrefix+"form-trigger",triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerNoEditCls:Ext.baseCSSPrefix+"trigger-noedit",hideTrigger:false,editable:true,readOnly:false,repeatTriggerClick:false,autoSize:Ext.emptyFn,monitorTab:true,mimicing:false,triggerIndexRe:/trigger-index-(\d+)/,componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus";this.callParent(arguments)},getSubTplMarkup:function(){var a=this,b=a.callParent(arguments);return'<table id="'+a.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+'form-trigger-wrap" cellpadding="0" cellspacing="0"><tbody><tr>'+'<td id="'+a.id+'-inputCell" class="'+Ext.baseCSSPrefix+'form-trigger-input-cell">'+b+"</td>"+a.getTriggerMarkup()+"</tr></tbody></table>"},getSubTplData:function(){var a=this,b=a.callParent(),c=a.readOnly===true,d=a.editable!==false;return Ext.apply(b,{editableCls:c||!d?" "+a.triggerNoEditCls:"",readOnly:!d||c})},getLabelableRenderData:function(){var a=this,b=a.triggerWrapCls,c=a.callParent(arguments);return Ext.applyIf(c,{triggerWrapCls:b,triggerMarkup:a.getTriggerMarkup()})},getTriggerMarkup:function(){var a=this,b=0,c=a.readOnly||a.hideTrigger,d,e=a.triggerBaseCls,f=[];if(!a.trigger1Cls){a.trigger1Cls=a.triggerCls}for(b=0;(d=a["trigger"+(b+1)+"Cls"])||b<1;b++){f.push({tag:"td",valign:"top",cls:Ext.baseCSSPrefix+"trigger-cell",style:"width:"+a.triggerWidth+(c?"px;display:none":"px"),cn:{cls:[Ext.baseCSSPrefix+"trigger-index-"+b,e,d].join(" "),role:"button"}})}f[b-1].cn.cls+=" "+e+"-last";return Ext.DomHelper.markup(f)},disableCheck:function(){return!this.disabled},beforeRender:function(){var a=this,b=a.triggerBaseCls,c;if(!a.triggerWidth){c=Ext.resetElement.createChild({style:"position: absolute;",cls:Ext.baseCSSPrefix+"form-trigger"});Ext.form.field.Trigger.prototype.triggerWidth=c.getWidth();c.remove()}a.callParent();if(b!=Ext.baseCSSPrefix+"form-trigger"){a.addChildEls({name:"triggerEl",select:"."+b})}a.lastTriggerStateFlags=a.getTriggerStateFlags()},onRender:function(){var a=this;a.callParent(arguments);a.doc=Ext.getDoc();a.initTrigger();a.triggerEl.unselectable()},getTriggerWidth:function(){var a=this,b=0;if(a.triggerWrap&&!a.hideTrigger&&!a.readOnly){b=a.triggerEl.getCount()*a.triggerWidth}return b},setHideTrigger:function(a){if(a!=this.hideTrigger){this.hideTrigger=a;this.updateLayout()}},setEditable:function(a){if(a!=this.editable){this.editable=a;this.updateLayout()}},setReadOnly:function(a){if(a!=this.readOnly){this.readOnly=a;this.updateLayout()}},initTrigger:function(){var a=this,b=a.triggerWrap,c=a.triggerEl,d=a.disableCheck,e,f,g,h,i;if(a.repeatTriggerClick){a.triggerRepeater=new Ext.util.ClickRepeater(b,{preventDefault:true,handler:a.onTriggerWrapClick,listeners:{mouseup:a.onTriggerWrapMouseup,scope:a},scope:a})}else{a.mon(b,{click:a.onTriggerWrapClick,mouseup:a.onTriggerWrapMouseup,scope:a})}c.setVisibilityMode(Ext.Element.DISPLAY);c.addClsOnOver(a.triggerBaseCls+"-over",d,a);e=c.elements;f=e.length;for(h=0;h<f;h++){g=e[h];i=h+1;g.addClsOnOver(a["trigger"+i+"Cls"]+"-over",d,a);g.addClsOnClick(a["trigger"+i+"Cls"]+"-click",d,a)}c.addClsOnClick(a.triggerBaseCls+"-click",d,a)},onDestroy:function(){var a=this;Ext.destroyMembers(a,"triggerRepeater","triggerWrap","triggerEl");delete a.doc;a.callParent()},onFocus:function(){var a=this;a.callParent(arguments);if(!a.mimicing){a.bodyEl.addCls(a.wrapFocusCls);a.mimicing=true;a.mon(a.doc,"mousedown",a.mimicBlur,a,{delay:10});if(a.monitorTab){a.on("specialkey",a.checkTab,a)}}},checkTab:function(a,b){if(!this.ignoreMonitorTab&&b.getKey()==b.TAB){this.triggerBlur()}},getTriggerStateFlags:function(){var a=this,b=0;if(a.readOnly){b+=1}if(a.editable){b+=2}if(a.hideTrigger){b+=4}return b},onBlur:Ext.emptyFn,mimicBlur:function(a){if(!this.isDestroyed&&!this.bodyEl.contains(a.target)&&this.validateBlur(a)){this.triggerBlur(a)}},triggerBlur:function(a){var b=this;b.mimicing=false;b.mun(b.doc,"mousedown",b.mimicBlur,b);if(b.monitorTab&&b.inputEl){b.un("specialkey",b.checkTab,b)}Ext.form.field.Trigger.superclass.onBlur.call(b,a);if(b.bodyEl){b.bodyEl.removeCls(b.wrapFocusCls)}},validateBlur:function(a){return true},onTriggerWrapClick:function(){var a=this,b,c,d,e;e=arguments[a.triggerRepeater?1:0];if(e&&!a.readOnly&&!a.disabled){b=e.getTarget("."+a.triggerBaseCls,null);c=b&&b.className.match(a.triggerIndexRe);if(c){d=a["onTrigger"+(parseInt(c[1],10)+1)+"Click"]||a.onTriggerClick;if(d){d.call(a,e)}}}},onTriggerWrapMouseup:Ext.emptyFn,onTriggerClick:Ext.emptyFn});Ext.define("Ext.form.field.Picker",{extend:"Ext.form.field.Trigger",alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",requires:["Ext.util.KeyNav"],matchFieldWidth:true,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:true,initComponent:function(){this.callParent();this.addEvents("expand","collapse","select")},initEvents:function(){var a=this;a.callParent();a.keyNav=new Ext.util.KeyNav(a.inputEl,{down:a.onDownArrow,esc:{handler:a.onEsc,scope:a,defaultEventAction:false},scope:a,forceKeyDown:true});if(!a.editable){a.mon(a.inputEl,"click",a.onTriggerClick,a)}if(Ext.isGecko){a.inputEl.dom.setAttribute("autocomplete","off")}},onEsc:function(a){var b=this;if(b.isExpanded){b.collapse();a.stopEvent()}else{if(b.up("window")){b.blur()}else if(!Ext.FocusManager||!Ext.FocusManager.enabled){a.stopEvent()}}},onDownArrow:function(a){if(!this.isExpanded){this.onTriggerClick()}},expand:function(){var a=this,b,c,d;if(a.rendered&&!a.isExpanded&&!a.isDestroyed){b=a.bodyEl;c=a.getPicker();d=a.collapseIf;c.show();a.isExpanded=true;a.alignPicker();b.addCls(a.openCls);a.mon(Ext.getDoc(),{mousewheel:d,mousedown:d,scope:a});Ext.EventManager.onWindowResize(a.alignPicker,a);a.fireEvent("expand",a);a.onExpand()}},onExpand:Ext.emptyFn,alignPicker:function(){var a=this,b=a.getPicker();if(a.isExpanded){if(a.matchFieldWidth){b.setWidth(a.bodyEl.getWidth())}if(b.isFloating()){a.doAlign()}}},doAlign:function(){var a=this,b=a.picker,c="-above",d;a.picker.alignTo(a.inputEl,a.pickerAlign,a.pickerOffset);d=b.el.getY()<a.inputEl.getY();a.bodyEl[d?"addCls":"removeCls"](a.openCls+c);b[d?"addCls":"removeCls"](b.baseCls+c)},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var a=this,b=a.openCls,c=a.picker,d=Ext.getDoc(),e=a.collapseIf,f="-above";c.hide();a.isExpanded=false;a.bodyEl.removeCls([b,b+f]);c.el.removeCls(c.baseCls+f);d.un("mousewheel",e,a);d.un("mousedown",e,a);Ext.EventManager.removeResizeListener(a.alignPicker,a);a.fireEvent("collapse",a);a.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(a){var b=this;if(!b.isDestroyed&&!a.within(b.bodyEl,false,true)&&!a.within(b.picker.el,false,true)&&!b.isEventWithinPickerLoadMask(a)){b.collapse()}},getPicker:function(){var a=this;return a.picker||(a.picker=a.createPicker())},createPicker:Ext.emptyFn,onTriggerClick:function(){var a=this;if(!a.readOnly&&!a.disabled){if(a.isExpanded){a.collapse()}else{a.expand()}a.inputEl.focus()}},mimicBlur:function(a){var b=this,c=b.picker;if(!c||!a.within(c.el,false,true)&&!b.isEventWithinPickerLoadMask(a)){b.callParent(arguments)}},onDestroy:function(){var a=this,b=a.picker;Ext.EventManager.removeResizeListener(a.alignPicker,a);Ext.destroy(a.keyNav);if(b){delete b.pickerField;b.destroy()}a.callParent()},isEventWithinPickerLoadMask:function(a){var b=this.picker.loadMask;return b?a.within(b.maskEl,false,true)||a.within(b.el,false,true):false}});Ext.define("Ext.toolbar.TextItem",{extend:"Ext.toolbar.Item",requires:["Ext.XTemplate"],alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",beforeRender:function(){var a=this;a.callParent();Ext.apply(a.renderData,{text:a.text})},setText:function(a){var b=this;if(b.rendered){b.el.update(a);b.updateLayout()}else{this.text=a}}});Ext.define("Ext.form.field.Spinner",{extend:"Ext.form.field.Trigger",alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",requires:["Ext.util.KeyNav"],trigger1Cls:Ext.baseCSSPrefix+"form-spinner-up",trigger2Cls:Ext.baseCSSPrefix+"form-spinner-down",spinUpEnabled:true,spinDownEnabled:true,keyNavEnabled:true,mouseWheelEnabled:true,repeatTriggerClick:true,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,triggerTpl:'<td style="{triggerStyle}">'+'<div class="'+Ext.baseCSSPrefix+"trigger-index-0 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-up" role="button"></div>'+'<div class="'+Ext.baseCSSPrefix+"trigger-index-1 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-down" role="button"></div>'+"</td>"+"</tr>",initComponent:function(){this.callParent();this.addEvents("spin","spinup","spindown")},onRender:function(){var a=this,b;a.callParent(arguments);b=a.triggerEl;a.spinUpEl=b.item(0);a.spinDownEl=b.item(1);a.triggerCell=a.spinUpEl.parent();a.setSpinUpEnabled(a.spinUpEnabled);a.setSpinDownEnabled(a.spinDownEnabled);if(a.keyNavEnabled){a.spinnerKeyNav=new Ext.util.KeyNav(a.inputEl,{scope:a,up:a.spinUp,down:a.spinDown})}if(a.mouseWheelEnabled){a.mon(a.bodyEl,"mousewheel",a.onMouseWheel,a)}},getSubTplMarkup:function(){var a=this,b=Ext.form.field.Base.prototype.getSubTplMarkup.apply(a,arguments);return'<table id="'+a.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+'form-trigger-wrap" cellpadding="0" cellspacing="0">'+"<tbody>"+'<tr><td id="'+a.id+'-inputCell" class="'+Ext.baseCSSPrefix+'form-trigger-input-cell">'+b+"</td>"+a.getTriggerMarkup()+"</tbody></table>"},getTriggerMarkup:function(){var a=this,b=a.readOnly||a.hideTrigger;return a.getTpl("triggerTpl").apply({triggerStyle:"width:"+a.triggerWidth+(b?"px;display:none":"px")})},getTriggerWidth:function(){var a=this,b=0;if(a.triggerWrap&&!a.hideTrigger&&!a.readOnly){b=a.triggerWidth}return b},onTrigger1Click:function(){this.spinUp()},onTrigger2Click:function(){this.spinDown()},onTriggerWrapMouseup:function(){this.inputEl.focus()},spinUp:function(){var a=this;if(a.spinUpEnabled&&!a.disabled){a.fireEvent("spin",a,"up");a.fireEvent("spinup",a);a.onSpinUp()}},spinDown:function(){var a=this;if(a.spinDownEnabled&&!a.disabled){a.fireEvent("spin",a,"down");a.fireEvent("spindown",a);a.onSpinDown()}},setSpinUpEnabled:function(a){var b=this,c=b.spinUpEnabled;b.spinUpEnabled=a;if(c!==a&&b.rendered){b.spinUpEl[a?"removeCls":"addCls"](b.trigger1Cls+"-disabled")}},setSpinDownEnabled:function(a){var b=this,c=b.spinDownEnabled;b.spinDownEnabled=a;if(c!==a&&b.rendered){b.spinDownEl[a?"removeCls":"addCls"](b.trigger2Cls+"-disabled")}},onMouseWheel:function(a){var b=this,c;if(b.hasFocus){c=a.getWheelDelta();if(c>0){b.spinUp()}else if(c<0){b.spinDown()}a.stopEvent()}},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl");this.callParent()}});Ext.define("Ext.form.field.Number",{extend:"Ext.form.field.Spinner",alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowDecimals:true,decimalSeparator:".",submitLocaleSeparator:true,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:false,initComponent:function(){var a=this,b;a.callParent();a.setMinValue(a.minValue);a.setMaxValue(a.maxValue);if(a.disableKeyFilter!==true){b=a.baseChars+"";if(a.allowDecimals){b+=a.decimalSeparator}if(a.minValue<0){b+="-"}b=Ext.String.escapeRegex(b);a.maskRe=new RegExp("["+b+"]");if(a.autoStripChars){a.stripCharsRe=new RegExp("[^"+b+"]","gi")}}},getErrors:function(a){var b=this,c=b.callParent(arguments),d=Ext.String.format,e;a=Ext.isDefined(a)?a:this.processRawValue(this.getRawValue());if(a.length<1){return c}a=String(a).replace(b.decimalSeparator,".");if(isNaN(a)){c.push(d(b.nanText,a))}e=b.parseValue(a);if(b.minValue===0&&e<0){c.push(this.negativeText)}else if(e<b.minValue){c.push(d(b.minText,b.minValue))}if(e>b.maxValue){c.push(d(b.maxText,b.maxValue))}return c},rawToValue:function(a){var b=this.fixPrecision(this.parseValue(a));if(b===null){b=a||null}return b},valueToRaw:function(a){var b=this,c=b.decimalSeparator;a=b.parseValue(a);a=b.fixPrecision(a);a=Ext.isNumber(a)?a:parseFloat(String(a).replace(c,"."));a=isNaN(a)?"":String(a).replace(".",c);return a},getSubmitValue:function(){var a=this,b=a.callParent();if(!a.submitLocaleSeparator){b=b.replace(a.decimalSeparator,".")}return b},onChange:function(){this.toggleSpinners();this.callParent(arguments)},toggleSpinners:function(){var a=this,b=a.getValue(),c=b===null;a.setSpinUpEnabled(c||b<a.maxValue);a.setSpinDownEnabled(c||b>a.minValue)},setMinValue:function(a){this.minValue=Ext.Number.from(a,Number.NEGATIVE_INFINITY);this.toggleSpinners()},setMaxValue:function(a){this.maxValue=Ext.Number.from(a,Number.MAX_VALUE);this.toggleSpinners()},parseValue:function(a){a=parseFloat(String(a).replace(this.decimalSeparator,"."));return isNaN(a)?null:a},fixPrecision:function(a){var b=this,c=isNaN(a),d=b.decimalPrecision;if(c||!a){return c?"":a}else if(!b.allowDecimals||d<=0){d=0}return parseFloat(Ext.Number.toFixed(parseFloat(a),d))},beforeBlur:function(){var a=this,b=a.parseValue(a.getRawValue());if(!Ext.isEmpty(b)){a.setValue(b)}},onSpinUp:function(){var a=this;if(!a.readOnly){a.setValue(Ext.Number.constrain(a.getValue()+a.step,a.minValue,a.maxValue))}},onSpinDown:function(){var a=this;if(!a.readOnly){a.setValue(Ext.Number.constrain(a.getValue()-a.step,a.minValue,a.maxValue))}}});Ext.define("Ext.toolbar.Paging",{extend:"Ext.toolbar.Toolbar",alias:"widget.pagingtoolbar",alternateClassName:"Ext.PagingToolbar",requires:["Ext.toolbar.TextItem","Ext.form.field.Number"],mixins:{bindable:"Ext.util.Bindable"},displayInfo:false,prependButtons:false,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var a=this;return[{itemId:"first",tooltip:a.firstText,overflowText:a.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:true,handler:a.moveFirst,scope:a},{itemId:"prev",tooltip:a.prevText,overflowText:a.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:true,handler:a.movePrevious,scope:a},"-",a.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:false,minValue:1,hideTrigger:true,enableKeyEvents:true,keyNavEnabled:false,selectOnFocus:true,submitValue:false,isFormField:false,width:a.inputItemWidth,margins:"-1 2 3 2",listeners:{scope:a,keydown:a.onPagingKeyDown,blur:a.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(a.afterPageText,1)},"-",{itemId:"next",tooltip:a.nextText,overflowText:a.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:true,handler:a.moveNext,scope:a},{itemId:"last",tooltip:a.lastText,overflowText:a.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:true,handler:a.moveLast,scope:a},"-",{itemId:"refresh",tooltip:a.refreshText,overflowText:a.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",handler:a.doRefresh,scope:a}]},initComponent:function(){var a=this,b=a.getPagingItems(),c=a.items||a.buttons||[];if(a.prependButtons){a.items=c.concat(b)}else{a.items=b.concat(c)}delete a.buttons;if(a.displayInfo){a.items.push("->");a.items.push({xtype:"tbtext",itemId:"displayItem"})}a.callParent();a.addEvents("change","beforechange");a.on("beforerender",a.onLoad,a,{single:true});a.bindStore(a.store||"ext-empty-store",true)},updateInfo:function(){var a=this,b=a.child("#displayItem"),c=a.store,d=a.getPageData(),e,f;if(b){e=c.getCount();if(e===0){f=a.emptyMsg}else{f=Ext.String.format(a.displayMsg,d.fromRecord,d.toRecord,d.total)}b.setText(f)}},onLoad:function(){var a=this,b,c,d,e,f,g;f=a.store.getCount();g=f===0;if(!g){b=a.getPageData();c=b.currentPage;d=b.pageCount;e=Ext.String.format(a.afterPageText,isNaN(d)?1:d)}else{c=0;d=0;e=Ext.String.format(a.afterPageText,0)}Ext.suspendLayouts();a.child("#afterTextItem").setText(e);a.child("#inputItem").setDisabled(g).setValue(c);a.child("#first").setDisabled(c===1||g);a.child("#prev").setDisabled(c===1||g);a.child("#next").setDisabled(c===d||g);a.child("#last").setDisabled(c===d||g);a.child("#refresh").enable();a.updateInfo();Ext.resumeLayouts(true);if(a.rendered){a.fireEvent("change",a,b)}},getPageData:function(){var a=this.store,b=a.getTotalCount();return{total:b,currentPage:a.currentPage,pageCount:Math.ceil(b/a.pageSize),fromRecord:(a.currentPage-1)*a.pageSize+1,toRecord:Math.min(a.currentPage*a.pageSize,b)}},onLoadError:function(){if(!this.rendered){return}this.child("#refresh").enable()},readPageFromInput:function(a){var b=this.child("#inputItem").getValue(),c=parseInt(b,10);if(!b||isNaN(c)){this.child("#inputItem").setValue(a.currentPage);return false}return c},onPagingFocus:function(){this.child("#inputItem").select()},onPagingBlur:function(a){var b=this.getPageData().currentPage;this.child("#inputItem").setValue(b)},onPagingKeyDown:function(a,b){var c=this,d=b.getKey(),e=c.getPageData(),f=b.shiftKey?10:1,g;if(d==b.RETURN){b.stopEvent();g=c.readPageFromInput(e);if(g!==false){g=Math.min(Math.max(1,g),e.pageCount);if(c.fireEvent("beforechange",c,g)!==false){c.store.loadPage(g)}}}else if(d==b.HOME||d==b.END){b.stopEvent();g=d==b.HOME?1:e.pageCount;a.setValue(g)}else if(d==b.UP||d==b.PAGE_UP||d==b.DOWN||d==b.PAGE_DOWN){b.stopEvent();g=c.readPageFromInput(e);if(g){if(d==b.DOWN||d==b.PAGE_DOWN){f*=-1}g+=f;if(g>=1&&g<=e.pageCount){a.setValue(g)}}}},beforeLoad:function(){if(this.rendered&&this.refresh){this.refresh.disable()}},moveFirst:function(){if(this.fireEvent("beforechange",this,1)!==false){this.store.loadPage(1)}},movePrevious:function(){var a=this,b=a.store.currentPage-1;if(b>0){if(a.fireEvent("beforechange",a,b)!==false){a.store.previousPage()}}},moveNext:function(){var a=this,b=a.getPageData().pageCount,c=a.store.currentPage+1;if(c<=b){if(a.fireEvent("beforechange",a,c)!==false){a.store.nextPage()}}},moveLast:function(){var a=this,b=a.getPageData().pageCount;if(a.fireEvent("beforechange",a,b)!==false){a.store.loadPage(b)}},doRefresh:function(){var a=this,b=a.store.currentPage;if(a.fireEvent("beforechange",a,b)!==false){a.store.loadPage(b)}},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},unbind:function(a){this.bindStore(null)},bind:function(a){this.bindStore(a)},onDestroy:function(){this.unbind();this.callParent()}});Ext.define("Ext.dd.DragDrop",{requires:["Ext.dd.DragDropManager"],constructor:function(a,b,c){if(a){this.init(a,b,c)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(a,b){},startDrag:function(a,b){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(a,b){},b4DragOver:function(a){},onDragOver:function(a,b){},b4DragOut:function(a){},onDragOut:function(a,b){},b4DragDrop:function(a){},onDragDrop:function(a,b){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(a,b,c){if(Ext.isNumber(b)){b={left:b,right:b,top:b,bottom:b}}b=b||this.defaultPadding;var d=Ext.get(this.getEl()).getBox(),e=Ext.get(a),f=e.getScroll(),g,h=e.dom,i,j,k;if(h==document.body){g={x:f.left,y:f.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()}}else{i=e.getXY();g={x:i[0],y:i[1],width:h.clientWidth,height:h.clientHeight}}j=d.y-g.y;k=d.x-g.x;this.resetConstraints();this.setXConstraint(k-(b.left||0),g.width-k-d.width-(b.right||0),this.xTickSize);this.setYConstraint(j-(b.top||0),g.height-j-d.height-(b.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(a,b,c){this.initTarget(a,b,c);Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(a,b,c){this.config=c||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof a!=="string"){a=Ext.id(a)}this.id=a;this.addToGroup(b?b:"default");this.handleElId=a;this.setDragElId(a);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=this.config.isTarget!==false;this.maintainOffset=this.config.maintainOffset;this.primaryButtonOnly=this.config.primaryButtonOnly!==false},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(a,b,c,d){if(!b&&0!==b){this.padding=[a,a,a,a]}else if(!c&&0!==c){this.padding=[a,b,a,b]}else{this.padding=[a,b,c,d]}},setInitPosition:function(a,b){var c=this.getEl(),d,e,f;if(!this.DDMInstance.verifyEl(c)){return}d=a||0;e=b||0;f=Ext.Element.getXY(c);this.initPageX=f[0]-d;this.initPageY=f[1]-e;this.lastPageX=f[0];this.lastPageY=f[1];this.setStartPosition(f)},setStartPosition:function(a){var b=a||Ext.Element.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=b[0];this.startPageY=b[1]},addToGroup:function(a){this.groups[a]=true;this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){if(this.groups[a]){delete this.groups[a]}this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.handleElId=a;this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}Ext.EventManager.on(a,"mousedown",this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=true},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this);this._domRef=null;this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(a,b){if(this.primaryButtonOnly&&a.button!=0){return}if(this.isLocked()){return}this.DDMInstance.refreshCache(this.groups);if(this.hasOuterHandles||this.DDMInstance.isOverTarget(a.getPoint(),this)){if(this.clickValidator(a)){this.setStartPosition();this.b4MouseDown(a);this.onMouseDown(a);this.DDMInstance.handleMouseDown(a,this);this.DDMInstance.stopEvent(a)}}},clickValidator:function(a){var b=a.getTarget();return this.isValidHandleChild(b)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(b,this.id))},addInvalidHandleType:function(a){var b=a.toUpperCase();this.invalidHandleTypes[b]=b},addInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){var b=a.toUpperCase();delete this.invalidHandleTypes[b]},removeInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(a){for(var b=0,c=this.invalidHandleClasses.length;b<c;++b){if(this.invalidHandleClasses[b]==a){delete this.invalidHandleClasses[b]}}},isValidHandleChild:function(a){var b=true,c,d,e;try{c=a.nodeName.toUpperCase()}catch(f){c=a.nodeName}b=b&&!this.invalidHandleTypes[c];b=b&&!this.invalidHandleIds[a.id];for(d=0,e=this.invalidHandleClasses.length;b&&d<e;++d){b=!Ext.fly(a).hasCls(this.invalidHandleClasses[d])}return b},setXTicks:function(a,b){this.xTicks=[];this.xTickSize=b;var c={},d;for(d=this.initPageX;d>=this.minX;d=d-b){if(!c[d]){this.xTicks[this.xTicks.length]=d;c[d]=true}}for(d=this.initPageX;d<=this.maxX;d=d+b){if(!c[d]){this.xTicks[this.xTicks.length]=d;c[d]=true}}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(a,b){this.yTicks=[];this.yTickSize=b;var c={},d;for(d=this.initPageY;d>=this.minY;d=d-b){if(!c[d]){this.yTicks[this.yTicks.length]=d;c[d]=true}}for(d=this.initPageY;d<=this.maxY;d=d+b){if(!c[d]){this.yTicks[this.yTicks.length]=d;c[d]=true}}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(a,b,c){this.leftConstraint=a;this.rightConstraint=b;this.minX=this.initPageX-a;this.maxX=this.initPageX+b;if(c){this.setXTicks(this.initPageX,c)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(a,b,c){this.topConstraint=a;this.bottomConstraint=b;this.minY=this.initPageY-a;this.maxY=this.initPageY+b;if(c){this.setYTicks(this.initPageY,c)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var a=this.maintainOffset?this.lastPageX-this.initPageX:0,b=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(a,b)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(a,b){if(!b){return a}else if(b[0]>=a){return b[0]}else{var c,d,e,f,g;for(c=0,d=b.length;c<d;++c){e=c+1;if(b[e]&&b[e]>=a){f=a-b[c];g=b[e]-a;return g>f?b[c]:b[e]}}return b[b.length-1]}},toString:function(){return"DragDrop "+this.id}});Ext.define("Ext.dd.DD",{extend:"Ext.dd.DragDrop",requires:["Ext.dd.DragDropManager"],constructor:function(a,b,c){if(a){this.init(a,b,c)}},scroll:true,autoOffset:function(a,b){var c=a-this.startPageX,d=b-this.startPageY;this.setDelta(c,d)},setDelta:function(a,b){this.deltaX=a;this.deltaY=b},setDragElPos:function(a,b){var c=this.getDragEl();this.alignElWithMouse(c,a,b)},alignElWithMouse:function(a,b,c){var d=this.getTargetCoord(b,c),e=a.dom?a:Ext.fly(a,"_dd"),f=e.getSize(),g=Ext.Element,h,i,j,k;if(!this.deltaSetXY){h=this.cachedViewportSize={width:g.getDocumentWidth(),height:g.getDocumentHeight()};i=[Math.max(0,Math.min(d.x,h.width-f.width)),Math.max(0,Math.min(d.y,h.height-f.height))];e.setXY(i);j=e.getLocalX();k=e.getLocalY();this.deltaSetXY=[j-d.x,k-d.y]}else{h=this.cachedViewportSize;e.setLeftTop(Math.max(0,Math.min(d.x+this.deltaSetXY[0],h.width-f.width)),Math.max(0,Math.min(d.y+this.deltaSetXY[1],h.height-f.height)))}this.cachePosition(d.x,d.y);this.autoScroll(d.x,d.y,a.offsetHeight,a.offsetWidth);return d},cachePosition:function(a,b){if(a){this.lastPageX=a;this.lastPageY=b}else{var c=Ext.Element.getXY(this.getEl());this.lastPageX=c[0];this.lastPageY=c[1]}},autoScroll:function(a,b,c,d){if(this.scroll){var e=Ext.Element.getViewHeight(),f=Ext.Element.getViewWidth(),g=this.DDMInstance.getScrollTop(),h=this.DDMInstance.getScrollLeft(),i=c+b,j=d+a,k=e+g-b-this.deltaY,l=f+h-a-this.deltaX,m=40,n=document.all?80:30;if(i>e&&k<m){window.scrollTo(h,g+n)}if(b<g&&g>0&&b-g<m){window.scrollTo(h,g-n)}if(j>f&&l<m){window.scrollTo(h+n,g)}if(a<h&&h>0&&a-h<m){window.scrollTo(h-n,g)}}},getTargetCoord:function(a,b){var c=a-this.deltaX,d=b-this.deltaY;if(this.constrainX){if(c<this.minX){c=this.minX}if(c>this.maxX){c=this.maxX}}if(this.constrainY){if(d<this.minY){d=this.minY}if(d>this.maxY){d=this.maxY}}c=this.getTick(c,this.xTicks);d=this.getTick(d,this.yTicks);return{x:c,y:d}},applyConfig:function(){this.callParent();this.scroll=this.config.scroll!==false},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return"DD "+this.id}});Ext.define("Ext.dd.DDProxy",{extend:"Ext.dd.DD",statics:{dragElId:"ygddfdiv"},constructor:function(a,b,c){if(a){this.init(a,b,c);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var a=this,b=document.body,c,d;if(!b||!b.firstChild){setTimeout(function(){a.createFrame()},50);return}c=this.getDragEl();if(!c){c=document.createElement("div");c.id=this.dragElId;d=c.style;d.position="absolute";d.visibility="hidden";d.cursor="move";d.border="2px solid #aaa";d.zIndex=999;b.insertBefore(c,b.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=this.config.resizeFrame!==false;this.centerFrame=this.config.centerFrame;this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(a,b){var c=this.getEl(),d=this.getDragEl(),e=d.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(e.width,10)/2),Math.round(parseInt(e.height,10)/2))}this.setDragElPos(a,b);Ext.fly(d).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c);this.setDragElPos(b,c)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide()},endDrag:function(a){var b=this.getEl(),c=this.getDragEl();c.style.visibility="";this.beforeMove();b.style.visibility="hidden";Ext.dd.DDM.moveToEl(b,c);c.style.visibility="hidden";b.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}});Ext.define("Ext.dd.DragSource",{extend:"Ext.dd.DDProxy",requires:["Ext.dd.StatusProxy","Ext.dd.DragDropManager"],dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:true,repairHighlightColor:"c3daf9",constructor:function(a,b){this.el=Ext.get(a);if(!this.dragData){this.dragData={}}Ext.apply(this,b);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})}this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true}]);this.dragging=false},getDragData:function(a){return this.dragData},onDragEnter:function(a,b){var c=Ext.dd.DragDropManager.getDDById(b),d;this.cachedTarget=c;if(this.beforeDragEnter(c,a,b)!==false){if(c.isNotifyTarget){d=c.notifyEnter(this,a,this.dragData);this.proxy.setStatus(d)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(c,a,b)}}},beforeDragEnter:function(a,b,c){return true},onDragOver:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b),d;if(this.beforeDragOver(c,a,b)!==false){if(c.isNotifyTarget){d=c.notifyOver(this,a,this.dragData);this.proxy.setStatus(d)}if(this.afterDragOver){this.afterDragOver(c,a,b)}}},beforeDragOver:function(a,b,c){return true},onDragOut:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragOut(c,a,b)!==false){if(c.isNotifyTarget){c.notifyOut(this,a,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(c,a,b)}}this.cachedTarget=null},beforeDragOut:function(a,b,c){return true},onDragDrop:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragDrop(c,a,b)!==false){if(c.isNotifyTarget){if(c.notifyDrop(this,a,this.dragData)!==false){this.onValidDrop(c,a,b)}else{this.onInvalidDrop(c,a,b)}}else{this.onValidDrop(c,a,b)}if(this.afterDragDrop){this.afterDragDrop(c,a,b)}}delete this.cachedTarget},beforeDragDrop:function(a,b,c){return true},onValidDrop:function(a,b,c){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(a,b,c)}},getRepairXY:function(a,b){return this.el.getXY()},onInvalidDrop:function(a,b,c){if(!b){b=a;a=null;c=b.getTarget().id}this.beforeInvalidDrop(a,b,c);if(this.cachedTarget){if(this.cachedTarget.isNotifyTarget){this.cachedTarget.notifyOut(this,b,this.dragData)}this.cacheTarget=null}this.proxy.repair(this.getRepairXY(b,this.dragData),this.afterRepair,this);if(this.afterInvalidDrop){this.afterInvalidDrop(b,c)}},afterRepair:function(){var a=this;if(Ext.enableFx){a.el.highlight(a.repairHighlightColor)}a.dragging=false},beforeInvalidDrop:function(a,b,c){return true},handleMouseDown:function(a){if(this.dragging){return}var b=this.getDragData(a);if(b&&this.onBeforeDrag(b,a)!==false){this.dragData=b;this.proxy.stop();this.callParent(arguments)}},onBeforeDrag:function(a,b){return true},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(true);return this.callParent(arguments)},startDrag:function(a,b){this.proxy.reset();this.proxy.hidden=false;this.dragging=true;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(a,b){var c=this.el.dom.cloneNode(true);c.id=Ext.id();this.proxy.update(c);this.onStartDrag(a,b);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20)},destroy:function(){this.callParent();Ext.destroy(this.proxy)}});Ext.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(a,b){var c=this;c.panel=a;c.dragData={panel:a};c.panelProxy=new Ext.panel.Proxy(a,b);c.proxy=c.panelProxy.proxy;c.callParent([a.el,b]);c.setupEl(a)},setupEl:function(a){var b=this,c=a.header,d=a.body;if(c){b.setHandleElId(c.id);d=c.el}if(d){d.setStyle("cursor","move");b.scroll=false}else{a.on("boxready",b.setupEl,b,{single:true})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(a,b){this.panelProxy.show()},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c)},onInitDrag:function(a,b){this.onStartDrag(a,b);return true},createFrame:Ext.emptyFn,getDragEl:function(a){return this.panelProxy.ghost.el.dom},endDrag:function(a){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b)},onInvalidDrop:function(a,b,c){var d=this;d.beforeInvalidDrop(a,b,c);if(d.cachedTarget){if(d.cachedTarget.isNotifyTarget){d.cachedTarget.notifyOut(d,b,d.dragData)}d.cacheTarget=null}if(d.afterInvalidDrop){d.afterInvalidDrop(b,c)}}});Ext.define("Ext.panel.Panel",{extend:"Ext.panel.AbstractPanel",requires:["Ext.panel.Header","Ext.fx.Anim","Ext.util.KeyMap","Ext.panel.DD","Ext.XTemplate","Ext.layout.component.Dock","Ext.util.Memento"],alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:false,collapseFirst:true,hideCollapseTool:false,titleCollapse:false,floatable:true,collapsible:false,closable:false,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:false,header:undefined,headerPosition:"top",frame:false,frameHeader:true,titleAlign:"left",manageHeight:true,initComponent:function(){var a=this;a.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange");if(a.collapsible){this.addStateEvents(["expand","collapse"])}if(a.unstyled){a.setUI("plain")}if(a.frame){a.setUI(a.ui+"-framed")}a.bridgeToolbars();a.callParent();a.collapseDirection=a.collapseDirection||a.headerPosition||Ext.Component.DIRECTION_TOP;a.hiddenOnCollapse=new Ext.dom.CompositeElement},beforeDestroy:function(){var a=this;Ext.destroy(a.placeholder,a.ghostPanel,a.dd);a.callParent()},initAria:function(){this.callParent();this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var a=this,b=a.el,c=a.header;if(b&&c){b.dom.setAttribute("aria-labelledby",c.titleCmp.id)}},getHeader:function(){return this.header},setTitle:function(a){var b=this,c=b.title,d=b.header,e=b.reExpander,f=b.placeholder;b.title=a;if(d){if(d.isHeader){d.setTitle(a)}else{d.title=a}}else{b.updateHeader()}if(e){e.setTitle(a)}if(f&&f.setTitle){f.setTitle(a)}b.fireEvent("titlechange",b,a,c)},setIconCls:function(a){var b=this,c=b.iconCls,d=b.header,e=b.placeholder;b.iconCls=a;if(d){if(d.isHeader){d.setIconCls(a)}else{d.iconCls=a}}else{b.updateHeader()}if(e&&e.setIconCls){e.setIconCls(a)}b.fireEvent("iconclschange",b,a,c)},setIcon:function(a){var b=this,c=b.icon,d=b.header,e=b.placeholder;b.icon=a;if(d){if(d.isHeader){d.setIcon(a)}else{d.icon=a}}else{b.updateHeader()}if(e&&e.setIcon){e.setIcon(a)}b.fireEvent("iconchange",b,a,c)},bridgeToolbars:function(){function f(b,c,d){if(Ext.isArray(b)){b={xtype:"toolbar",items:b}}else if(!b.xtype){b.xtype="toolbar"}b.dock=c;if(c=="left"||c=="right"){b.vertical=true}if(d){b.layout=Ext.applyIf(b.layout||{},{pack:{left:"start",center:"center"}[a.buttonAlign]||"end"})}return b}var a=this,b=[],c,d,e=a.minButtonWidth;if(a.tbar){b.push(f(a.tbar,"top"));a.tbar=null}if(a.bbar){b.push(f(a.bbar,"bottom"));a.bbar=null}if(a.buttons){a.fbar=a.buttons;a.buttons=null}if(a.fbar){c=f(a.fbar,"bottom",true);c.ui="footer";if(e){d=c.defaults;c.defaults=function(a){var b=d||{};if((!a.xtype||a.xtype==="button"||a.isComponent&&a.isXType("button"))&&!("minWidth"in b)){b=Ext.apply({minWidth:e},b)}return b}}b.push(c);a.fbar=null}if(a.lbar){b.push(f(a.lbar,"left"));a.lbar=null}if(a.rbar){b.push(f(a.rbar,"right"));a.rbar=null}if(a.dockedItems){if(!Ext.isArray(a.dockedItems)){a.dockedItems=[a.dockedItems]}a.dockedItems=a.dockedItems.concat(b)}else{a.dockedItems=b}},isPlaceHolderCollapse:function(){return this.collapseMode=="placeholder"},onBoxReady:function(){this.callParent();if(this.collapsed){this.setHiddenDocked()}},beforeRender:function(){var a=this,b;a.callParent();a.initTools();if(!(a.preventHeader||a.header===false)){a.updateHeader()}if(a.collapsed){if(a.isPlaceHolderCollapse()){a.hidden=true;a.placeholderCollapse();b=a.collapsed;a.collapsed=false}else{a.beginCollapse();a.addClsWithUI(a.collapsedCls)}}if(b){a.collapsed=b}},initTools:function(){var a=this;a.tools=a.tools?Ext.Array.clone(a.tools):[];if(a.collapsible&&!(a.hideCollapseTool||a.header===false||a.preventHeader)){a.collapseDirection=a.collapseDirection||a.headerPosition||"top";a.collapseTool=a.expandTool=Ext.widget({xtype:"tool",type:a.collapsed&&!a.isPlaceHolderCollapse()?"expand-"+a.getOppositeDirection(a.collapseDirection):"collapse-"+a.collapseDirection,handler:a.toggleCollapse,scope:a});if(a.collapseFirst){a.tools.unshift(a.collapseTool)}}a.addTools();if(a.closable){a.addClsWithUI("closable");a.addTool({type:"close",handler:Ext.Function.bind(a.close,a,[])})}if(a.collapseTool&&!a.collapseFirst){a.addTool(a.collapseTool)}},addTools:Ext.emptyFn,close:function(){if(this.fireEvent("beforeclose",this)!==false){this.doClose()}},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},updateHeader:function(a){var b=this,c=b.header,d=b.title,e=b.tools,f=b.icon||b.iconCls,g=b.headerPosition=="left"||b.headerPosition=="right";if(c!==false&&(a||d||f||e&&e.length||b.collapsible&&!b.titleCollapse)){if(c&&c.isHeader){c.show()}else{c=b.header=Ext.widget(Ext.apply({xtype:"header",title:d,titleAlign:b.titleAlign,orientation:g?"vertical":"horizontal",dock:b.headerPosition||"top",textCls:b.headerTextCls,iconCls:b.iconCls,icon:b.icon,baseCls:b.baseCls+"-header",tools:e,ui:b.ui,id:b.id+"_header",indicateDrag:b.draggable,frame:(b.frame||b.alwaysFramed)&&b.frameHeader,ignoreParentFrame:b.frame||b.overlapHeader,ignoreBorderManagement:b.frame||b.ignoreHeaderBorderManagement,listeners:b.collapsible&&b.titleCollapse?{click:b.toggleCollapse,scope:b}:null},b.header));b.addDocked(c,0);b.tools=c.tools}b.initHeaderAria()}else if(c){c.hide()}},setUI:function(a){var b=this;b.callParent(arguments);if(b.header&&b.header.rendered){b.header.setUI(a)}},getContentTarget:function(){return this.body},getTargetEl:function(){var a=this;return a.body||a.protoBody||a.frameBody||a.el},isVisible:function(a){var b=this;if(b.collapsed&&b.placeholder){return b.placeholder.isVisible(a)}return b.callParent(arguments)},onHide:function(){var a=this;if(a.collapsed&&a.placeholder){a.placeholder.hide()}else{a.callParent(arguments)}},onShow:function(){var a=this;if(a.collapsed&&a.placeholder){a.hidden=true;a.placeholder.show()}else{a.callParent(arguments)}},onRemoved:function(a){var b=this;b.callParent(arguments);if(b.placeholder&&!a){b.ownerCt.remove(b.placeholder,false)}},addTool:function(a){a=[].concat(a);var b=this,c=b.header,d,e=a.length,f;for(d=0;d<e;d++){f=a[d];b.tools.push(f);if(c&&c.isHeader){c.addTool(f)}}b.updateHeader()},getOppositeDirection:function(a){var b=Ext.Component;switch(a){case b.DIRECTION_TOP:return b.DIRECTION_BOTTOM;case b.DIRECTION_RIGHT:return b.DIRECTION_LEFT;case b.DIRECTION_BOTTOM:return b.DIRECTION_TOP;case b.DIRECTION_LEFT:return b.DIRECTION_RIGHT}},getWidthAuthority:function(){if(this.collapsed&&this.collapsedHorizontal()){return 1}return this.callParent()},getHeightAuthority:function(){if(this.collapsed&&this.collapsedVertical()){return 1}return this.callParent()},collapsedHorizontal:function(){var a=this.getCollapsed();return a=="left"||a=="right"},collapsedVertical:function(){var a=this.getCollapsed();return a=="top"||a=="bottom"},restoreDimension:function(){var a=this.collapseDirection;return a==="top"||a==="bottom"?"height":"width"},getCollapsed:function(){var a=this;if(a.collapsed===true){return a.collapseDirection}return a.collapsed},getState:function(){var a=this,b=a.callParent(),c;b=a.addPropertyToState(b,"collapsed");if(a.collapsed){c=a.collapseMemento;c=c&&c.data;if(a.collapsedVertical()){if(b){delete b.height}if(c){b=a.addPropertyToState(b,"height",c.height)}}else{if(b){delete b.width}if(c){b=a.addPropertyToState(b,"width",c.width)}}}return b},findReExpander:function(a){var b=this,c=Ext.Component,d=b.dockedItems.items,e=d.length,f,g;if(b.collapseMode=="mini"){return}switch(a){case c.DIRECTION_TOP:case c.DIRECTION_BOTTOM:for(g=0;g<e;g++){f=d[g];if(!f.hidden){if(f.isHeader&&(!f.dock||f.dock=="top"||f.dock=="bottom")){return f}}}break;case c.DIRECTION_LEFT:case c.DIRECTION_RIGHT:for(g=0;g<e;g++){f=d[g];if(!f.hidden){if(f.isHeader&&(f.dock=="left"||f.dock=="right")){return f}}}break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},getReExpander:function(a){var b=this,c=a||b.collapseDirection,d=b.reExpander||b.findReExpander(c);b.expandDirection=b.getOppositeDirection(c);if(!d){b.reExpander=d=b.createReExpander(c,{dock:c,cls:Ext.baseCSSPrefix+"docked "+b.baseCls+"-"+b.ui+"-collapsed",ownerCt:b,ownerLayout:b.componentLayout});b.dockedItems.insert(0,d)}return d},createReExpander:function(a,b){var c=this,d=a=="left",e=a=="right",f=d||e,g,h=Ext.apply({hideMode:"offsets",title:c.title,orientation:f?"vertical":"horizontal",textCls:c.headerTextCls,icon:c.icon,iconCls:c.iconCls,baseCls:c.baseCls+"-header",ui:c.ui,frame:c.frame&&c.frameHeader,ignoreParentFrame:c.frame||c.overlapHeader,indicateDrag:c.draggable},b);if(c.collapseMode=="mini"){if(f){h.width=1}else{h.height=1}}if(!c.hideCollapseTool){g=d||e&&c.isPlaceHolderCollapse();h[g?"items":"tools"]=[{xtype:"tool",type:"expand-"+c.getOppositeDirection(a),uiCls:["top"],handler:c.toggleCollapse,scope:c}]}h=new Ext.panel.Header(h);h.addClsWithUI(c.getHeaderCollapsedClasses(h));return h},getHeaderCollapsedClasses:function(a){var b=this,c=b.collapsedCls,d;d=[c,c+"-"+a.dock];if(b.border&&(!b.frame||b.frame&&Ext.supports.CSS3BorderRadius)){d.push(c+"-border-"+a.dock)}return d},beginCollapse:function(){var a=this,b=a.lastBox,c=a.rendered,d=a.collapseMemento||(a.collapseMemento=new Ext.util.Memento(a)),e=a.getSizeModel(),f;d.capture(["height","minHeight","width","minWidth"]);if(b){d.capture(a.restoreDimension(),b,"last.")}if(a.collapsedVertical()){if(e.width.shrinkWrap){a.width=c?a.getWidth():a.width||a.minWidth||100}delete a.height;a.minHeight=0}else if(a.collapsedHorizontal()){if(e.height.shrinkWrap){a.height=c?a.getHeight():a.height||a.minHeight||100}delete a.width;a.minWidth=0}if(a.ownerCt){a.ownerCt.getLayout().beginCollapse(a)}if(!a.isPlaceHolderCollapse()){if(a.header===(f=a.getReExpander())){a.header.addClsWithUI(a.getHeaderCollapsedClasses(a.header));if(a.header.rendered){a.header.updateFrame()}}else{if(f.el){f.el.show();f.hidden=false}}}if(a.resizer){a.resizer.disable()}},beginExpand:function(){var a=this,b=a.lastBox,c=a.collapseMemento,d=this.restoreDimension(),e;c.restore(["minHeight","minWidth",d]);if(b){c.restore(d,true,b,"last.")}if(a.ownerCt){a.ownerCt.getLayout().beginExpand(a)}if(!a.isPlaceHolderCollapse()){if(a.header===(e=a.getReExpander())){a.header.removeClsWithUI(a.getHeaderCollapsedClasses(a.header));if(a.header.rendered){a.header.updateFrame()}}else{e.hidden=true;e.el.hide()}}if(a.resizer){a.resizer.enable()}},collapse:function(a,b){var c=this,d=a||c.collapseDirection,e=c.ownerCt;if(c.isCollapsingOrExpanding){return c}if(arguments.length<2){b=c.animCollapse}if(c.collapsed||c.fireEvent("beforecollapse",c,a,b)===false){return c}if(e&&c.isPlaceHolderCollapse()){return c.placeholderCollapse(a,b)}c.collapsed=d;c.beginCollapse();c.fireHierarchyEvent("collapse");return c.doCollapseExpand(1,b)},doCollapseExpand:function(a,b){var c=this,d=c.animCollapse,e=c.ownerLayout;c.animCollapse=b;c.isCollapsingOrExpanding=a;if(e&&!b){e.onContentChange(c)}else{c.updateLayout({isRoot:true})}c.animCollapse=d;return c},afterCollapse:function(a){var b=this,c=b.ownerLayout;b.isCollapsingOrExpanding=0;if(b.collapseTool){b.collapseTool.setType("expand-"+b.getOppositeDirection(b.collapseDirection))}if(c&&a){c.onContentChange(b)}b.setHiddenDocked();b.fireEvent("collapse",b)},setHiddenDocked:function(){var a=this,b=a.hiddenOnCollapse,c=a.getReExpander(),d=a.getDockedItems(),e=d.length,f=0,g;b.add(a.body);for(;f<e;f++){g=d[f];if(g&&g!==c&&g.el){b.add(g.el)}}b.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var a=this.hiddenOnCollapse;a.setStyle("visibility","");a.clear()},getPlaceholder:function(a){var b=this,c=a||b.collapseDirection,d=null,e=b.placeholder;if(!e){if(b.floatable||b.collapsible&&b.titleCollapse){d={click:{fn:b.floatable?b.floatCollapsedPanel:b.toggleCollapse,element:"el",scope:b}}}b.placeholder=e=Ext.widget(b.createReExpander(c,{id:b.id+"-placeholder",listeners:d}))}if(!e.placeholderFor){if(!e.isComponent){b.placeholder=e=b.lookupComponent(e)}Ext.applyIf(e,{margins:b.margins,placeholderFor:b});e.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+c+"-placeholder",b.collapsedCls])}return e},placeholderCollapse:function(a,b){var c=this,d=c.ownerCt,e=a||c.collapseDirection,f=Ext.baseCSSPrefix+"border-region-slide-in",g=c.getPlaceholder(a);c.isCollapsingOrExpanding=1;c.hidden=true;c.collapsed=e;if(g.rendered){if(g.el.dom.parentNode!==c.el.dom.parentNode){c.el.dom.parentNode.insertBefore(g.el.dom,c.el.dom)}g.hidden=false;g.el.show();d.updateLayout()}else{d.insert(d.items.indexOf(c),g)}if(c.rendered){c.el.setVisibilityMode(c.placeholderCollapseHideMode);if(b){c.el.addCls(f);g.el.hide();c.el.slideOut(e.substr(0,1),{preserveScroll:true,duration:Ext.Number.from(b,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){c.el.removeCls(f);g.el.show().setStyle("display","none").slideIn(e.substr(0,1),{easing:"linear",duration:100,listeners:{afteranimate:function(){g.focus();c.isCollapsingOrExpanding=0;c.fireEvent("collapse",c)}}})}}})}else{c.el.hide();c.isCollapsingOrExpanding=0;c.fireEvent("collapse",c)}}else{c.isCollapsingOrExpanding=0;c.fireEvent("collapse",c)}return c},floatCollapsedPanel:function(){function i(c){if(!a.isDestroyed){var d=a.el.getRegion().union(b.el.getRegion()).adjust(1,-1,-1,1);if(!d.contains(c.getPoint())){a.slideOutFloatedPanel()}}}var a=this,b=a.placeholder,c=b.getBox(true),d,e=Ext.baseCSSPrefix+"border-region-slide-in",f=a.collapsed,g=a.ownerCt||a,h;if(a.el.hasCls(e)){a.slideOutFloatedPanel();return}if(a.isSliding){return}a.isSliding=true;a.placeholder.el.hide();a.placeholder.hidden=true;a.el.show();a.hidden=false;a.collapsed=false;g.updateLayout();d=a.getBox(true);a.placeholder.el.show();a.placeholder.hidden=false;a.el.hide();a.hidden=true;a.collapsed=f;g.updateLayout();a.placeholderMouseMon=b.el.monitorMouseLeave(500,i);a.panelMouseMon=a.el.monitorMouseLeave(500,i);a.el.addCls(e);if(a.collapseTool){a.collapseTool.el.hide()}switch(a.collapsed){case"top":a.el.setLeftTop(c.x,c.y+c.height-1);h="t";break;case"right":a.el.setLeftTop(c.x-d.width+1,c.y);h="r";break;case"bottom":a.el.setLeftTop(c.x,c.y-d.height+1);h="b";break;case"left":a.el.setLeftTop(c.x+c.width-1,c.y);h="l";break}a.floatedFromCollapse=a.collapsed;a.collapsed=a.hidden=false;a.el.slideIn(h,{preserveScroll:true,listeners:{afteranimate:function(){a.isSliding=false}}})},isLayoutRoot:function(){if(this.floatedFromCollapse){return true}return this.callParent()},slideOutFloatedPanel:function(){var a=this,b=this.el,c;if(a.isSliding){return}a.isSliding=true;a.slideOutFloatedPanelBegin();if(typeof a.collapsed=="string"){c=a.collapsed.charAt(0)}b.slideOut(c,{preserveScroll:true,listeners:{afteranimate:function(){a.slideOutFloatedPanelEnd();a.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in");a.isSliding=false}}})},slideOutFloatedPanelBegin:function(){var a=this,b=this.el;a.collapsed=a.floatedFromCollapse;a.hidden=true;a.floatedFromCollapse=null;b.un(a.panelMouseMon);a.placeholder.el.un(a.placeholderMouseMon)},slideOutFloatedPanelEnd:function(){if(this.collapseTool){this.collapseTool.el.show()}},expand:function(a){var b=this;if(b.isCollapsingOrExpanding){return b}if(!arguments.length){a=b.animCollapse}if(!b.collapsed&&!b.floatedFromCollapse){return b}if(b.fireEvent("beforeexpand",b,a)===false){return b}if(b.isPlaceHolderCollapse()){return b.placeholderExpand(a)}b.restoreHiddenDocked();b.beginExpand();b.collapsed=false;b.fireHierarchyEvent("expand");return b.doCollapseExpand(2,a)},placeholderExpand:function(a){var b=this,c=b.collapsed,d=Ext.baseCSSPrefix+"border-region-slide-in",e,f,g;if(b.floatedFromCollapse){f=b.getPosition(true);b.slideOutFloatedPanelBegin();b.slideOutFloatedPanelEnd()}b.isCollapsingOrExpanding=2;b.placeholder.hidden=true;b.placeholder.el.hide();b.collapsed=false;b.show();if(a){if(f){e=b.el.getXY();b.el.setLeftTop(f[0],f[1]);b.el.moveTo(e[0],e[1],{duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){b.el.removeCls(d);b.isCollapsingOrExpanding=0;b.fireEvent("expand",b)}}})}else{b.hidden=true;b.el.addCls(d);b.el.hide();b.collapsed=c;b.placeholder.show();g=c.substr(0,1);b.hidden=false;b.el.slideIn(g,{preserveScroll:true,duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){b.collapsed=false;b.el.removeCls(d);b.placeholder.hide();b.isCollapsingOrExpanding=0;b.fireEvent("expand",b)}}})}}else{b.isCollapsingOrExpanding=0;b.fireEvent("expand",b)}return b},afterExpand:function(a){var b=this,c=b.ownerLayout;b.isCollapsingOrExpanding=0;if(b.collapseTool){b.collapseTool.setType("collapse-"+b.collapseDirection)}if(c&&a){c.onContentChange(b)}b.fireEvent("expand",b)},setBorder:function(a,b){if(b){return}var c=this,d=c.header;if(!a){a=0}else{a=Ext.Element.unitizeBox(a===true?1:a)}if(d){if(d.isHeader){d.setBorder(a)}else{d.border=a}}if(c.rendered&&c.bodyBorder!==false){c.body.setStyle("border-width",a)}c.updateLayout();c.border=a},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},ghostTools:function(){var a=[],b=this.header,c=b?b.query("tool[hidden=false]"):[],d,e,f;if(c.length){d=0;e=c.length;for(;d<e;d++){f=c[d];a.push({type:f.type})}}else{a=[{type:"placeholder"}]}return a},ghost:function(a){var b=this,c=b.ghostPanel,d=b.getBox(),e;if(!c){c=new Ext.panel.Panel({renderTo:document.body,floating:{shadow:false},frame:b.frame&&!b.alwaysFramed,alwaysFramed:b.alwaysFramed,overlapHeader:b.overlapHeader,headerPosition:b.headerPosition,baseCls:b.baseCls,cls:b.baseCls+"-ghost "+(a||"")});b.ghostPanel=c}else{c.el.show()}c.floatParent=b.floatParent;if(b.floating){c.setZIndex(Ext.Number.from(b.el.getStyle("zIndex"),0))}else{c.toFront()}if(!(b.preventHeader||b.header===false)){e=c.header;if(e){e.suspendLayouts();Ext.Array.forEach(e.query("tool"),e.remove,e);e.resumeLayouts()}c.addTool(b.ghostTools());c.setTitle(b.title);c.setIconCls(b.iconCls)}c.setPagePosition(d.x,d.y);c.setSize(d.width,d.height);b.el.hide();return c},unghost:function(a,b){var c=this;if(!c.ghostPanel){return}if(a!==false){c.el.show();if(b!==false){c.setPagePosition(c.ghostPanel.el.getXY());if(c.hideMode=="offsets"){delete c.el.hideModeStyles}}Ext.defer(c.focus,10,c)}c.ghostPanel.el.hide()},beginDrag:function(){if(this.floatingDescendants){this.floatingDescendants.hide()}},endDrag:function(){if(this.floatingDescendants){this.floatingDescendants.show()}},initResizable:function(a){if(this.collapsed){a.disabled=true}this.callParent([a])}},function(){this.prototype.animCollapse=Ext.enableFx});Ext.define("Ext.ux.desktop.Desktop",{extend:"Ext.panel.Panel",alias:"widget.desktop",uses:["Ext.util.MixedCollection","Ext.menu.Menu","Ext.view.View","Ext.window.Window","Ext.ux.desktop.TaskBar","Ext.ux.desktop.Wallpaper"],activeWindowCls:"ux-desktop-active-win",inactiveWindowCls:"ux-desktop-inactive-win",lastActiveWindow:null,border:false,html:"&#160;",layout:"fit",xTickSize:1,yTickSize:1,app:null,shortcuts:null,shortcutItemSelector:"div.ux-desktop-shortcut",shortcutTpl:['<tpl for=".">','<div class="ux-desktop-shortcut" id="{name}-shortcut">','<div class="ux-desktop-shortcut-icon {iconCls}">','<img src="',Ext.BLANK_IMAGE_URL,'" title="{name}">',"</div>",'<span class="ux-desktop-shortcut-text">{name}</span>',"</div>","</tpl>",'<div class="x-clear"></div>'],taskbarConfig:null,windowMenu:null,initComponent:function(){var a=this;a.windowMenu=new Ext.menu.Menu(a.createWindowMenu());a.bbar=a.taskbar=new Ext.ux.desktop.TaskBar(a.taskbarConfig);a.taskbar.windowMenu=a.windowMenu;a.windows=new Ext.util.MixedCollection;a.contextMenu=new Ext.menu.Menu(a.createDesktopMenu());a.items=[{xtype:"wallpaper",id:a.id+"_wallpaper"},a.createDataView()];a.callParent();a.shortcutsView=a.items.getAt(1);a.shortcutsView.on("itemclick",a.onShortcutItemClick,a);var b=a.wallpaper;a.wallpaper=a.items.getAt(0);if(b){a.setWallpaper(b,a.wallpaperStretch)}},afterRender:function(){var a=this;a.callParent();a.el.on("contextmenu",a.onDesktopMenu,a)},createDataView:function(){var a=this;return{xtype:"dataview",overItemCls:"x-view-over",trackOver:true,itemSelector:a.shortcutItemSelector,store:a.shortcuts,style:{position:"absolute"},width:40,height:40,x:0,y:0,tpl:new Ext.XTemplate(a.shortcutTpl)}},createDesktopMenu:function(){var a=this,b={items:a.contextMenuItems||[]};if(b.items.length){b.items.push("-")}b.items.push({text:"Tile",handler:a.tileWindows,scope:a,minWindows:1},{text:"Cascade",handler:a.cascadeWindows,scope:a,minWindows:1});return b},createWindowMenu:function(){var a=this;return{defaultAlign:"br-tr",items:[{text:"Restore",handler:a.onWindowMenuRestore,scope:a},{text:"Minimize",handler:a.onWindowMenuMinimize,scope:a},{text:"Maximize",handler:a.onWindowMenuMaximize,scope:a},"-",{text:"Close",handler:a.onWindowMenuClose,scope:a}],listeners:{beforeshow:a.onWindowMenuBeforeShow,hide:a.onWindowMenuHide,scope:a}}},onDesktopMenu:function(a){var b=this,c=b.contextMenu;a.stopEvent();if(!c.rendered){c.on("beforeshow",b.onDesktopMenuBeforeShow,b)}c.showAt(a.getXY());c.doConstrain()},onDesktopMenuBeforeShow:function(a){var b=this,c=b.windows.getCount();a.items.each(function(a){var b=a.minWindows||0;a.setDisabled(c<b)})},onShortcutItemClick:function(a,b){var c=this,d=c.app.getModule(b.data.module),e=d&&d.createWindow();if(e){c.restoreWindow(e)}},onWindowClose:function(a){var b=this;b.windows.remove(a);b.taskbar.removeTaskButton(a.taskButton);b.updateActiveWindow()},onWindowMenuBeforeShow:function(a){var b=a.items.items,c=a.theWin;b[0].setDisabled(c.maximized!==true&&c.hidden!==true);b[1].setDisabled(c.minimized===true);b[2].setDisabled(c.maximized===true||c.hidden===true)},onWindowMenuClose:function(){var a=this,b=a.windowMenu.theWin;b.close()},onWindowMenuHide:function(a){a.theWin=null},onWindowMenuMaximize:function(){var a=this,b=a.windowMenu.theWin;b.maximize();b.toFront()},onWindowMenuMinimize:function(){var a=this,b=a.windowMenu.theWin;b.minimize()},onWindowMenuRestore:function(){var a=this,b=a.windowMenu.theWin;a.restoreWindow(b)},getWallpaper:function(){return this.wallpaper.wallpaper},setTickSize:function(a,b){var c=this,d=c.xTickSize=a,e=c.yTickSize=arguments.length>1?b:d;c.windows.each(function(a){var b=a.dd,c=a.resizer;b.xTickSize=d;b.yTickSize=e;c.widthIncrement=d;c.heightIncrement=e})},setWallpaper:function(a,b){this.wallpaper.setWallpaper(a,b);return this},cascadeWindows:function(){var a=0,b=0,c=this.getDesktopZIndexManager();c.eachBottomUp(function(c){if(c.isWindow&&c.isVisible()&&!c.maximized){c.setPosition(a,b);a+=20;b+=20}})},createWindow:function(a,b){var c=this,d,e=Ext.applyIf(a||{},{stateful:false,isWindow:true,constrainHeader:true,minimizable:true,maximizable:true});b=b||Ext.window.Window;d=c.add(new b(e));c.windows.add(d);d.taskButton=c.taskbar.addTaskButton(d);d.animateTarget=d.taskButton.el;d.on({activate:c.updateActiveWindow,beforeshow:c.updateActiveWindow,deactivate:c.updateActiveWindow,minimize:c.minimizeWindow,destroy:c.onWindowClose,scope:c});d.on({boxready:function(){d.dd.xTickSize=c.xTickSize;d.dd.yTickSize=c.yTickSize;if(d.resizer){d.resizer.widthIncrement=c.xTickSize;d.resizer.heightIncrement=c.yTickSize}},single:true});d.doClose=function(){d.doClose=Ext.emptyFn;d.el.disableShadow();d.el.fadeOut({listeners:{afteranimate:function(){d.destroy()}}})};return d},getActiveWindow:function(){var a=null,b=this.getDesktopZIndexManager();if(b){b.eachTopDown(function(b){if(b.isWindow&&!b.hidden){a=b;return false}return true})}return a},getDesktopZIndexManager:function(){var a=this.windows;return a.getCount()&&a.getAt(0).zIndexManager||null},getWindow:function(a){return this.windows.get(a)},minimizeWindow:function(a){a.minimized=true;a.hide()},restoreWindow:function(a){if(a.isVisible()){a.restore();a.toFront()}else{a.show()}return a},tileWindows:function(){var a=this,b=a.body.getWidth(true);var c=a.xTickSize,d=a.yTickSize,e=d;a.windows.each(function(f){if(f.isVisible()&&!f.maximized){var g=f.el.getWidth();if(c>a.xTickSize&&c+g>b){c=a.xTickSize;d=e}f.setPosition(c,d);c+=g+a.xTickSize;e=Math.max(e,d+f.el.getHeight()+a.yTickSize)}})},updateActiveWindow:function(){var a=this,b=a.getActiveWindow(),c=a.lastActiveWindow;if(b===c){return}if(c){if(c.el.dom){c.addCls(a.inactiveWindowCls);c.removeCls(a.activeWindowCls)}c.active=false}a.lastActiveWindow=b;if(b){b.addCls(a.activeWindowCls);b.removeCls(a.inactiveWindowCls);b.minimized=false;b.active=true}a.taskbar.setActiveButton(b&&b.taskButton)}});Ext.define("Ext.ux.desktop.App",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.container.Viewport","Ext.ux.desktop.Desktop"],isReady:false,modules:null,useQuickTips:true,constructor:function(a){var b=this;b.addEvents("ready","beforeunload");b.mixins.observable.constructor.call(this,a);if(Ext.isReady){Ext.Function.defer(b.init,10,b)}else{Ext.onReady(b.init,b)}},init:function(){var a=this,b;if(a.useQuickTips){Ext.QuickTips.init()}a.modules=a.getModules();if(a.modules){a.initModules(a.modules)}b=a.getDesktopConfig();a.desktop=new Ext.ux.desktop.Desktop(b);a.viewport=new Ext.container.Viewport({layout:"fit",items:[a.desktop]});Ext.EventManager.on(window,"beforeunload",a.onUnload,a);a.isReady=true;a.fireEvent("ready",a)},getDesktopConfig:function(){var a=this,b={app:a,taskbarConfig:a.getTaskbarConfig()};Ext.apply(b,a.desktopConfig);return b},getModules:Ext.emptyFn,getStartConfig:function(){var a=this,b={app:a,menu:[]},c;Ext.apply(b,a.startConfig);Ext.each(a.modules,function(d){c=d.launcher;if(c){c.handler=c.handler||Ext.bind(a.createWindow,a,[d]);b.menu.push(d.launcher)}});return b},createWindow:function(a){var b=a.createWindow();b.show()},getTaskbarConfig:function(){var a=this,b={app:a,startConfig:a.getStartConfig()};Ext.apply(b,a.taskbarConfig);return b},initModules:function(a){var b=this;Ext.each(a,function(a){a.app=b})},getModule:function(a){var b=this.modules;for(var c=0,d=b.length;c<d;c++){var e=b[c];if(e.id==a||e.appType==a){return e}}return null},onReady:function(a,b){if(this.isReady){a.call(b,this)}else{this.on({ready:a,scope:b,single:true})}},getDesktop:function(){return this.desktop},onUnload:function(a){if(this.fireEvent("beforeunload",this)===false){a.stopEvent()}}});Ext.define("MyDesktop.AboutTextWindow",{extend:"Ext.ux.desktop.Module",requires:["Ext.panel.Panel"],id:"abouttext-win",t:"About text information",ic:"icon-abouttext",win:null,init:function(){this.launcher={text:this.t,iconCls:this.ic}},createWindow:function(){var a=this.app.getDesktop();var b=a.getWindow(this.id);if(!b){b=a.createWindow({id:this.id,title:this.t,width:1e3,minWidth:330,height:550,minHeight:330,iconCls:this.ic,animCollapse:false,constrainHeader:true,layout:"fit",items:{html:"Hello! My name is Bohdan. This is my personal website, this implies I'm the author of it.<br>So, wellcome to my site. You probably wonder why did I choose default wallpaper with Eliza Dushku.<br> Well, I just like this actress and I had for a long time wallpaper with her on my real desktop.<br>About this site. It is nothing special, just a slightly modified example of Web Desktop Sample by Sencha.<br>About myself. I live in Lviv, Ukraine, but I don't mind moving to USA.<br>I am mathematician and programmer, developer. Also I am Ph.D. student.<br>Currently I'm finishing my Ph.D. studies and would like to defend my Ph.D. thesis as soon as possible<br>to dedicate myself completely to programming and developing applications.<br>I have been writing programs from my childhood. My first programs were quite simple, written on Pascal for DOS.<br>Later on I started writing programs on Delphi for Windows operating system <br>and I wrote many non-profitable and non-commercial applications.<br>During my study at the university I was helping to write applications and explaining how to write programs <br>to every student, both older and younger than me.<br>Then I was employed at my first IT company where I was taught to copypaste code and not to invent a bicycle.<br>This was my first commercial experience. I used there Delphi as programming language, <br>MS SQL Server as  relational database management system and SVN as Subversion client System.<br>Later on I moved to another company  where we were developing a lot of optimization algorythms for Ukrainian Railway<br>and for Ukrainian Gas and Oil System.<br>After that  I entered postgraduate studies.<br>Recently I was employed at another IT company, where I received commercial experience of developing web applications<br>on Java as server language of IBM WebSphere server, JavaScript as client language using jQuery and Ext JS frameworks.<br>Also I developed numerous non-profitable and non-commercial sites using simple primitive HTML, CSS, somewhere I used PHP<br>as server language and MySQL as relational database management system.<br>I have a dream to adapt all my old Delphi applications to both mobile and web platforms. <br>By mobile platforms I mean Android, Windows Phone 7, maybe iPhone.<br>And by web platforms I mean client JS frameworks like jQuery and Ext JS.<br>By the way, if you noticed, this site has actually one of my old Delphi applications adapted for a web called Matches.<br>Also I supervise work of two my friends, I teach one of them to develop applications on Java and  Android SDK Tools,<br>and I teach another one how to write applications on C++, C# and Windows Phone 7 SDK.<br>Also I won a lot of competitions and olympiads, for example I received this gold medal from Ariel University of Samaria.<br>Have you seen it? I won it in Fifth Internet Olympiad. Full list of my achievements is provided in my CV.<br>Ok, I think that's enough. Thank you for your time and your attention. Best regards. Bye.",autoScroll:true}})}return b}});Ext.define("Ext.window.Window",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Window",requires:["Ext.util.ComponentDragger","Ext.util.Region","Ext.EventManager"],alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:true,draggable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:50,minWidth:50,expandOnShow:true,collapsible:false,closable:true,hidden:true,autoRender:true,hideMode:"offsets",floating:true,ariaRole:"alertdialog",itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:true,ignoreHeaderBorderManagement:true,alwaysFramed:true,isWindow:true,initComponent:function(){var a=this;a.frame=false;a.callParent();a.addEvents("resize","maximize","minimize","restore");if(a.plain){a.addClsWithUI("plain")}if(a.modal){a.ariaRole="dialog"}if(a.floating){a.on({element:"el",mousedown:a.onMouseDown,scope:a})}a.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var a=this,b;b=a.callParent();b.tabIndex=-1;return b},getState:function(){var a=this,b=a.callParent()||{},c=!!a.maximized;b.maximized=c;Ext.apply(b,{size:c?a.restoreSize:a.getSize(),pos:c?a.restorePos:a.getPosition()});return b},applyState:function(a){var b=this;if(a){b.maximized=a.maximized;if(b.maximized){b.hasSavedRestore=true;b.restoreSize=a.size;b.restorePos=a.pos}else{Ext.apply(b,{width:a.size.width,height:a.size.height,x:a.pos[0],y:a.pos[1]})}}},onMouseDown:function(a){var b;if(this.floating){if(Ext.fly(a.getTarget()).focusable()){b=true}this.toFront(b)}},onRender:function(a,b){var c=this;c.callParent(arguments);c.focusEl=c.el;if(c.maximizable){c.header.on({scope:c,dblclick:c.toggleMaximize})}},afterRender:function(){var a=this,b;a.callParent();if(a.maximized){a.maximized=false;a.maximize()}if(a.closable){b=a.getKeyMap();b.on(27,a.onEsc,a)}else{b=a.keyMap}if(b&&a.hidden){b.disable()}},initDraggable:function(){var a=this,b;if(!a.header){a.updateHeader(true)}if(a.header){b=Ext.applyIf({el:a.el,delegate:"#"+Ext.escapeId(a.header.id)},a.draggable);if(a.constrain||a.constrainHeader){b.constrain=a.constrain;b.constrainDelegate=a.constrainHeader;b.constrainTo=a.constrainTo||a.container}a.dd=new Ext.util.ComponentDragger(this,b);a.relayEvents(a.dd,["dragstart","drag","dragend"])}},onEsc:function(a,b){if(!Ext.FocusManager||!Ext.FocusManager.enabled||Ext.FocusManager.focusedCmp===this){b.stopEvent();this.close()}},beforeDestroy:function(){var a=this;if(a.rendered){delete this.animateTarget;a.hide();Ext.destroy(a.keyMap)}a.callParent()},addTools:function(){var a=this;a.callParent();if(a.minimizable){a.addTool({type:"minimize",handler:Ext.Function.bind(a.minimize,a,[])})}if(a.maximizable){a.addTool({type:"maximize",handler:Ext.Function.bind(a.maximize,a,[])});a.addTool({type:"restore",handler:Ext.Function.bind(a.restore,a,[]),hidden:true})}},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var a=this,b,c=a.defaultButton||a.defaultFocus,d;if(c!==undefined){if(Ext.isNumber(c)){b=a.query("button")[c]}else if(Ext.isString(c)){d=c;if(d.match(a.initialAlphaNum)){b=a.down("#"+d)}if(!b){b=a.down(d)}}else if(c.focus){b=c}}return b||a.el},onFocus:function(){var a=this,b;if(Ext.FocusManager&&Ext.FocusManager.enabled||(b=a.getDefaultFocus())===a){a.callParent(arguments)}else{b.focus()}},beforeLayout:function(){var a=this.el.shadow;this.callParent();if(a){a.hide()}},onShow:function(){var a=this;a.callParent(arguments);if(a.expandOnShow){a.expand(false)}a.syncMonitorWindowResize();if(a.keyMap){a.keyMap.enable()}},doClose:function(){var a=this;if(a.hidden){a.fireEvent("close",a);if(a.closeAction=="destroy"){this.destroy()}}else{a.hide(a.animateTarget,a.doClose,a)}},afterHide:function(){var a=this;a.syncMonitorWindowResize();if(a.keyMap){a.keyMap.disable()}a.callParent(arguments)},onWindowResize:function(){var a=this,b;if(a.maximized){a.fitContainer()}else{b=a.getSizeModel();if(b.width.natural||b.height.natural){a.updateLayout()}}a.doConstrain()},minimize:function(){this.fireEvent("minimize",this);return this},afterCollapse:function(){var a=this;if(a.maximizable){a.tools.maximize.hide();a.tools.restore.hide()}if(a.resizer){a.resizer.disable()}a.callParent(arguments)},afterExpand:function(){var a=this;if(a.maximized){a.tools.restore.show()}else if(a.maximizable){a.tools.maximize.show()}if(a.resizer){a.resizer.enable()}a.callParent(arguments)},maximize:function(){var a=this;if(!a.maximized){a.expand(false);if(!a.hasSavedRestore){a.restoreSize=a.getSize();a.restorePos=a.getPosition(true)}if(a.maximizable){a.tools.maximize.hide();a.tools.restore.show()}a.maximized=true;a.el.disableShadow();if(a.dd){a.dd.disable()}if(a.resizer){a.resizer.disable()}if(a.collapseTool){a.collapseTool.hide()}a.el.addCls(Ext.baseCSSPrefix+"window-maximized");a.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct");a.syncMonitorWindowResize();a.fitContainer();a.fireEvent("maximize",a)}return a},restore:function(){var a=this,b=a.tools;if(a.maximized){delete a.hasSavedRestore;a.removeCls(Ext.baseCSSPrefix+"window-maximized");if(b.restore){b.restore.hide()}if(b.maximize){b.maximize.show()}if(a.collapseTool){a.collapseTool.show()}a.maximized=false;a.setPosition(a.restorePos);a.setSize(a.restoreSize);delete a.restorePos;delete a.restoreSize;a.el.enableShadow(true);if(a.dd){a.dd.enable()}if(a.resizer){a.resizer.enable()}a.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct");a.syncMonitorWindowResize();a.doConstrain();a.fireEvent("restore",a)}return a},syncMonitorWindowResize:function(){var a=this,b=a._monitoringResize,c=a.monitorResize||a.constrain||a.constrainHeader||a.maximized,d=a.hidden||a.destroying||a.isDestroyed;if(c&&!d){if(!b){Ext.EventManager.onWindowResize(a.onWindowResize,a);a._monitoringResize=true}}else if(b){Ext.EventManager.removeResizeListener(a.onWindowResize,a);a._monitoringResize=false}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}});Ext.define("Ext.window.MessageBox",{extend:"Ext.window.Window",requires:["Ext.toolbar.Toolbar","Ext.form.field.Text","Ext.form.field.TextArea","Ext.form.field.Display","Ext.button.Button","Ext.layout.container.Anchor","Ext.layout.container.HBox","Ext.ProgressBar"],alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:false,title:"&#160;",width:600,height:500,minWidth:250,maxWidth:600,minHeight:110,maxHeight:500,constrain:true,cls:Ext.baseCSSPrefix+"message-box",layout:{type:"vbox",align:"stretch"},defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,makeButton:function(a){var b=this.buttonIds[a];return new Ext.button.Button({handler:this.btnCallback,itemId:b,scope:this,text:this.buttonText[b],minWidth:75})},btnCallback:function(a){var b=this,c,d;if(b.cfg.prompt||b.cfg.multiline){if(b.cfg.multiline){d=b.textArea}else{d=b.textField}c=d.getValue();d.reset()}a.blur();b.hide();b.userCallback(a.itemId,c,b.cfg)},hide:function(){var a=this;a.dd.endDrag();a.progressBar.reset();a.removeCls(a.cfg.cls);a.callParent(arguments)},initComponent:function(){var a=this,b=a.id,c,d,e;a.title="&#160;";a.topContainer=new Ext.container.Container({layout:"hbox",style:{padding:"10px",overflow:"hidden"},items:[a.iconComponent=new Ext.Component({cls:a.baseCls+"-icon",width:50,height:a.iconHeight}),a.promptContainer=new Ext.container.Container({flex:1,layout:{type:"anchor"},items:[a.msg=new Ext.form.field.Display({id:b+"-displayfield",cls:a.baseCls+"-text"}),a.textField=new Ext.form.field.Text({id:b+"-testfield",anchor:"100%",enableKeyEvents:true,listeners:{keydown:a.onPromptKey,scope:a}}),a.textArea=new Ext.form.field.TextArea({id:b+"-textarea",anchor:"100%",height:75})]})]});a.progressBar=new Ext.ProgressBar({id:b+"-progressbar",margins:"0 10 0 10"});a.items=[a.topContainer,a.progressBar];a.msgButtons=[];for(c=0;c<4;c++){d=a.makeButton(c);a.msgButtons[d.itemId]=d;a.msgButtons.push(d)}a.bottomTb=new Ext.toolbar.Toolbar({id:b+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[a.msgButtons[0],a.msgButtons[1],a.msgButtons[2],a.msgButtons[3]]});a.dockedItems=[a.bottomTb];e=a.bottomTb.getLayout();e.finishedLayout=Ext.Function.createInterceptor(e.finishedLayout,function(b){a.tbWidth=b.getProp("contentWidth")});a.on("close",a.onClose,a);a.callParent()},onClose:function(){var a=this.header.child("[type=close]");a.itemId="cancel";this.btnCallback(a);delete a.itemId},onPromptKey:function(a,b){var c=this,d;if(b.keyCode===Ext.EventObject.RETURN||b.keyCode===10){if(c.msgButtons.ok.isVisible()){d=true;c.msgButtons.ok.handler.call(c,c.msgButtons.ok)}else if(c.msgButtons.yes.isVisible()){c.msgButtons.yes.handler.call(c,c.msgButtons.yes);d=true}if(d){c.textField.blur()}}},reconfigure:function(a){var b=this,c=0,d=true,e=b.maxWidth,f=b.buttonText,g;b.updateButtonText();a=a||{};b.cfg=a;if(a.width){e=a.width}delete b.defaultFocus;b.animateTarget=a.animateTarget||undefined;b.modal=a.modal!==false;if(a.title){b.setTitle(a.title||"&#160;")}if(Ext.isObject(a.buttons)){b.buttonText=a.buttons;c=0}else{b.buttonText=a.buttonText||b.buttonText;c=Ext.isNumber(a.buttons)?a.buttons:0}c=c|b.updateButtonText();b.buttonText=f;Ext.suspendLayouts();b.hidden=false;if(!b.rendered){b.width=e;b.render(Ext.getBody())}else{b.setSize(e,b.maxHeight)}b.closable=a.closable&&!a.wait;b.header.child("[type=close]").setVisible(a.closable!==false);if(!a.title&&!b.closable){b.header.hide()}else{b.header.show()}b.liveDrag=!a.proxyDrag;b.userCallback=Ext.Function.bind(a.callback||a.fn||Ext.emptyFn,a.scope||Ext.global);b.setIcon(a.icon);if(a.msg){b.msg.setValue(a.msg);b.msg.show()}else{b.msg.hide()}Ext.resumeLayouts(true);Ext.suspendLayouts();if(a.prompt||a.multiline){b.multiline=a.multiline;if(a.multiline){b.textArea.setValue(a.value);b.textArea.setHeight(a.defaultTextHeight||b.defaultTextHeight);b.textArea.show();b.textField.hide();b.defaultFocus=b.textArea}else{b.textField.setValue(a.value);b.textArea.hide();b.textField.show();b.defaultFocus=b.textField}}else{b.textArea.hide();b.textField.hide()}if(a.progress||a.wait){b.progressBar.show();b.updateProgress(0,a.progressText);if(a.wait===true){b.progressBar.wait(a.waitConfig)}}else{b.progressBar.hide()}for(g=0;g<4;g++){if(c&Math.pow(2,g)){if(!b.defaultFocus){b.defaultFocus=b.msgButtons[g]}b.msgButtons[g].show();d=false}else{b.msgButtons[g].hide()}}if(d){b.bottomTb.hide()}else{b.bottomTb.show()}Ext.resumeLayouts(true)},updateButtonText:function(){var a=this,b=a.buttonText,c=0,d,e;for(d in b){if(b.hasOwnProperty(d)){e=a.msgButtons[d];if(e){if(a.cfg&&a.cfg.buttonText){c=c|Math.pow(2,Ext.Array.indexOf(a.buttonIds,d))}if(e.text!=b[d]){e.setText(b[d])}}}}return c},show:function(a){var b=this;b.reconfigure(a);b.addCls(a.cls);b.doAutoSize();b.hidden=true;b.callParent();return b},onShow:function(){this.callParent(arguments);this.center()},doAutoSize:function(){var a=this,b=a.header.rendered&&a.header.isVisible(),c=a.bottomTb.rendered&&a.bottomTb.isVisible(),d,e;if(!Ext.isDefined(a.frameWidth)){a.frameWidth=a.el.getWidth()-a.body.getWidth()}a.minWidth=a.cfg.minWidth||Ext.getClass(this).prototype.minWidth;d=Math.max(b?a.header.getMinWidth():0,a.cfg.width||a.msg.getWidth()+a.iconComponent.getWidth()+25,c?a.tbWidth:0);e=(b?a.header.getHeight():0)+a.topContainer.getHeight()+a.progressBar.getHeight()+(c?a.bottomTb.getHeight()+a.bottomTb.el.getMargin("tb"):0);a.setSize(d+a.frameWidth,e+a.frameWidth);return a},updateText:function(a){this.msg.setValue(a);return this.doAutoSize(true)},setIcon:function(a){var b=this;b.iconComponent.removeCls(b.messageIconCls);if(a){b.iconComponent.show();b.iconComponent.addCls(Ext.baseCSSPrefix+"dlg-icon");b.iconComponent.addCls(b.messageIconCls=a)}else{b.iconComponent.removeCls(Ext.baseCSSPrefix+"dlg-icon");b.iconComponent.hide()}return b},updateProgress:function(a,b,c){this.progressBar.updateProgress(a,b);if(c){this.updateText(c)}return this},onEsc:function(){if(this.closable!==false){this.callParent(arguments)}},confirm:function(a,b,c,d){if(Ext.isString(a)){a={title:a,icon:this.QUESTION,msg:b,buttons:this.YESNO,callback:c,scope:d}}return this.show(a)},prompt:function(a,b,c,d,e,f){if(Ext.isString(a)){a={prompt:true,title:a,minWidth:this.minPromptWidth,msg:b,buttons:this.OKCANCEL,callback:c,scope:d,multiline:e,value:f}}return this.show(a)},wait:function(a,b,c){if(Ext.isString(a)){a={title:b,msg:a,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:c}}return this.show(a)},alert:function(a,b,c,d){if(Ext.isString(a)){a={title:a,msg:b,buttons:this.OK,fn:c,scope:d,minWidth:this.minWidth}}return this.show(a)},progress:function(a,b,c){if(Ext.isString(a)){a={title:a,msg:b,progress:true,progressText:c}}return this.show(a)}},function(){Ext.MessageBox=Ext.Msg=new this});Ext.define("MyDesktop.Settings",{extend:"Ext.window.Window",uses:["Ext.tree.Panel","Ext.tree.View","Ext.form.field.Checkbox","Ext.layout.container.Anchor","Ext.layout.container.Border","Ext.ux.desktop.Wallpaper","MyDesktop.WallpaperModel"],layout:"anchor",title:"Change Settings",modal:true,width:640,height:480,border:false,initComponent:function(){var a=this;a.selected=a.desktop.getWallpaper();a.stretch=a.desktop.wallpaper.stretch;a.preview=Ext.create("widget.wallpaper");a.preview.setWallpaper(a.selected);a.tree=a.createTree();a.buttons=[{text:"OK",handler:a.onOK,scope:a},{text:"Cancel",handler:a.close,scope:a}];a.items=[{anchor:"0 -30",border:false,layout:"border",items:[a.tree,{xtype:"panel",title:"Preview",region:"center",layout:"fit",items:[a.preview]}]},{xtype:"checkbox",boxLabel:"Stretch to fit",checked:a.stretch,listeners:{change:function(b){a.stretch=b.checked}}}];a.callParent()},createTree:function(){function b(b){return{img:b,text:a.getTextOfWallpaper(b),iconCls:"",leaf:true}}var a=this;var c=new Ext.tree.Panel({title:"Desktop Background",rootVisible:false,lines:false,autoScroll:true,width:150,region:"west",split:true,minWidth:100,listeners:{afterrender:{fn:this.setInitialSelection,delay:100},select:this.onSelect,scope:this},store:new Ext.data.TreeStore({model:"MyDesktop.WallpaperModel",root:{text:"Wallpaper",expanded:true,children:[{text:"None",iconCls:"",leaf:true},b("Eliza-Dushku-79.jpg"),b("Eliza-Dushku-55.jpg"),b("Eliza-Dushku-63.jpg"),b("Blue-Sencha.jpg"),b("Dark-Sencha.jpg"),b("Wood-Sencha.jpg"),b("blue.jpg"),b("desk.jpg"),b("desktop.jpg"),b("desktop2.jpg"),b("sky.jpg")]}})});return c},getTextOfWallpaper:function(a){var b=a,c=a.lastIndexOf("/");if(c>=0){b=b.substring(c+1)}var d=b.lastIndexOf(".");b=Ext.String.capitalize(b.substring(0,d));b=b.replace(/[-]/g," ");return b},onOK:function(){var a=this;if(a.selected){a.desktop.setWallpaper(a.selected,a.stretch)}a.destroy()},onSelect:function(a,b){var c=this;if(b.data.img){c.selected="wallpapers/"+b.data.img}else{c.selected=Ext.BLANK_IMAGE_URL}c.preview.setWallpaper(c.selected)},setInitialSelection:function(){var a=this.desktop.getWallpaper();if(a){var b="/Wallpaper/"+this.getTextOfWallpaper(a);this.tree.selectPath(b,"text")}}});Ext.define("Ext.tip.Tip",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Tip",minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:true,autoRender:true,hidden:true,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:true,shim:true,constrain:true},focusOnToFront:false,closeAction:"hide",ariaRole:"tooltip",alwaysFramed:true,frameHeader:false,initComponent:function(){var a=this;a.floating=Ext.apply({},{shadow:a.shadow},a.self.prototype.floating);a.callParent(arguments);a.constrain=a.constrain||a.constrainPosition},showAt:function(a){var b=this;this.callParent(arguments);if(b.isVisible()){b.setPagePosition(a[0],a[1]);if(b.constrainPosition||b.constrain){b.doConstrain()}b.toFront(true)}},showBy:function(a,b){this.showAt(this.el.getAlignToXY(a,b||this.defaultAlign))},initDraggable:function(){var a=this;a.draggable={el:a.getDragEl(),delegate:a.header.el,constrain:a,constrainTo:a.el.getScopeParent()};Ext.Component.prototype.initDraggable.call(a)},ghost:undefined,unghost:undefined});Ext.define("Ext.tip.ToolTip",{extend:"Ext.tip.Tip",alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:true,showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var a=this;a.callParent(arguments);a.lastActive=new Date;a.setTarget(a.target);a.origAnchor=a.anchor},onRender:function(a,b){var c=this;c.callParent(arguments);c.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+c.getAnchorPosition();c.anchorEl=c.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+c.anchorCls})},setTarget:function(a){var b=this,c=Ext.get(a),d;if(b.target){d=Ext.get(b.target);b.mun(d,"mouseover",b.onTargetOver,b);b.mun(d,"mouseout",b.onTargetOut,b);b.mun(d,"mousemove",b.onMouseMove,b)}b.target=c;if(c){b.mon(c,{freezeEvent:true,mouseover:b.onTargetOver,mouseout:b.onTargetOut,mousemove:b.onMouseMove,scope:b})}if(b.anchor){b.anchorTarget=b.target}},onMouseMove:function(a){var b=this,c=b.delegate?a.getTarget(b.delegate):b.triggerElement=true,d;if(c){b.targetXY=a.getXY();if(c===b.triggerElement){if(!b.hidden&&b.trackMouse){d=b.getTargetXY();if(b.constrainPosition){d=b.el.adjustForConstraints(d,b.el.getScopeParent())}b.setPagePosition(d)}}else{b.hide();b.lastActive=new Date(0);b.onTargetOver(a)}}else if(!b.closable&&b.isVisible()&&b.autoHide!==false){b.hide()}},getTargetXY:function(){var a=this,b,c,d,e,f,g,h,i,j,k,l,m;if(a.delegate){a.anchorTarget=a.triggerElement}if(a.anchor){a.targetCounter++;c=a.getOffsets();d=a.anchorToTarget&&!a.trackMouse?a.el.getAlignToXY(a.anchorTarget,a.getAnchorAlign()):a.targetXY;e=Ext.Element.getViewWidth()-5;f=Ext.Element.getViewHeight()-5;g=document.documentElement;h=document.body;i=(g.scrollLeft||h.scrollLeft||0)+5;j=(g.scrollTop||h.scrollTop||0)+5;k=[d[0]+c[0],d[1]+c[1]];l=a.getSize();m=a.constrainPosition;a.anchorEl.removeCls(a.anchorCls);if(a.targetCounter<2&&m){if(k[0]<i){if(a.anchorToTarget){a.defaultAlign="l-r";if(a.mouseOffset){a.mouseOffset[0]*=-1}}a.anchor="left";return a.getTargetXY()}if(k[0]+l.width>e){if(a.anchorToTarget){a.defaultAlign="r-l";if(a.mouseOffset){a.mouseOffset[0]*=-1}}a.anchor="right";return a.getTargetXY()}if(k[1]<j){if(a.anchorToTarget){a.defaultAlign="t-b";if(a.mouseOffset){a.mouseOffset[1]*=-1}}a.anchor="top";return a.getTargetXY()}if(k[1]+l.height>f){if(a.anchorToTarget){a.defaultAlign="b-t";if(a.mouseOffset){a.mouseOffset[1]*=-1}}a.anchor="bottom";return a.getTargetXY()}}a.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+a.getAnchorPosition();a.anchorEl.addCls(a.anchorCls);a.targetCounter=0;return k}else{b=a.getMouseOffset();return a.targetXY?[a.targetXY[0]+b[0],a.targetXY[1]+b[1]]:b}},getMouseOffset:function(){var a=this,b=a.anchor?[0,0]:[15,18];if(a.mouseOffset){b[0]+=a.mouseOffset[0];b[1]+=a.mouseOffset[1]}return b},getAnchorPosition:function(){var a=this,b;if(a.anchor){a.tipAnchor=a.anchor.charAt(0)}else{b=a.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!b){Ext.Error.raise('The AnchorTip.defaultAlign value "'+a.defaultAlign+'" is invalid.')}a.tipAnchor=b[1].charAt(0)}switch(a.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var a=this,b,c,d=a.getAnchorPosition().charAt(0);if(a.anchorToTarget&&!a.trackMouse){switch(d){case"t":c=[0,9];break;case"b":c=[0,-13];break;case"r":c=[-13,0];break;default:c=[9,0];break}}else{switch(d){case"t":c=[-15-a.anchorOffset,30];break;case"b":c=[-19-a.anchorOffset,-13-a.el.dom.offsetHeight];break;case"r":c=[-15-a.el.dom.offsetWidth,-13-a.anchorOffset];break;default:c=[25,-13-a.anchorOffset];break}}b=a.getMouseOffset();c[0]+=b[0];c[1]+=b[1];return c},onTargetOver:function(a){var b=this,c;if(b.disabled||a.within(b.target.dom,true)){return}c=a.getTarget(b.delegate);if(c){b.triggerElement=c;b.clearTimer("hide");b.targetXY=a.getXY();b.delayShow()}},delayShow:function(){var a=this;if(a.hidden&&!a.showTimer){if(Ext.Date.getElapsed(a.lastActive)<a.quickShowInterval){a.show()}else{a.showTimer=Ext.defer(a.show,a.showDelay,a)}}else if(!a.hidden&&a.autoHide!==false){a.show()}},onShowVeto:function(){this.callParent();this.clearTimer("show")},onTargetOut:function(a){var b=this;if(b.disabled||a.within(b.target.dom,true)){return}b.clearTimer("show");if(b.autoHide!==false){b.delayHide()}},delayHide:function(){var a=this;if(!a.hidden&&!a.hideTimer){a.hideTimer=Ext.defer(a.hide,a.hideDelay,a)}},hide:function(){var a=this;a.clearTimer("dismiss");a.lastActive=new Date;if(a.anchorEl){a.anchorEl.hide()}a.callParent(arguments);delete a.triggerElement},show:function(){var a=this;this.callParent();if(this.hidden===false){a.setPagePosition(-1e4,-1e4);if(a.anchor){a.anchor=a.origAnchor}if(!a.calledFromShowAt){a.showAt(a.getTargetXY())}if(a.anchor){a.syncAnchor();a.anchorEl.show()}else{a.anchorEl.hide()}}},showAt:function(a){var b=this;b.lastActive=new Date;b.clearTimers();b.calledFromShowAt=true;if(!b.isVisible()){this.callParent(arguments)}if(b.isVisible()){b.setPagePosition(a[0],a[1]);if(b.constrainPosition||b.constrain){b.doConstrain()}b.toFront(true);b.el.sync(true);if(b.dismissDelay&&b.autoHide!==false){b.dismissTimer=Ext.defer(b.hide,b.dismissDelay,b)}if(b.anchor){b.syncAnchor();if(!b.anchorEl.isVisible()){b.anchorEl.show()}}else{b.anchorEl.hide()}}delete b.calledFromShowAt},syncAnchor:function(){var a=this,b,c,d;switch(a.tipAnchor.charAt(0)){case"t":b="b";c="tl";d=[20+a.anchorOffset,1];break;case"r":b="l";c="tr";d=[-1,12+a.anchorOffset];break;case"b":b="t";c="bl";d=[20+a.anchorOffset,-1];break;default:b="r";c="tl";d=[1,12+a.anchorOffset];break}a.anchorEl.alignTo(a.el,b+"-"+c,d);a.anchorEl.setStyle("z-index",parseInt(a.el.getZIndex(),10)||0+1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(a,b){var c=this;c.callParent(arguments);if(c.anchor){c.syncAnchor()}},clearTimer:function(a){a=a+"Timer";clearTimeout(this[a]);delete this[a]},clearTimers:function(){var a=this;a.clearTimer("show");a.clearTimer("dismiss");a.clearTimer("hide")},onShow:function(){var a=this;a.callParent();a.mon(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onHide:function(){var a=this;a.callParent();a.mun(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onDocMouseDown:function(a){var b=this;if(!b.closable&&!a.within(b.el.dom)){b.disable();Ext.defer(b.doEnable,100,b)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.callParent();this.clearTimers();this.hide()},beforeDestroy:function(){var a=this;a.clearTimers();Ext.destroy(a.anchorEl);delete a.anchorEl;delete a.target;delete a.anchorTarget;delete a.triggerElement;a.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);this.callParent()}});Ext.define("Ext.chart.Tip",{requires:["Ext.tip.ToolTip","Ext.chart.TipSurface"],constructor:function(a){var b=this,c,d,e;if(a.tips){b.tipTimeout=null;b.tipConfig=Ext.apply({},a.tips,{renderer:Ext.emptyFn,constrainPosition:true,autoHide:true});b.tooltip=new Ext.tip.ToolTip(b.tipConfig);b.chart.surface.on("mousemove",b.tooltip.onMouseMove,b.tooltip);b.chart.surface.on("mouseleave",function(){b.hideTip()});if(b.tipConfig.surface){c=b.tipConfig.surface;d=c.sprites;e=new Ext.chart.TipSurface({id:"tipSurfaceComponent",sprites:d});if(c.width&&c.height){e.setSize(c.width,c.height)}b.tooltip.add(e);b.spriteTip=e}}},showTip:function(a){var b=this,c,d,e,f,g,h,i,j,k,l;if(!b.tooltip){return}clearTimeout(b.tipTimeout);c=b.tooltip;d=b.spriteTip;e=b.tipConfig;f=c.trackMouse;if(!f){c.trackMouse=true;g=a.sprite;h=g.surface;i=Ext.get(h.getId());if(i){j=i.getXY();k=j[0]+(g.attr.x||0)+(g.attr.translation&&g.attr.translation.x||0);l=j[1]+(g.attr.y||0)+(g.attr.translation&&g.attr.translation.y||0);c.targetXY=[k,l]}}if(d){e.renderer.call(c,a.storeItem,a,d.surface)}else{e.renderer.call(c,a.storeItem,a)}c.show();c.trackMouse=f},hideTip:function(a){var b=this.tooltip;if(!b){return}clearTimeout(this.tipTimeout);this.tipTimeout=setTimeout(function(){b.hide()},0)}});Ext.define("Ext.chart.series.Series",{mixins:{observable:"Ext.util.Observable",labels:"Ext.chart.Label",highlights:"Ext.chart.Highlight",tips:"Ext.chart.Tip",callouts:"Ext.chart.Callout"},type:null,title:null,showInLegend:true,renderer:function(a,b,c,d,e){return c},shadowAttributes:null,animating:false,constructor:function(a){var b=this;if(a){Ext.apply(b,a)}b.shadowGroups=[];b.mixins.labels.constructor.call(b,a);b.mixins.highlights.constructor.call(b,a);b.mixins.tips.constructor.call(b,a);b.mixins.callouts.constructor.call(b,a);b.addEvents({scope:b,itemmouseover:true,itemmouseout:true,itemmousedown:true,itemmouseup:true,mouseleave:true,afterdraw:true,titlechange:true});b.mixins.observable.constructor.call(b,a);b.on({scope:b,itemmouseover:b.onItemMouseOver,itemmouseout:b.onItemMouseOut,mouseleave:b.onMouseLeave});if(b.style){Ext.apply(b.seriesStyle,b.style)}},eachRecord:function(a,b){var c=this.chart;(c.substore||c.store).each(a,b)},getRecordCount:function(){var a=this.chart,b=a.substore||a.store;return b?b.getCount():0},isExcluded:function(a){var b=this.__excludes;return!!(b&&b[a])},setBBox:function(a){var b=this,c=b.chart,d=c.chartBBox,e=a?0:c.maxGutter[0],f=a?0:c.maxGutter[1],g,h;g={x:d.x,y:d.y,width:d.width,height:d.height};b.clipBox=g;h={x:g.x+e-c.zoom.x*c.zoom.width,y:g.y+f-c.zoom.y*c.zoom.height,width:(g.width-e*2)*c.zoom.width,height:(g.height-f*2)*c.zoom.height};b.bbox=h},onAnimate:function(a,b){var c=this;a.stopAnimation();if(c.animating){return a.animate(Ext.applyIf(b,c.chart.animate))}else{c.animating=true;return a.animate(Ext.apply(Ext.applyIf(b,c.chart.animate),{listeners:{afteranimate:function(){c.animating=false;c.fireEvent("afterrender")}}}))}},getGutters:function(){return[0,0]},onItemMouseOver:function(a){var b=this;if(a.series===b){if(b.highlight){b.highlightItem(a)}if(b.tooltip){b.showTip(a)}}},onItemMouseOut:function(a){var b=this;if(a.series===b){b.unHighlightItem();if(b.tooltip){b.hideTip(a)}}},onMouseLeave:function(){var a=this;a.unHighlightItem();if(a.tooltip){a.hideTip()}},getItemForPoint:function(a,b){if(!this.items||!this.items.length||this.seriesIsHidden){return null}var c=this,d=c.items,e=c.bbox,f,g,h;if(!Ext.draw.Draw.withinBox(a,b,e)){return null}for(g=0,h=d.length;g<h;g++){if(d[g]&&this.isItemInPoint(a,b,d[g],g)){return d[g]}}return null},isItemInPoint:function(a,b,c,d){return false},hideAll:function(){var a=this,b=a.items,c,d,e,f,g,h,i;a.seriesIsHidden=true;a._prevShowMarkers=a.showMarkers;a.showMarkers=false;a.hideLabels(0);for(e=0,d=b.length;e<d;e++){c=b[e];h=c.sprite;if(h){h.setAttributes({hidden:true},true)}if(h&&h.shadows){i=h.shadows;for(f=0,g=i.length;f<g;++f){i[f].setAttributes({hidden:true},true)}}}},showAll:function(){var a=this,b=a.chart.animate;a.chart.animate=false;a.seriesIsHidden=false;a.showMarkers=a._prevShowMarkers;a.drawSeries();a.chart.animate=b},hide:function(){if(this.items){var a=this,b=a.items,c,d,e,f,g;if(b&&b.length){for(c=0,f=b.length;c<f;++c){if(b[c].sprite){b[c].sprite.hide(true);g=b[c].shadows||b[c].sprite.shadows;if(g){for(d=0,e=g.length;d<e;++d){g[d].hide(true)}}}}a.hideLabels()}}},getLegendColor:function(a){var b=this,c,d;if(b.seriesStyle){c=b.seriesStyle.fill;d=b.seriesStyle.stroke;if(c&&c!="none"){return c}if(d){return d}}return b.colorArrayStyle?b.colorArrayStyle[b.seriesIdx%b.colorArrayStyle.length]:"#000"},visibleInLegend:function(a){var b=this.__excludes;if(b){return!b[a]}return!this.seriesIsHidden},setTitle:function(a,b){var c=this,d=c.title;if(Ext.isString(a)){b=a;a=0}if(Ext.isArray(d)){d[a]=b}else{c.title=b}c.fireEvent("titlechange",b,a)}});Ext.define("Ext.chart.series.Cartesian",{extend:"Ext.chart.series.Series",alternateClassName:["Ext.chart.CartesianSeries","Ext.chart.CartesianChart"],xField:null,yField:null,axis:"left",getLegendLabels:function(){var a=this,b=[],c,d,e,f=a.combinations,g,h,i,j;c=[].concat(a.yField);for(d=0,e=c.length;d<e;d++){g=a.title;b.push((Ext.isArray(g)?g[d]:g)||c[d])}if(f){f=Ext.Array.from(f);for(d=0,e=f.length;d<e;d++){h=f[d];i=b[h[0]];j=b[h[1]];b[h[1]]=i+" & "+j;b.splice(h[0],1)}}return b},eachYValue:function(a,b,c){var d=this,e=d.getYValueAccessors(),f,g,h;for(f=0,g=e.length;f<g;f++){h=e[f];b.call(c,h(a),f)}},getYValueCount:function(){return this.getYValueAccessors().length},combine:function(a,b){var c=this,d=c.getYValueAccessors(),e=d[a],f=d[b];d[b]=function(a){return e(a)+f(a)};d.splice(a,1);c.callParent([a,b])},clearCombinations:function(){delete this.yValueAccessors;this.callParent()},getYValueAccessors:function(){var a=this,b=a.yValueAccessors,c,d,e,f;if(!b){b=a.yValueAccessors=[];c=[].concat(a.yField);for(e=0,f=c.length;e<f;e++){d=c[e];b.push(function(a){return a.get(d)})}}return b},getMinMaxXValues:function(){var a=this,b=a.chart,c=b.getChartStore(),d=c.data.items,e,f,g,h,i,j=a.xField,k;if(a.getRecordCount()>0){h=Infinity;i=-h;for(e=0,f=d.length;e<f;e++){g=d[e];k=g.get(j);if(k>i){i=k}if(k<h){h=k}}}else{h=i=0}return[h,i]},getMinMaxYValues:function(){function m(b,c){if(!a.isExcluded(c)){if(b<0){l+=b}else{k+=b}}}function n(b,c){if(!a.isExcluded(c)){if(b>j){j=b}if(b<i){i=b}}}var a=this,b=a.chart,c=b.getChartStore(),d=c.data.items,e,f,g,h=a.stacked,i,j,k,l;if(a.getRecordCount()>0){i=Infinity;j=-i;for(e=0,f=d.length;e<f;e++){g=d[e];if(h){k=0;l=0;a.eachYValue(g,m);if(k>j){j=k}if(l<i){i=l}}else{a.eachYValue(g,n)}}}else{i=j=0}return[i,j]},getAxesForXAndYFields:function(){var a=this,b=a.chart.axes,c=[].concat(a.axis),d={},e=[].concat(a.yField),f={},g=[].concat(a.xField),h,i,j,k,l,m;m=a.type==="bar"&&a.column===false;if(m){h=e;e=g;g=h}if(Ext.Array.indexOf(c,"top")>-1){i="top"}else if(Ext.Array.indexOf(c,"bottom")>-1){i="bottom"}else{if(b.get("top")&&b.get("bottom")){for(k=0,l=g.length;k<l;k++){f[g[k]]=true}h=[].concat(b.get("bottom").fields);for(k=0,l=h.length;k<l;k++){if(f[h[k]]){i="bottom";break}}h=[].concat(b.get("top").fields);for(k=0,l=h.length;k<l;k++){if(f[h[k]]){i="top";break}}}else if(b.get("top")){i="top"}else if(b.get("bottom")){i="bottom"}}if(Ext.Array.indexOf(c,"left")>-1){j="left"}else if(Ext.Array.indexOf(c,"right")>-1){j="right"}else{if(b.get("left")&&b.get("right")){for(k=0,l=e.length;k<l;k++){d[e[k]]=true}h=[].concat(b.get("right").fields);for(k=0,l=h.length;k<l;k++){if(d[h[k]]){break}}h=[].concat(b.get("left").fields);for(k=0,l=h.length;k<l;k++){if(d[h[k]]){j="left";break}}}else if(b.get("left")){j="left"}else if(b.get("right")){j="right"}}return m?{xAxis:j,yAxis:i}:{xAxis:i,yAxis:j}}});Ext.define("Ext.chart.series.Area",{extend:"Ext.chart.series.Cartesian",alias:"series.area",requires:["Ext.chart.axis.Axis","Ext.draw.Color","Ext.fx.Anim"],type:"area",stacked:true,style:{},constructor:function(a){this.callParent(arguments);var b=this,c=b.chart.surface,d,e;a.highlightCfg=Ext.Object.merge({},{lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},a.highlightCfg);Ext.apply(b,a,{__excludes:[]});if(b.highlight){b.highlightSprite=c.add({type:"path",path:["M",0,0],zIndex:1e3,opacity:.3,lineWidth:5,hidden:true,stroke:"#444"})}b.group=c.getGroup(b.seriesId)},shrink:function(a,b,c){var d=a.length,e=Math.floor(d/c),f,g,h=0,i=this.areas.length,j=[],k=[],l=[];for(g=0;g<i;++g){j[g]=0}for(f=0;f<d;++f){h+=+a[f];for(g=0;g<i;++g){j[g]+=+b[f][g]}if(f%e==0){k.push(h/e);for(g=0;g<i;++g){j[g]/=e}l.push(j);h=0;for(g=0,j=[];g<i;++g){j[g]=0}}}return{x:k,y:l}},getBounds:function(){var a=this,b=a.chart,c=b.getChartStore(),d=c.data.items,e,f,g,h=[].concat(a.yField),i=h.length,j=[],k=[],l=Infinity,m=l,n=l,o=-l,p=-l,q=Math,r=q.min,s=q.max,t=a.getAxesForXAndYFields(),u=t.xAxis,v=t.yAxis,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;a.setBBox();y=a.bbox;if(J=b.axes.get(u)){if(J.type==="Time"){x=true}w=J.applyData();m=w.from;o=w.to}if(J=b.axes.get(v)){w=J.applyData();n=w.from;p=w.to}if(a.xField&&!Ext.isNumber(m)){J=a.getMinMaxXValues();x=true;m=J[0];o=J[1]}if(a.yField&&!Ext.isNumber(n)){J=a.getMinMaxYValues();n=J[0];p=J[1]}if(!Ext.isNumber(n)){n=0}if(!Ext.isNumber(p)){p=0}for(e=0,f=d.length;e<f;e++){g=d[e];B=g.get(a.xField);C=[];if(typeof B!="number"){if(x){B=+B}else{B=e}}j.push(B);E=0;for(D=0;D<i;D++){if(a.__excludes[D]){continue}I=g.get(h[D]);if(typeof I=="number"){C.push(I)}}k.push(C)}z=y.width/(o-m||1);A=y.height/(p-n||1);F=j.length;if(F>y.width&&a.areas){G=a.shrink(j,k,y.width);j=G.x;k=G.y}return{bbox:y,minX:m,minY:n,xValues:j,yValues:k,xScale:z,yScale:A,areasLen:i}},getPaths:function(){var a=this,b=a.chart,c=b.getChartStore(),d=true,e=a.getBounds(),f=e.bbox,g=a.items=[],h=[],i,j=0,k=[],l,m,n,o,p,q,r,s,t,u,v;m=e.xValues.length;for(l=0;l<m;l++){p=e.xValues[l];q=e.yValues[l];n=f.x+(p-e.minX)*e.xScale;r=0;j=0;for(s=0;s<e.areasLen;s++){if(a.__excludes[s]){continue}if(!h[s]){h[s]=[]}u=q[j];r+=u;o=f.y+f.height-(r-e.minY)*e.yScale;if(!k[s]){k[s]=["M",n,o];h[s].push(["L",n,o])}else{k[s].push("L",n,o);h[s].push(["L",n,o])}if(!g[s]){g[s]={pointsUp:[],pointsDown:[],series:a}}g[s].pointsUp.push([n,o]);j++}}for(s=0;s<e.areasLen;s++){if(a.__excludes[s]){continue}v=k[s];if(s==0||d){d=false;v.push("L",n,f.y+f.height,"L",f.x,f.y+f.height,"Z")}else{i=h[t];i.reverse();v.push("L",n,i[0][2]);for(l=0;l<m;l++){v.push(i[l][0],i[l][1],i[l][2]);g[s].pointsDown[m-l-1]=[i[l][1],i[l][2]]}v.push("L",f.x,v[2],"Z")}t=s}return{paths:k,areasLen:e.areasLen}},drawSeries:function(){var a=this,b=a.chart,c=b.getChartStore(),d=b.surface,e=b.animate,f=a.group,g=Ext.apply(a.seriesStyle,a.style),h=a.colorArrayStyle,i=h&&h.length||0,j,k,l,m,n;a.unHighlightItem();a.cleanHighlights();if(!c||!c.getCount()||a.seriesIsHidden){a.hide();a.items=[];return}l=a.getPaths();if(!a.areas){a.areas=[]}for(j=0;j<l.areasLen;j++){if(a.__excludes[j]){continue}if(!a.areas[j]){a.items[j].sprite=a.areas[j]=d.add(Ext.apply({},{type:"path",group:f,path:l.paths[j],stroke:g.stroke||h[j%i],fill:h[j%i]},g||{}))}k=a.areas[j];m=l.paths[j];if(e){n=a.renderer(k,false,{path:m,fill:h[j%i],stroke:g.stroke||h[j%i]},j,c);a.animation=a.onAnimate(k,{to:n})}else{n=a.renderer(k,false,{path:m,hidden:false,fill:h[j%i],stroke:g.stroke||h[j%i]},j,c);a.areas[j].setAttributes(n,true)}}a.renderLabels();a.renderCallouts()},onAnimate:function(a,b){a.show();return this.callParent(arguments)},onCreateLabel:function(a,b,c,d){var e=this,f=e.labelsGroup,g=e.label,h=e.bbox,i=Ext.apply(g,e.seriesLabelStyle);return e.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:f,x:b.point[0],y:h.y+h.height/2},i||{}))},onPlaceLabel:function(a,b,c,d,e,f,g){var h=this,i=h.chart,j=i.resizing,k=h.label,l=k.renderer,m=k.field,n=h.bbox,o=c.point[0],p=c.point[1],q,r,s;a.setAttributes({text:l(b.get(m[g])),hidden:true},true);q=a.getBBox();r=q.width/2;s=q.height/2;o=o-r<n.x?n.x+r:o;o=o+r>n.x+n.width?o-(o+r-n.x-n.width):o;p=p-s<n.y?n.y+s:p;p=p+s>n.y+n.height?p-(p+s-n.y-n.height):p;if(h.chart.animate&&!h.chart.resizing){a.show(true);h.onAnimate(a,{to:{x:o,y:p}})}else{a.setAttributes({x:o,y:p},true);if(j){h.animation.on("afteranimate",function(){a.show(true)})}else{a.show(true)}}},onPlaceCallout:function(a,b,c,d,e,f,g){var h=this,i=h.chart,j=i.surface,k=i.resizing,l=h.callouts,m=h.items,n=d==0?false:m[d-1].point,o=d==m.length-1?false:m[d+1].point,p=c.point,q,r,s,t,u,v,w=a.label.getBBox(),x=30,y=10,z=3,A,B,C,D,E,F=h.clipRect,G,H;if(!n){n=p}if(!o){o=p}t=(o[1]-n[1])/(o[0]-n[0]);u=(p[1]-n[1])/(p[0]-n[0]);v=(o[1]-p[1])/(o[0]-p[0]);r=Math.sqrt(1+t*t);q=[1/r,t/r];s=[-q[1],q[0]];if(u>0&&v<0&&s[1]<0||u<0&&v>0&&s[1]>0){s[0]*=-1;s[1]*=-1}else if(Math.abs(u)<Math.abs(v)&&s[0]<0||Math.abs(u)>Math.abs(v)&&s[0]>0){s[0]*=-1;s[1]*=-1}G=p[0]+s[0]*x;H=p[1]+s[1]*x;A=G+(s[0]>0?0:-(w.width+2*z));B=H-w.height/2-z;C=w.width+2*z;D=w.height+2*z;if(A<F[0]||A+C>F[0]+F[2]){s[0]*=-1}if(B<F[1]||B+D>F[1]+F[3]){s[1]*=-1}G=p[0]+s[0]*x;H=p[1]+s[1]*x;A=G+(s[0]>0?0:-(w.width+2*z));B=H-w.height/2-z;C=w.width+2*z;D=w.height+2*z;a.lines.setAttributes({path:["M",p[0],p[1],"L",G,H,"Z"]},true);a.box.setAttributes({x:A,y:B,width:C,height:D},true);a.label.setAttributes({x:G+(s[0]>0?z:-(w.width+z)),y:H},true);for(E in a){a[E].show(true)}},isItemInPoint:function(a,b,c,d){var e=this,f=c.pointsUp,g=c.pointsDown,h=Math.abs,i=false,j=false,k=Infinity,l,m,n;for(l=0,m=f.length;l<m;l++){n=[f[l][0],f[l][1]];i=false;j=l==m-1;if(k>h(a-n[0])){k=h(a-n[0]);i=true;if(j){++l}}if(!i||i&&j){n=f[l-1];if(b>=n[1]&&(!g.length||b<=g[l-1][1])){c.storeIndex=l-1;c.storeField=e.yField[d];c.storeItem=e.chart.store.getAt(l-1);c._points=g.length?[n,g[l-1]]:[n];return true}else{break}}}return false},highlightSeries:function(){var a,b,c;if(this._index!==undefined){a=this.areas[this._index];if(a.__highlightAnim){a.__highlightAnim.paused=true}a.__highlighted=true;a.__prevOpacity=a.__prevOpacity||a.attr.opacity||1;a.__prevFill=a.__prevFill||a.attr.fill;a.__prevLineWidth=a.__prevLineWidth||a.attr.lineWidth;c=Ext.draw.Color.fromString(a.__prevFill);b={lineWidth:(a.__prevLineWidth||0)+2};if(c){b.fill=c.getLighter(.2).toString()}else{b.opacity=Math.max(a.__prevOpacity-.3,0)}if(this.chart.animate){a.__highlightAnim=new Ext.fx.Anim(Ext.apply({target:a,to:b},this.chart.animate))}else{a.setAttributes(b,true)}}},unHighlightSeries:function(){var a;if(this._index!==undefined){a=this.areas[this._index];if(a.__highlightAnim){a.__highlightAnim.paused=true}if(a.__highlighted){a.__highlighted=false;a.__highlightAnim=new Ext.fx.Anim({target:a,to:{fill:a.__prevFill,opacity:a.__prevOpacity,lineWidth:a.__prevLineWidth}})}}},highlightItem:function(a){var b=this,c,d;if(!a){this.highlightSeries();return}c=a._points;d=c.length==2?["M",c[0][0],c[0][1],"L",c[1][0],c[1][1]]:["M",c[0][0],c[0][1],"L",c[0][0],b.bbox.y+b.bbox.height];b.highlightSprite.setAttributes({path:d,hidden:false},true)},unHighlightItem:function(a){if(!a){this.unHighlightSeries()}if(this.highlightSprite){this.highlightSprite.hide(true)}},hideAll:function(a){var b=this;a=(isNaN(b._index)?a:b._index)||0;b.__excludes[a]=true;b.areas[a].hide(true);b.redraw()},showAll:function(a){var b=this;a=(isNaN(b._index)?a:b._index)||0;b.__excludes[a]=false;b.areas[a].show(true);b.redraw()},redraw:function(){var a=this,b;b=a.chart.legend.rebuild;a.chart.legend.rebuild=false;a.chart.redraw();a.chart.legend.rebuild=b},hide:function(){if(this.areas){var a=this,b=a.areas,c,d,e,f,g;if(b&&b.length){for(c=0,f=b.length;c<f;++c){if(b[c]){b[c].hide(true)}}a.hideLabels()}}},getLegendColor:function(a){var b=this;return b.colorArrayStyle[a%b.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Gauge",{extend:"Ext.chart.series.Series",type:"gauge",alias:"series.gauge",rad:Math.PI/180,highlightDuration:150,angleField:false,needle:false,donut:false,showInLegend:false,style:{},constructor:function(a){this.callParent(arguments);var b=this,c=b.chart,d=c.surface,e=c.store,f=c.shadow,g,h,i;Ext.apply(b,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]});b.group=d.getGroup(b.seriesId);if(f){for(g=0,h=b.shadowAttributes.length;g<h;g++){b.shadowGroups.push(d.getGroup(b.seriesId+"-shadows"+g))}}d.customAttributes.segment=function(a){return b.getSegment(a)}},initialize:function(){var a=this,b=a.chart.getChartStore(),c=b.data.items,d,e,f;a.yField=[];if(a.label.field){for(d=0,e=c.length;d<e;d++){f=c[d];a.yField.push(f.get(a.label.field))}}},getSegment:function(a){var b=this,c=b.rad,d=Math.cos,e=Math.sin,f=Math.abs,g=b.centerX,h=b.centerY,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=.01,r=a.endRho-a.startRho,s=a.startAngle,t=a.endAngle,u=(s+t)/2*c,v=a.margin||0,w=f(t-s)>180,x=Math.min(s,t)*c,y=Math.max(s,t)*c,z=false;g+=v*d(u);h+=v*e(u);i=g+a.startRho*d(x);m=h+a.startRho*e(x);j=g+a.endRho*d(x);n=h+a.endRho*e(x);k=g+a.startRho*d(y);o=h+a.startRho*e(y);l=g+a.endRho*d(y);p=h+a.endRho*e(y);if(f(i-k)<=q&&f(m-o)<=q){z=true}if(z){return{path:[["M",i,m],["L",j,n],["A",a.endRho,a.endRho,0,+w,1,l,p],["Z"]]}}else{return{path:[["M",i,m],["L",j,n],["A",a.endRho,a.endRho,0,+w,1,l,p],["L",k,o],["A",a.startRho,a.startRho,0,+w,0,i,m],["Z"]]}}},calcMiddle:function(a){var b=this,c=b.rad,d=a.slice,e=b.centerX,f=b.centerY,g=d.startAngle,h=d.endAngle,i=Math.max("rho"in d?d.rho:b.radius,b.label.minMargin),j=+b.donut,k=Math.min(g,h)*c,l=Math.max(g,h)*c,m=-(k+(l-k)/2),n=e+(a.endRho+a.startRho)/2*Math.cos(m),o=f-(a.endRho+a.startRho)/2*Math.sin(m);a.middle={x:n,y:o}},drawSeries:function(){var a=this,b=a.chart,c=b.getChartStore(),d=a.group,e=a.chart.animate,f=a.chart.axes.get(0),g=f&&f.minimum||a.minimum||0,h=f&&f.maximum||a.maximum||0,i=a.angleField||a.field||a.xField,j=b.surface,k=b.chartBBox,l=a.rad,m=+a.donut,n={},o=[],p=a.seriesStyle,q=a.seriesLabelStyle,r=a.colorArrayStyle,s=r&&r.length||0,t=b.maxGutter[0],u=b.maxGutter[1],v=Math.cos,w=Math.sin,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T;Ext.apply(p,a.style||{});a.setBBox();Q=a.bbox;if(a.colorSet){r=a.colorSet;s=r.length}if(!c||!c.getCount()||a.seriesIsHidden){a.hide();a.items=[];return}y=a.centerX=k.x+k.width/2;z=a.centerY=k.y+k.height;a.radius=Math.min(y-k.x,z-k.y);a.slices=B=[];a.items=o=[];if(!a.value){G=c.getAt(0);a.value=G.get(i)}D=a.value;if(a.needle){S={series:a,value:D,startAngle:-180,endAngle:0,rho:a.radius};R=-180*(1-(D-g)/(h-g));B.push(S)}else{R=-180*(1-(D-g)/(h-g));S={series:a,value:D,startAngle:-180,endAngle:R,rho:a.radius};T={series:a,value:a.maximum-D,startAngle:R,endAngle:0,rho:a.radius};B.push(S,T)}for(H=0,F=B.length;H<F;H++){A=B[H];C=d.getAt(H);x=Ext.apply({segment:{startAngle:A.startAngle,endAngle:A.endAngle,margin:0,rho:A.rho,startRho:A.rho*+m/100,endRho:A.rho}},Ext.apply(p,r&&{fill:r[H%s]}||{}));E=Ext.apply({},x.segment,{slice:A,series:a,storeItem:G,index:H});o[H]=E;if(!C){P=Ext.apply({type:"path",group:d},Ext.apply(p,r&&{fill:r[H%s]}||{}));C=j.add(Ext.apply(P,x))}A.sprite=A.sprite||[];E.sprite=C;A.sprite.push(C);if(e){x=a.renderer(C,G,x,H,c);C._to=x;a.onAnimate(C,{to:x})}else{x=a.renderer(C,G,Ext.apply(x,{hidden:false}),H,c);C.setAttributes(x,true)}}if(a.needle){R=R*Math.PI/180;if(!a.needleSprite){a.needleSprite=a.chart.surface.add({type:"path",path:["M",y+a.radius*+m/100*v(R),z+ -Math.abs(a.radius*+m/100*w(R)),"L",y+a.radius*v(R),z+ -Math.abs(a.radius*w(R))],"stroke-width":4,stroke:"#222"})}else{if(e){a.onAnimate(a.needleSprite,{to:{path:["M",y+a.radius*+m/100*v(R),z+ -Math.abs(a.radius*+m/100*w(R)),"L",y+a.radius*v(R),z+ -Math.abs(a.radius*w(R))]}})}else{a.needleSprite.setAttributes({type:"path",path:["M",y+a.radius*+m/100*v(R),z+ -Math.abs(a.radius*+m/100*w(R)),"L",y+a.radius*v(R),z+ -Math.abs(a.radius*w(R))]})}}a.needleSprite.setAttributes({hidden:false},true)}delete a.value},setValue:function(a){this.value=a;this.drawSeries()},onCreateLabel:function(a,b,c,d){},onPlaceLabel:function(a,b,c,d,e,f,g){},onPlaceCallout:function(){},onAnimate:function(a,b){a.show();return this.callParent(arguments)},isItemInPoint:function(a,b,c,d){var e=this,f=e.centerX,g=e.centerY,h=Math.abs,i=h(a-f),j=h(b-g),k=c.startAngle,l=c.endAngle,m=Math.sqrt(i*i+j*j),n=Math.atan2(b-g,a-f)/e.rad;return d===0&&n>=k&&n<l&&m>=c.startRho&&m<=c.endRho},showAll:function(){if(!isNaN(this._index)){this.__excludes[this._index]=false;this.drawSeries()}},getLegendColor:function(a){var b=this;return b.colorArrayStyle[a%b.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Bar",{extend:"Ext.chart.series.Cartesian",alternateClassName:["Ext.chart.BarSeries","Ext.chart.BarChart","Ext.chart.StackedBarChart"],requires:["Ext.chart.axis.Axis","Ext.fx.Anim"],type:"bar",alias:"series.bar",column:false,style:{},gutter:38.2,groupGutter:38.2,xPadding:0,yPadding:10,constructor:function(a){this.callParent(arguments);var b=this,c=b.chart.surface,d=b.chart.shadow,e,f;a.highlightCfg=Ext.Object.merge({lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},a.highlightCfg);Ext.apply(b,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:1.2}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:.9}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:.6}}]});b.group=c.getGroup(b.seriesId+"-bars");if(d){for(e=0,f=b.shadowAttributes.length;e<f;e++){b.shadowGroups.push(c.getGroup(b.seriesId+"-shadows"+e))}}},getBarGirth:function(){var a=this,b=a.chart.getChartStore(),c=a.column,d=b.getCount(),e=a.gutter/100;return(a.chart.chartBBox[c?"width":"height"]-a[c?"xPadding":"yPadding"]*2)/(d*(e+1)-e)},getGutters:function(){var a=this,b=a.column,c=Math.ceil(a[b?"xPadding":"yPadding"]+a.getBarGirth()/2);return a.column?[c,0]:[0,c]},getBounds:function(){var a=this,b=a.chart,c=b.getChartStore(),d=c.data.items,e,f,g,h=[].concat(a.yField),i=h.length,j=i,k=a.groupGutter/100,l=a.column,m=a.xPadding,n=a.yPadding,o=a.stacked,p=a.getBarGirth(),q=l?"width":"height",r=Math,s=r.min,t=r.max,u=r.abs,v=a.getAxesForXAndYFields(),w=v.yAxis,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;a.setBBox(true);A=a.bbox;if(a.__excludes){for(J=0,H=a.__excludes.length;J<H;J++){if(a.__excludes[J]){j--}}}D=b.axes.get(w);if(D){x=D.applyData();B=x.from;C=x.to}if(a.yField&&!Ext.isNumber(B)){E=a.getMinMaxYValues();B=E[0];C=E[1]}if(!Ext.isNumber(B)){B=0}if(!Ext.isNumber(C)){C=0}F=(l?A.height-n*2:A.width-m*2)/(C-B);y=p;z=p/((o?1:j)*(k+1)-k);if(q in a.style){z=s(z,a.style[q]);y=z*((o?1:j)*(k+1)-k)}G=l?A.y+A.height-n:A.x+m;if(o){H=[[],[]];for(e=0,f=d.length;e<f;e++){g=d[e];H[0][e]=H[0][e]||0;H[1][e]=H[1][e]||0;for(J=0;J<i;J++){if(a.__excludes&&a.__excludes[J]){continue}I=g.get(h[J]);H[+(I>0)][e]+=u(I)}}H[+(C>0)].push(u(C));H[+(B>0)].push(u(B));L=t.apply(r,H[0]);K=t.apply(r,H[1]);F=(l?A.height-n*2:A.width-m*2)/(K+L);G=G+L*F*(l?-1:1)}else if(B/C<0){G=G-B*F*(l?-1:1)}return{bars:h,bbox:A,shrunkBarWidth:y,barsLen:i,groupBarsLen:j,barWidth:p,groupBarWidth:z,scale:F,zero:G,xPadding:m,yPadding:n,signed:B/C<0,minY:B,maxY:C}},getPaths:function(){var a=this,b=a.chart,c=b.getChartStore(),d=c.data.items,e,f,g,h=a.bounds=a.getBounds(),i=a.items=[],j=a.yField,k=a.gutter/100,l=a.groupGutter/100,m=b.animate,n=a.column,o=a.group,p=b.shadow,q=a.shadowGroups,r=a.shadowAttributes,s=q.length,t=h.bbox,u=h.barWidth,v=h.shrunkBarWidth,w=a.xPadding,x=a.yPadding,y=a.stacked,z=h.barsLen,A=a.colorArrayStyle,B=A&&A.length||0,C=Math,D=C.max,E=C.min,F=C.abs,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V;for(e=0,f=d.length;e<f;e++){g=d[e];L=h.zero;M=h.zero;J=0;K=0;N=false;for(G=0,Q=0;G<z;G++){if(a.__excludes&&a.__excludes[G]){continue}H=g.get(h.bars[G]);I=Math.round((H-D(h.minY,0))*h.scale);O={fill:A[(z>1?G:0)%B]};if(n){Ext.apply(O,{height:I,width:D(h.groupBarWidth,0),x:t.x+w+(u-v)*.5+e*u*(1+k)+Q*h.groupBarWidth*(1+l)*!y,y:L-I})}else{U=f-1-e;Ext.apply(O,{height:D(h.groupBarWidth,0),width:I+(L==h.zero),x:L+(L!=h.zero),y:t.y+x+(u-v)*.5+U*u*(1+k)+Q*h.groupBarWidth*(1+l)*!y+1})}if(I<0){if(n){O.y=M;O.height=F(I)}else{O.x=M+I;O.width=F(I)}}if(y){if(I<0){M+=I*(n?-1:1)}else{L+=I*(n?-1:1)}J+=F(I);if(I<0){K+=F(I)}}O.x=Math.floor(O.x)+1;V=Math.floor(O.y);if(!Ext.isIE9&&O.y>V){V--}O.y=V;O.width=Math.floor(O.width);O.height=Math.floor(O.height);i.push({series:a,yField:j[G],storeItem:g,value:[g.get(a.xField),H],attr:O,point:n?[O.x+O.width/2,H>=0?O.y:O.y+O.height]:[H>=0?O.x+O.width:O.x,O.y+O.height/2]});if(m&&b.resizing){P=n?{x:O.x,y:h.zero,width:O.width,height:0}:{x:h.zero,y:O.y,width:0,height:O.height};if(p&&(y&&!N||!y)){N=true;for(R=0;R<s;R++){S=q[R].getAt(y?e:e*z+G);if(S){S.setAttributes(P,true)}}}T=o.getAt(e*z+G);if(T){T.setAttributes(P,true)}}Q++}if(y&&i.length){i[e*Q].totalDim=J;i[e*Q].totalNegDim=K}}if(y&&Q==0){for(e=0,f=d.length;e<f;e++){for(R=0;R<s;R++){S=q[R].getAt(e);if(S){S.hide(true)}}}}},renderShadows:function(a,b,c,d){var e=this,f=e.chart,g=f.surface,h=f.animate,i=e.stacked,j=e.shadowGroups,k=e.shadowAttributes,l=j.length,m=f.getChartStore(),n=e.column,o=e.items,p=[],q=d.zero,r,s,t,u,v,w,x;if(i&&a%d.groupBarsLen===0||!i){w=a/d.groupBarsLen;for(r=0;r<l;r++){s=Ext.apply({},k[r]);t=j[r].getAt(i?w:a);Ext.copyTo(s,b,"x,y,width,height");if(!t){t=g.add(Ext.apply({type:"rect",group:j[r]},Ext.apply({},c,s)))}if(i){u=o[a].totalDim;v=o[a].totalNegDim;if(n){s.y=q+v-u-1;s.height=u}else{s.x=q-v;s.width=u}}x=e.renderer(t,m.getAt(w),s,a,m);x.hidden=!!b.hidden;if(h){e.onAnimate(t,{to:x})}else{t.setAttributes(x,true)}p.push(t)}}return p},drawSeries:function(){var a=this,b=a.chart,c=b.getChartStore(),d=b.surface,e=b.animate,f=a.stacked,g=a.column,h=b.shadow,i=a.shadowGroups,j=i.length,k=a.group,l=a.seriesStyle,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(!c||!c.getCount()||a.seriesIsHidden){a.hide();a.items=[];return}w=Ext.apply({},this.style,l);delete w.fill;delete w.x;delete w.y;delete w.width;delete w.height;a.unHighlightItem();a.cleanHighlights();a.getPaths();v=a.bounds;m=a.items;q=g?{y:v.zero,height:0}:{x:v.zero,width:0};n=m.length;for(o=0;o<n;o++){r=k.getAt(o);x=m[o].attr;if(h){m[o].shadows=a.renderShadows(o,x,q,v)}if(!r){y=Ext.apply({},q,x);y=Ext.apply(y,w||{});r=d.add(Ext.apply({},{type:"rect",group:k},y))}if(e){s=a.renderer(r,c.getAt(o),x,o,c);r._to=s;z=a.onAnimate(r,{to:Ext.apply(s,w)});if(h&&f&&o%v.barsLen===0){p=o/v.barsLen;for(t=0;t<j;t++){z.on("afteranimate",function(){this.show(true)},i[t].getAt(p))}}}else{s=a.renderer(r,c.getAt(o),Ext.apply(x,{hidden:false}),o,c);r.setAttributes(Ext.apply(s,w),true)}m[o].sprite=r}n=k.getCount();for(p=o;p<n;p++){k.getAt(p).hide(true)}if(a.stacked){o=c.getCount()}if(h){for(t=0;t<j;t++){u=i[t];n=u.getCount();for(p=o;p<n;p++){u.getAt(p).hide(true)}}}a.renderLabels()},onCreateLabel:function(a,b,c,d){var e=this,f=e.chart.surface,g=e.labelsGroup,h=e.label,i=Ext.apply({},h,e.seriesLabelStyle||{}),j;return f.add(Ext.apply({type:"text",group:g},i||{}))},onPlaceLabel:function(a,b,c,d,e,f,g,h){var i=this,j=i.bounds,k=j.groupBarWidth,l=i.column,m=i.chart,n=m.chartBBox,o=m.resizing,p=c.value[0],q=c.value[1],r=c.attr,s=i.label,t=s.orientation=="vertical",u=[].concat(s.field),v=s.renderer,w=v(b.get(u[h])),x=i.getLabelSize(w),y=x.width,z=x.height,A=j.zero,B="outside",C="insideStart",D="insideEnd",E=10,F=6,G=j.signed,H,I,J;a.setAttributes({text:w});a.isOutside=false;if(l){if(e==B){if(z+F+r.height>(q>=0?A-n.y:n.y+n.height-A)){e=D}}else{if(z+F>r.height){e=B;a.isOutside=true}}H=r.x+k/2;I=e==C?A+(z/2+3)*(q>=0?-1:1):q>=0?r.y+(z/2+3)*(e==B?-1:1):r.y+r.height+(z/2+3)*(e===B?1:-1)}else{if(e==B){if(y+E+r.width>(q>=0?n.x+n.width-A:A-n.x)){e=D}}else{if(y+E>r.width){e=B;a.isOutside=true}}H=e==C?A+(y/2+5)*(q>=0?1:-1):q>=0?r.x+r.width+(y/2+5)*(e===B?1:-1):r.x+(y/2+5)*(e===B?-1:1);I=r.y+k/2}J={x:H,y:I};if(t){J.rotate={x:H,y:I,degrees:270}}if(f&&o){if(l){H=r.x+r.width/2;I=A}else{H=A;I=r.y+r.height/2}a.setAttributes({x:H,y:I},true);if(t){a.setAttributes({rotate:{x:H,y:I,degrees:270}},true)}}if(f){i.onAnimate(a,{to:J})}else{a.setAttributes(Ext.apply(J,{hidden:false}),true)}},getLabelSize:function(a){var b=this.testerLabel,c=this.label,d=Ext.apply({},c,this.seriesLabelStyle||{}),e=c.orientation==="vertical",f,g,h,i;if(!b){b=this.testerLabel=this.chart.surface.add(Ext.apply({type:"text",opacity:0},d))}b.setAttributes({text:a},true);f=b.getBBox();g=f.width;h=f.height;return{width:e?h:g,height:e?g:h}},onAnimate:function(a,b){a.show();return this.callParent(arguments)},isItemInPoint:function(a,b,c){var d=c.sprite.getBBox();return d.x<=a&&d.y<=b&&d.x+d.width>=a&&d.y+d.height>=b},hideAll:function(a){var b=this.chart.axes,c=b.items,d=c.length,e=0;a=(isNaN(this._index)?a:this._index)||0;if(!this.__excludes){this.__excludes=[]}this.__excludes[a]=true;this.drawSeries();for(e;e<d;e++){c[e].drawAxis()}},showAll:function(a){var b=this.chart.axes,c=b.items,d=c.length,e=0;a=(isNaN(this._index)?a:this._index)||0;if(!this.__excludes){this.__excludes=[]}this.__excludes[a]=false;this.drawSeries();for(e;e<d;e++){c[e].drawAxis()}},getLegendColor:function(a){var b=this,c=b.colorArrayStyle.length;if(b.style&&b.style.fill){return b.style.fill}else{return b.colorArrayStyle[a%c]}},highlightItem:function(a){this.callParent(arguments);this.renderLabels()},unHighlightItem:function(){this.callParent(arguments);this.renderLabels()},cleanHighlights:function(){this.callParent(arguments);this.renderLabels()}});Ext.define("Ext.chart.series.Column",{alternateClassName:["Ext.chart.ColumnSeries","Ext.chart.ColumnChart","Ext.chart.StackedColumnChart"],extend:"Ext.chart.series.Bar",type:"column",alias:"series.column",column:true,xPadding:10,yPadding:0});Ext.define("Ext.chart.series.Line",{extend:"Ext.chart.series.Cartesian",alternateClassName:["Ext.chart.LineSeries","Ext.chart.LineChart"],requires:["Ext.chart.axis.Axis","Ext.chart.Shape","Ext.draw.Draw","Ext.fx.Anim"],type:"line",alias:"series.line",selectionTolerance:20,showMarkers:true,markerConfig:{},style:{},smooth:false,defaultSmoothness:3,fill:false,constructor:function(a){this.callParent(arguments);var b=this,c=b.chart.surface,d=b.chart.shadow,e,f;a.highlightCfg=Ext.Object.merge({"stroke-width":3},a.highlightCfg);Ext.apply(b,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}}]});b.group=c.getGroup(b.seriesId);if(b.showMarkers){b.markerGroup=c.getGroup(b.seriesId+"-markers")}if(d){for(e=0,f=b.shadowAttributes.length;e<f;e++){b.shadowGroups.push(c.getGroup(b.seriesId+"-shadows"+e))}}},shrink:function(a,b,c){var d=a.length,e=Math.floor(d/c),f=1,g=0,h=0,i=[+a[0]],j=[+b[0]];for(;f<d;++f){g+=+a[f]||0;h+=+b[f]||0;if(f%e==0){i.push(g/e);j.push(h/e);g=0;h=0}}return{x:i,y:j}},drawSeries:function(){var a=this,b=a.chart,c=b.axes,d=b.getChartStore(),e=d.data.items,f,g=d.getCount(),h=a.chart.surface,i={},j=a.group,k=a.showMarkers,l=a.markerGroup,m=b.shadow,n=a.shadowGroups,o=a.shadowAttributes,p=a.smooth,q=n.length,r=["M"],s=["M"],t=["M"],u=["M"],v=b.markerIndex,w=[].concat(a.axis),x,y=[],z={},A=[],B={},C=false,D=[],E=a.markerStyle,F=a.seriesStyle,G=a.colorArrayStyle,H=G&&G.length||0,I=Ext.isNumber,J=a.seriesIdx,K=a.getAxesForXAndYFields(),L=K.xAxis,M=K.yAxis,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb;if(a.fireEvent("beforedraw",a)===false){return}if(!g||a.seriesIsHidden){a.hide();a.items=[];if(a.line){a.line.hide(true);if(a.line.shadows){N=a.line.shadows;for(ab=0,q=N.length;ab<q;ab++){O=N[ab];O.hide(true)}}if(a.fillPath){a.fillPath.hide(true)}}a.line=null;a.fillPath=null;return}sb=Ext.apply(E||{},a.markerConfig,{fill:a.seriesStyle.fill||G[J%G.length]});ub=sb.type;delete sb.type;tb=F;if(!tb["stroke-width"]){tb["stroke-width"]=.5}wb="opacity"in tb?tb.opacity:1;zb="opacity"in tb?tb.opacity:.3;xb="lineOpacity"in tb?tb.lineOpacity:wb;yb="fillOpacity"in tb?tb.fillOpacity:zb;if(v&&l&&l.getCount()){for(_=0;_<v;_++){eb=l.getAt(_);l.remove(eb);l.add(eb);fb=l.getAt(l.getCount()-2);eb.setAttributes({x:0,y:0,translate:{x:fb.attr.translation.x,y:fb.attr.translation.y}},true)}}a.unHighlightItem();a.cleanHighlights();a.setBBox();i=a.bbox;a.clipRect=[i.x,i.y,i.width,i.height];if(cb=c.get(L)){db=cb.applyData();mb=db.from;nb=db.to}if(cb=c.get(M)){db=cb.applyData();ob=db.from;pb=db.to}if(a.xField&&!Ext.isNumber(mb)){cb=a.getMinMaxXValues();mb=cb[0];nb=cb[1]}if(a.yField&&!Ext.isNumber(ob)){cb=a.getMinMaxYValues();ob=cb[0];pb=cb[1]}if(isNaN(mb)){mb=0;kb=i.width/(g-1||1)}else{kb=i.width/(nb-mb||g-1||1)}if(isNaN(ob)){ob=0;lb=i.height/(g-1||1)}else{lb=i.height/(pb-ob||g-1||1)}for(_=0,bb=e.length;_<bb;_++){f=e[_];hb=f.get(a.xField);if(typeof hb=="string"||typeof hb=="object"&&!Ext.isDate(hb)||L&&c.get(L)&&c.get(L).type=="Category"){if(hb in z){hb=z[hb]}else{hb=z[hb]=_}}ib=f.get(a.yField);if(typeof ib=="undefined"||typeof ib=="string"&&!ib){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("[Ext.chart.series.Line]  Skipping a store element with an undefined value at ",f,hb,ib)}continue}if(typeof ib=="string"||typeof ib=="object"&&!Ext.isDate(ib)||M&&c.get(M)&&c.get(M).type=="Category"){ib=_}D.push(_);y.push(hb);A.push(ib)}bb=y.length;if(bb>i.width){jb=a.shrink(y,A,i.width);y=jb.x;A=jb.y}a.items=[];vb=0;bb=y.length;for(_=0;_<bb;_++){hb=y[_];ib=A[_];if(ib===false){if(s.length==1){s=[]}C=true;a.items.push(false);continue}else{U=(i.x+(hb-mb)*kb).toFixed(2);V=(i.y+i.height-(ib-ob)*lb).toFixed(2);if(C){C=false;s.push("M")}s=s.concat([U,V])}if(typeof Z=="undefined"&&typeof V!="undefined"){Z=V;Y=U}if(!a.line||b.resizing){r=r.concat([U,i.y+i.height/2])}if(b.animate&&b.resizing&&a.line){a.line.setAttributes({path:r,opacity:xb},true);if(a.fillPath){a.fillPath.setAttributes({path:r,opacity:yb},true)}if(a.line.shadows){N=a.line.shadows;for(ab=0,q=N.length;ab<q;ab++){O=N[ab];O.setAttributes({path:r},true)}}}if(k){eb=l.getAt(vb++);if(!eb){eb=Ext.chart.Shape[ub](h,Ext.apply({group:[j,l],x:0,y:0,translate:{x:+(W||U),y:X||i.y+i.height/2},value:'"'+hb+", "+ib+'"',zIndex:4e3},sb));eb._to={translate:{x:+U,y:+V}}}else{eb.setAttributes({value:'"'+hb+", "+ib+'"',x:0,y:0,hidden:false},true);eb._to={translate:{x:+U,y:+V}}}}a.items.push({series:a,value:[hb,ib],point:[U,V],sprite:eb,storeItem:d.getAt(D[_])});W=U;X=V}if(s.length<=1){return}if(a.smooth){u=Ext.draw.Draw.smooth(s,I(p)?p:a.defaultSmoothness)}t=p?u:s;if(b.markerIndex&&a.previousPath){Q=a.previousPath;if(!p){Ext.Array.erase(Q,1,2)}}else{Q=s}if(!a.line){a.line=h.add(Ext.apply({type:"path",group:j,path:r,stroke:tb.stroke||tb.fill},tb||{}));a.line.setAttributes({opacity:xb},true);if(m){a.line.setAttributes(Ext.apply({},a.shadowOptions),true)}a.line.setAttributes({fill:"none",zIndex:3e3});if(!tb.stroke&&H){a.line.setAttributes({stroke:G[J%H]},true)}if(m){N=a.line.shadows=[];for(P=0;P<q;P++){x=o[P];x=Ext.apply({},x,{path:r});O=h.add(Ext.apply({},{type:"path",group:n[P]},x));N.push(O)}}}if(a.fill){S=t.concat([["L",U,i.y+i.height],["L",Y,i.y+i.height],["L",Y,Z]]);if(!a.fillPath){a.fillPath=h.add({group:j,type:"path",fill:tb.fill||G[J%H],path:r})}}$=k&&l.getCount();if(b.animate){R=a.fill;qb=a.line;T=a.renderer(qb,false,{path:t},_,d);Ext.apply(T,tb||{},{stroke:tb.stroke||tb.fill});delete T.fill;qb.show(true);if(b.markerIndex&&a.previousPath){a.animation=rb=a.onAnimate(qb,{to:T,from:{path:Q}})}else{a.animation=rb=a.onAnimate(qb,{to:T})}if(m){N=qb.shadows;for(ab=0;ab<q;ab++){N[ab].show(true);if(b.markerIndex&&a.previousPath){a.onAnimate(N[ab],{to:{path:t},from:{path:Q}})}else{a.onAnimate(N[ab],{to:{path:t}})}}}if(R){a.fillPath.show(true);a.onAnimate(a.fillPath,{to:Ext.apply({},{path:S,fill:tb.fill||G[J%H],"stroke-width":0,opacity:yb},tb||{})})}if(k){vb=0;for(_=0;_<bb;_++){if(a.items[_]){gb=l.getAt(vb++);if(gb){T=a.renderer(gb,d.getAt(_),gb._to,_,d);a.onAnimate(gb,{to:Ext.apply(T,sb||{})});gb.show(true)}}}for(;vb<$;vb++){gb=l.getAt(vb);gb.hide(true)}}}else{T=a.renderer(a.line,false,{path:t,hidden:false},_,d);Ext.apply(T,tb||{},{stroke:tb.stroke||tb.fill});delete T.fill;a.line.setAttributes(T,true);a.line.setAttributes({opacity:xb},true);if(m){N=a.line.shadows;for(ab=0;ab<q;ab++){N[ab].setAttributes({path:t,hidden:false},true)}}if(a.fill){a.fillPath.setAttributes({path:S,hidden:false,opacity:yb},true)}if(k){vb=0;for(_=0;_<bb;_++){if(a.items[_]){gb=l.getAt(vb++);if(gb){T=a.renderer(gb,d.getAt(_),gb._to,_,d);gb.setAttributes(Ext.apply(sb||{},T||{}),true);if(!gb.attr.hidden){gb.show(true)}}}}for(;vb<$;vb++){gb=l.getAt(vb);gb.hide(true)}}}if(b.markerIndex){if(a.smooth){Ext.Array.erase(s,1,2)}else{Ext.Array.splice(s,1,0,s[1],s[2])}a.previousPath=s}a.renderLabels();a.renderCallouts();a.fireEvent("draw",a)},onCreateLabel:function(a,b,c,d){var e=this,f=e.labelsGroup,g=e.label,h=e.bbox,i=Ext.apply(g,e.seriesLabelStyle);return e.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:f,x:b.point[0],y:h.y+h.height/2},i||{}))},onPlaceLabel:function(a,b,c,d,e,f){var g=this,h=g.chart,i=h.resizing,j=g.label,k=j.renderer,l=j.field,m=g.bbox,n=c.point[0],o=c.point[1],p=c.sprite.attr.radius,q,r,s;a.setAttributes({text:k(b.get(l)),hidden:true},true);if(e=="rotate"){a.setAttributes({"text-anchor":"start",rotation:{x:n,y:o,degrees:-45}},true);q=a.getBBox();r=q.width;s=q.height;n=n<m.x?m.x:n;n=n+r>m.x+m.width?n-(n+r-m.x-m.width):n;o=o-s<m.y?m.y+s:o}else if(e=="under"||e=="over"){q=c.sprite.getBBox();q.width=q.width||p*2;q.height=q.height||p*2;o=o+(e=="over"?-q.height:q.height);q=a.getBBox();r=q.width/2;s=q.height/2;n=n-r<m.x?m.x+r:n;n=n+r>m.x+m.width?n-(n+r-m.x-m.width):n;o=o-s<m.y?m.y+s:o;o=o+s>m.y+m.height?o-(o+s-m.y-m.height):o}if(g.chart.animate&&!g.chart.resizing){a.show(true);g.onAnimate(a,{to:{x:n,y:o}})}else{a.setAttributes({x:n,y:o},true);if(i&&g.animation){g.animation.on("afteranimate",function(){a.show(true)})}else{a.show(true)}}},highlightItem:function(){var a=this;a.callParent(arguments);if(a.line&&!a.highlighted){if(!("__strokeWidth"in a.line)){a.line.__strokeWidth=parseFloat(a.line.attr["stroke-width"])||0}if(a.line.__anim){a.line.__anim.paused=true}a.line.__anim=Ext.create("Ext.fx.Anim",{target:a.line,to:{"stroke-width":a.line.__strokeWidth+3}});a.highlighted=true}},unHighlightItem:function(){var a=this;a.callParent(arguments);if(a.line&&a.highlighted){a.line.__anim=Ext.create("Ext.fx.Anim",{target:a.line,to:{"stroke-width":a.line.__strokeWidth}});a.highlighted=false}},onPlaceCallout:function(a,b,c,d,e,f,g){if(!e){return}var h=this,i=h.chart,j=i.surface,k=i.resizing,l=h.callouts,m=h.items,n=d==0?false:m[d-1].point,o=d==m.length-1?false:m[d+1].point,p=[+c.point[0],+c.point[1]],q,r,s,t,u,v,w=l.offsetFromViz||30,x=l.offsetToSide||10,y=l.offsetBox||3,z,A,B,C,D,E=h.clipRect,F={width:l.styles.width||10,height:l.styles.height||10},G,H;if(!n){n=p}if(!o){o=p}t=(o[1]-n[1])/(o[0]-n[0]);u=(p[1]-n[1])/(p[0]-n[0]);v=(o[1]-p[1])/(o[0]-p[0]);r=Math.sqrt(1+t*t);q=[1/r,t/r];s=[-q[1],q[0]];if(u>0&&v<0&&s[1]<0||u<0&&v>0&&s[1]>0){s[0]*=-1;s[1]*=-1}else if(Math.abs(u)<Math.abs(v)&&s[0]<0||Math.abs(u)>Math.abs(v)&&s[0]>0){s[0]*=-1;s[1]*=-1}G=p[0]+s[0]*w;H=p[1]+s[1]*w;z=G+(s[0]>0?0:-(F.width+2*y));A=H-F.height/2-y;B=F.width+2*y;C=F.height+2*y;if(z<E[0]||z+B>E[0]+E[2]){s[0]*=-1}if(A<E[1]||A+C>E[1]+E[3]){s[1]*=-1}G=p[0]+s[0]*w;H=p[1]+s[1]*w;z=G+(s[0]>0?0:-(F.width+2*y));A=H-F.height/2-y;B=F.width+2*y;C=F.height+2*y;if(i.animate){h.onAnimate(a.lines,{to:{path:["M",p[0],p[1],"L",G,H,"Z"]}});if(a.panel){a.panel.setPosition(z,A,true)}}else{a.lines.setAttributes({path:["M",p[0],p[1],"L",G,H,"Z"]},true);if(a.panel){a.panel.setPosition(z,A)}}for(D in a){a[D].show(true)}},isItemInPoint:function(a,b,c,d){var e=this,f=e.items,g=e.selectionTolerance,h=null,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=Math.sqrt,z=Math.abs;j=f[d];i=d&&f[d-1];if(d>=m){i=f[m-1]}k=i&&i.point;l=j&&j.point;n=i?k[0]:l[0]-g;o=i?k[1]:l[1];p=j?l[0]:k[0]+g;q=j?l[1]:k[1];t=y((a-n)*(a-n)+(b-o)*(b-o));u=y((a-p)*(a-p)+(b-q)*(b-q));v=Math.min(t,u);if(v<=g){return v==t?i:j}return false},toggleAll:function(a){var b=this,c,d,e,f;if(!a){Ext.chart.series.Cartesian.prototype.hideAll.call(b)}else{Ext.chart.series.Cartesian.prototype.showAll.call(b)}if(b.line){b.line.setAttributes({hidden:!a},true);if(b.line.shadows){for(c=0,f=b.line.shadows,d=f.length;c<d;c++){e=f[c];e.setAttributes({hidden:!a},true)}}}if(b.fillPath){b.fillPath.setAttributes({hidden:!a},true)}},hideAll:function(){this.toggleAll(false)},showAll:function(){this.toggleAll(true)}});Ext.define("Ext.chart.series.Radar",{extend:"Ext.chart.series.Series",requires:["Ext.chart.Shape","Ext.fx.Anim"],type:"radar",alias:"series.radar",rad:Math.PI/180,showInLegend:false,style:{},constructor:function(a){this.callParent(arguments);var b=this,c=b.chart.surface,d,e;b.group=c.getGroup(b.seriesId);if(b.showMarkers){b.markerGroup=c.getGroup(b.seriesId+"-markers")}},drawSeries:function(){var a=this,b=a.chart.getChartStore(),c=b.data.items,d,e,f=a.group,g,h=a.chart,i=h.series.items,j,k,l,m=h.animate,n=a.field||a.yField,o=h.surface,p=h.chartBBox,q=a.seriesIdx,r=a.colorArrayStyle,s,t,u,v,w=0,x=[],y=Math.max,z=Math.cos,A=Math.sin,B=Math.PI*2,C=b.getCount(),D,E,F,G,H,I,J,K=a.seriesStyle,L=a.seriesLabelStyle,M=h.resizing||!a.radar,N=h.axes&&h.axes.get(0),O=!(N&&N.maximum);a.setBBox();w=O?0:N.maximum||0;Ext.apply(K,a.style||{});if(!b||!b.getCount()||a.seriesIsHidden){a.hide();a.items=[];if(a.radar){a.radar.hide(true)}a.radar=null;return}if(!K["stroke"]){K["stroke"]=r[q%r.length]}a.unHighlightItem();a.cleanHighlights();s=a.centerX=p.x+p.width/2;t=a.centerY=p.y+p.height/2;a.radius=v=Math.min(p.width,p.height)/2;a.items=u=[];if(O){for(j=0,k=i.length;j<k;j++){l=i[j];x.push(l.yField)}for(d=0;d<C;d++){e=c[d];for(I=0,J=x.length;I<J;I++){w=y(+e.get(x[I]),w)}}}w=w||1;D=[];E=[];for(I=0;I<C;I++){e=c[I];H=v*e.get(n)/w;F=H*z(I/C*B);G=H*A(I/C*B);if(I==0){E.push("M",F+s,G+t);D.push("M",.01*F+s,.01*G+t)}else{E.push("L",F+s,G+t);D.push("L",.01*F+s,.01*G+t)}u.push({sprite:false,point:[s+F,t+G],storeItem:e,series:a})}E.push("Z");if(!a.radar){a.radar=o.add(Ext.apply({type:"path",group:f,path:D},K||{}))}if(h.resizing){a.radar.setAttributes({path:D},true)}if(h.animate){a.onAnimate(a.radar,{to:Ext.apply({path:E},K||{})})}else{a.radar.setAttributes(Ext.apply({path:E},K||{}),true)}if(a.showMarkers){a.drawMarkers()}a.renderLabels();a.renderCallouts()},drawMarkers:function(){var a=this,b=a.chart,c=b.surface,d=Ext.apply({},a.markerStyle||{}),e=Ext.apply(d,a.markerConfig,{fill:a.colorArrayStyle[a.seriesIdx%a.colorArrayStyle.length]}),f=a.items,g=e.type,h=a.markerGroup,i=a.centerX,j=a.centerY,k,l,m,n;delete e.type;for(l=0,m=f.length;l<m;l++){k=f[l];n=h.getAt(l);if(!n){n=Ext.chart.Shape[g](c,Ext.apply({group:h,x:0,y:0,translate:{x:i,y:j}},e))}else{n.show()}k.sprite=n;if(b.resizing){n.setAttributes({x:0,y:0,translate:{x:i,y:j}},true)}n._to={translate:{x:k.point[0],y:k.point[1]}};if(b.animate){a.onAnimate(n,{to:n._to})}else{n.setAttributes(Ext.apply(n._to,e||{}),true)}}},isItemInPoint:function(a,b,c){var d,e=10,f=Math.abs;d=c.point;return f(d[0]-a)<=e&&f(d[1]-b)<=e},onCreateLabel:function(a,b,c,d){var e=this,f=e.labelsGroup,g=e.label,h=e.centerX,i=e.centerY,j=b.point,k=Ext.apply(e.seriesLabelStyle||{},g);return e.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:f,x:h,y:i},g||{}))},onPlaceLabel:function(a,b,c,d,e,f){var g=this,h=g.chart,i=h.resizing,j=g.label,k=j.renderer,l=j.field,m=g.centerX,n=g.centerY,o={x:c.point[0],y:c.point[1]},p=o.x-m,q=o.y-n;a.setAttributes({text:k(b.get(l)),hidden:true},true);if(i){a.setAttributes({x:m,y:n},true)}if(f){a.show(true);g.onAnimate(a,{to:o})}else{a.setAttributes(o,true);a.show(true)}},toggleAll:function(a){var b=this,c,d,e,f;if(!a){Ext.chart.series.Radar.superclass.hideAll.call(b)}else{Ext.chart.series.Radar.superclass.showAll.call(b)}if(b.radar){b.radar.setAttributes({hidden:!a},true);if(b.radar.shadows){for(c=0,f=b.radar.shadows,d=f.length;c<d;c++){e=f[c];e.setAttributes({hidden:!a},true)}}}},hideAll:function(){this.toggleAll(false);this.hideMarkers(0)},showAll:function(){this.toggleAll(true)},hideMarkers:function(a){var b=this,c=b.markerGroup&&b.markerGroup.getCount()||0,d=a||0;for(;d<c;d++){b.markerGroup.getAt(d).hide(true)}}});Ext.define("Ext.chart.series.Pie",{alternateClassName:["Ext.chart.PieSeries","Ext.chart.PieChart"],extend:"Ext.chart.series.Series",type:"pie",alias:"series.pie",accuracy:1e5,rad:Math.PI*2/1e5,highlightDuration:150,angleField:false,lengthField:false,donut:false,showInLegend:false,style:{},constructor:function(a){this.callParent(arguments);var b=this,c=b.chart,d=c.surface,e=c.store,f=c.shadow,g,h,i;a.highlightCfg=Ext.merge({segment:{margin:20}},a.highlightCfg);Ext.apply(b,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]});b.group=d.getGroup(b.seriesId);if(f){for(g=0,h=b.shadowAttributes.length;g<h;g++){b.shadowGroups.push(d.getGroup(b.seriesId+"-shadows"+g))}}d.customAttributes.segment=function(a){var c=b.getSegment(a);if(!c.path||c.path.length===0){c.path=["M",0,0]}return c};b.__excludes=b.__excludes||[]},initialize:function(){var a=this,b=a.chart.getChartStore(),c=b.data.items,d,e,f;a.yField=[];if(a.label.field){for(d=0,e=c.length;d<e;d++){f=c[d];a.yField.push(f.get(a.label.field))}}},getSegment:function(a){var b=this,c=b.rad,d=Math.cos,e=Math.sin,f=b.centerX,g=b.centerY,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=.01,u=a.startAngle,v=a.endAngle,w=(u+v)/2*c,x=a.margin||0,y=Math.min(u,v)*c,z=Math.max(u,v)*c,A=d(y),B=e(y),C=d(z),D=e(z),E=d(w),F=e(w),G=0,H=.7071067811865476;if(z-y<t){return{path:""}}if(x!==0){f+=x*E;g+=x*F}i=f+a.endRho*A;m=g+a.endRho*B;k=f+a.endRho*C;o=g+a.endRho*D;r=f+a.endRho*E;s=g+a.endRho*F;if(a.startRho!==0){h=f+a.startRho*A;l=g+a.startRho*B;j=f+a.startRho*C;n=g+a.startRho*D;p=f+a.startRho*E;q=g+a.startRho*F;return{path:[["M",i,m],["A",a.endRho,a.endRho,0,0,1,r,s],["L",r,s],["A",a.endRho,a.endRho,0,G,1,k,o],["L",k,o],["L",j,n],["A",a.startRho,a.startRho,0,G,0,p,q],["L",p,q],["A",a.startRho,a.startRho,0,0,0,h,l],["L",h,l],["Z"]]}}else{return{path:[["M",f,g],["L",i,m],["A",a.endRho,a.endRho,0,0,1,r,s],["L",r,s],["A",a.endRho,a.endRho,0,G,1,k,o],["L",k,o],["L",f,g],["Z"]]}}},calcMiddle:function(a){var b=this,c=b.rad,d=a.slice,e=b.centerX,f=b.centerY,g=d.startAngle,h=d.endAngle,i=+b.donut,j=-(g+h)*c/2,k=(a.endRho+a.startRho)/2,l=e+k*Math.cos(j),m=f-k*Math.sin(j);a.middle={x:l,y:m}},drawSeries:function(){var a=this,b=a.chart.getChartStore(),c=b.data.items,d,e=a.group,f=a.chart.animate,g=a.angleField||a.field||a.xField,h=[].concat(a.lengthField),i=0,j=a.chart,k=j.surface,l=j.chartBBox,m=j.shadow,n=a.shadowGroups,o=a.shadowAttributes,p=n.length,q=h.length,r=0,s=+a.donut,t=[],u=[],v=0,w=0,x=0,y=a.seriesStyle,z=a.colorArrayStyle,A=z&&z.length||0,B,C,D,E,F,G,H,I,J=0,K,L,M,N,O,P,Q,R,S,T,U,V,W,X;Ext.apply(y,a.style||{});a.setBBox();X=a.bbox;if(a.colorSet){z=a.colorSet;A=z.length}if(!b||!b.getCount()||a.seriesIsHidden){a.hide();a.items=[];return}a.unHighlightItem();a.cleanHighlights();G=a.centerX=l.x+l.width/2;H=a.centerY=l.y+l.height/2;a.radius=Math.min(G-l.x,H-l.y);a.slices=L=[];a.items=u=[];for(R=0,Q=c.length;R<Q;R++){d=c[R];if(this.__excludes&&this.__excludes[R]){continue}v+=+d.get(g);if(h[0]){for(S=0,i=0;S<q;S++){i+=+d.get(h[S])}t[R]=i;w=Math.max(w,i)}}v=v||1;for(R=0,Q=c.length;R<Q;R++){d=c[R];if(this.__excludes&&this.__excludes[R]){N=0}else{N=d.get(g);if(J==0){J=1}}if(J==1){J=2;a.firstAngle=x=a.accuracy*N/v/2;for(S=0;S<R;S++){L[S].startAngle=L[S].endAngle=a.firstAngle}}T=x-a.accuracy*N/v;K={series:a,value:N,startAngle:x,endAngle:T,storeItem:d};if(h[0]){P=+t[R];K.rho=Math.floor(a.radius/w*P)}else{K.rho=a.radius}L[R]=K;(function(){x=T})()}if(m){for(R=0,Q=L.length;R<Q;R++){K=L[R];K.shadowAttrs=[];for(S=0,r=0,D=[];S<q;S++){M=e.getAt(R*q+S);I=h[S]?b.getAt(R).get(h[S])/t[R]*K.rho:K.rho;B={segment:{startAngle:K.startAngle,endAngle:K.endAngle,margin:0,rho:K.rho,startRho:r+I*s/100,endRho:r+I},hidden:!K.value&&K.startAngle%a.accuracy==K.endAngle%a.accuracy};for(F=0,D=[];F<p;F++){C=o[F];E=n[F].getAt(R);if(!E){E=j.surface.add(Ext.apply({},{type:"path",group:n[F],strokeLinejoin:"round"},B,C))}C=a.renderer(E,b.getAt(R),Ext.apply({},B,C),R,b);if(f){a.onAnimate(E,{to:C})}else{E.setAttributes(C,true)}D.push(E)}K.shadowAttrs[S]=D}}}for(R=0,Q=L.length;R<Q;R++){K=L[R];for(S=0,r=0;S<q;S++){M=e.getAt(R*q+S);I=h[S]?b.getAt(R).get(h[S])/t[R]*K.rho:K.rho;B=Ext.apply({segment:{startAngle:K.startAngle,endAngle:K.endAngle,margin:0,rho:K.rho,startRho:r+I*s/100,endRho:r+I},hidden:!K.value&&K.startAngle%a.accuracy==K.endAngle%a.accuracy},Ext.apply(y,z&&{fill:z[(q>1?S:R)%A]}||{}));O=Ext.apply({},B.segment,{slice:K,series:a,storeItem:K.storeItem,index:R});a.calcMiddle(O);if(m){O.shadows=K.shadowAttrs[S]}u[R]=O;if(!M){W=Ext.apply({type:"path",group:e,middle:O.middle},Ext.apply(y,z&&{fill:z[(q>1?S:R)%A]}||{}));M=k.add(Ext.apply(W,B))}K.sprite=K.sprite||[];O.sprite=M;K.sprite.push(M);K.point=[O.middle.x,O.middle.y];if(f){B=a.renderer(M,b.getAt(R),B,R,b);M._to=B;M._animating=true;a.onAnimate(M,{to:B,listeners:{afteranimate:{fn:function(){this._animating=false},scope:M}}})}else{B=a.renderer(M,b.getAt(R),Ext.apply(B,{hidden:false}),R,b);M.setAttributes(B,true)}r+=I}}Q=e.getCount();for(R=0;R<Q;R++){if(!L[R/q>>0]&&e.getAt(R)){e.getAt(R).hide(true)}}if(m){p=n.length;for(F=0;F<Q;F++){if(!L[F/q>>0]){for(S=0;S<p;S++){if(n[S].getAt(F)){n[S].getAt(F).hide(true)}}}}}a.renderLabels();a.renderCallouts()},onCreateLabel:function(a,b,c,d){var e=this,f=e.labelsGroup,g=e.label,h=e.centerX,i=e.centerY,j=b.middle,k=Ext.apply(e.seriesLabelStyle||{},g||{});return e.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:f,x:j.x,y:j.y},k))},onPlaceLabel:function(a,b,c,d,e,f,g){function y(a){if(a<0){a+=360}return a%360}var h=this,i=h.chart,j=i.resizing,k=h.label,l=k.renderer,m=[].concat(k.field),n=h.centerX,o=h.centerY,p=c.middle,q={x:p.x,y:p.y},r=p.x-n,s=p.y-o,t={},u=1,v=Math.atan2(s,r||1),w=v*180/Math.PI,x;q.hidden=false;if(this.__excludes&&this.__excludes[d]){q.hidden=true}a.setAttributes({text:l(b.get(m[g]))},true);switch(e){case"outside":u=Math.sqrt(r*r+s*s)*2;q.x=u*Math.cos(v)+n;q.y=u*Math.sin(v)+o;break;case"rotate":w=y(w);w=w>90&&w<270?w+180:w;x=a.attr.rotation.degrees;if(x!=null&&Math.abs(x-w)>180*.5){if(w>x){w-=360}else{w+=360}w=w%360}else{w=y(w)}q.rotate={degrees:w,x:q.x,y:q.y};break;default:break}q.translate={x:0,y:0};if(f&&!j&&(e!="rotate"||x!=null)){h.onAnimate(a,{to:q})}else{a.setAttributes(q,true)}a._from=t},onPlaceCallout:function(a,b,c,d,e,f,g){var h=this,i=h.chart,j=h.centerX,k=h.centerY,l=c.middle,m={x:l.x,y:l.y},n=l.x-j,o=l.y-k,p=1,q,r=Math.atan2(o,n||1),s=a.label.getBBox(),t=20,u=10,v=10,w;p=c.endRho+t;q=(c.endRho+c.startRho)/2+(c.endRho-c.startRho)/3;m.x=p*Math.cos(r)+j;m.y=p*Math.sin(r)+k;n=q*Math.cos(r);o=q*Math.sin(r);if(i.animate){h.onAnimate(a.lines,{to:{path:["M",n+j,o+k,"L",m.x,m.y,"Z","M",m.x,m.y,"l",n>0?u:-u,0,"z"]}});h.onAnimate(a.box,{to:{x:m.x+(n>0?u:-(u+s.width+2*v)),y:m.y+(o>0?-s.height-v/2:-s.height-v/2),width:s.width+2*v,height:s.height+2*v}});h.onAnimate(a.label,{to:{x:m.x+(n>0?u+v:-(u+s.width+v)),y:m.y+(o>0?-s.height/4:-s.height/4)}})}else{a.lines.setAttributes({path:["M",n+j,o+k,"L",m.x,m.y,"Z","M",m.x,m.y,"l",n>0?u:-u,0,"z"]},true);a.box.setAttributes({x:m.x+(n>0?u:-(u+s.width+2*v)),y:m.y+(o>0?-s.height-v/2:-s.height-v/2),width:s.width+2*v,height:s.height+2*v},true);a.label.setAttributes({x:m.x+(n>0?u+v:-(u+s.width+v)),y:m.y+(o>0?-s.height/4:-s.height/4)},true)}for(w in a){a[w].show(true)}},onAnimate:function(a,b){a.show();return this.callParent(arguments)},isItemInPoint:function(a,b,c,d){var e=this,f=e.centerX,g=e.centerY,h=Math.abs,i=h(a-f),j=h(b-g),k=c.startAngle,l=c.endAngle,m=Math.sqrt(i*i+j*j),n=Math.atan2(b-g,a-f)/e.rad;if(n>e.firstAngle){n-=e.accuracy}return n<=k&&n>l&&m>=c.startRho&&m<=c.endRho},hideAll:function(a){var b,c,d,e,f,g,h;a=(isNaN(this._index)?a:this._index)||0;this.__excludes=this.__excludes||[];this.__excludes[a]=true;h=this.slices[a].sprite;for(f=0,g=h.length;f<g;f++){h[f].setAttributes({hidden:true},true)}if(this.slices[a].shadowAttrs){for(b=0,e=this.slices[a].shadowAttrs,c=e.length;b<c;b++){d=e[b];for(f=0,g=d.length;f<g;f++){d[f].setAttributes({hidden:true},true)}}}this.drawSeries()},showAll:function(a){a=(isNaN(this._index)?a:this._index)||0;this.__excludes[a]=false;this.drawSeries()},highlightItem:function(a){var b=this,c=b.rad,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;a=a||this.items[this._index];this.unHighlightItem();if(!a||b.animating||a.sprite&&a.sprite._animating){return}b.callParent([a]);if(!b.highlight){return}if("segment"in b.highlightCfg){d=b.highlightCfg.segment;e=b.chart.animate;if(b.labelsGroup){n=b.labelsGroup;o=b.label.display;p=n.getAt(a.index);q=(a.startAngle+a.endAngle)/2*c;r=d.margin||0;s=r*Math.cos(q);t=r*Math.sin(q);if(Math.abs(s)<1e-10){s=0}if(Math.abs(t)<1e-10){t=0}if(e){p.stopAnimation();p.animate({to:{translate:{x:s,y:t}},duration:b.highlightDuration})}else{p.setAttributes({translate:{x:s,y:t}},true)}}if(b.chart.shadow&&a.shadows){g=0;h=a.shadows;j=h.length;for(;g<j;g++){i=h[g];k={};l=a.sprite._from.segment;for(m in l){if(!(m in d)){k[m]=l[m]}}f={segment:Ext.applyIf(k,b.highlightCfg.segment)};if(e){i.stopAnimation();i.animate({to:f,duration:b.highlightDuration})}else{i.setAttributes(f,true)}}}}},unHighlightItem:function(){var a=this,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(!a.highlight){return}if("segment"in a.highlightCfg&&a.items){b=a.items;c=a.chart.animate;d=!!a.chart.shadow;e=a.labelsGroup;f=b.length;g=0;h=0;i=a.label.display;for(;g<f;g++){r=b[g];if(!r){continue}o=r.sprite;if(o&&o._highlighted){if(e){s=e.getAt(r.index);t=Ext.apply({translate:{x:0,y:0}},i=="rotate"?{rotate:{x:s.attr.x,y:s.attr.y,degrees:s.attr.rotation.degrees}}:{});if(c){s.stopAnimation();s.animate({to:t,duration:a.highlightDuration})}else{s.setAttributes(t,true)}}if(d){p=r.shadows;j=p.length;for(;h<j;h++){l={};m=r.sprite._to.segment;n=r.sprite._from.segment;Ext.apply(l,n);for(k in m){if(!(k in n)){l[k]=m[k]}}q=p[h];if(c){q.stopAnimation();q.animate({to:{segment:l},duration:a.highlightDuration})}else{q.setAttributes({segment:l},true)}}}}}}a.callParent(arguments)},getLegendColor:function(a){var b=this;return b.colorSet&&b.colorSet[a%b.colorSet.length]||b.colorArrayStyle[a%b.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Scatter",{extend:"Ext.chart.series.Cartesian",requires:["Ext.chart.axis.Axis","Ext.chart.Shape","Ext.fx.Anim"],type:"scatter",alias:"series.scatter",constructor:function(a){this.callParent(arguments);var b=this,c=b.chart.shadow,d=b.chart.surface,e,f;Ext.apply(b,a,{style:{},markerConfig:{},shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)"},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)"},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)"}]});b.group=d.getGroup(b.seriesId);if(c){for(e=0,f=b.shadowAttributes.length;e<f;e++){b.shadowGroups.push(d.getGroup(b.seriesId+"-shadows"+e))}}},getBounds:function(){var a=this,b=a.chart,c=b.getChartStore(),d=b.axes,e=a.getAxesForXAndYFields(),f=e.xAxis,g=e.yAxis,h,i,j,k,l,m,n,o,p,q,r;a.setBBox();h=a.bbox;if(q=d.get(f)){r=q.applyData();l=r.from;n=r.to}if(q=d.get(g)){r=q.applyData();m=r.from;o=r.to}if(a.xField&&!Ext.isNumber(l)){q=a.getMinMaxXValues();l=q[0];n=q[1]}if(a.yField&&!Ext.isNumber(m)){q=a.getMinMaxYValues();m=q[0];o=q[1]}if(isNaN(l)){l=0;n=c.getCount()-1;i=h.width/(c.getCount()-1)}else{i=h.width/(n-l)}if(isNaN(m)){m=0;o=c.getCount()-1;j=h.height/(c.getCount()-1)}else{j=h.height/(o-m)}return{bbox:h,minX:l,minY:m,xScale:i,yScale:j}},getPaths:function(){var a=this,b=a.chart,c=b.shadow,d=b.getChartStore(),e=d.data.items,f,g,h,i=a.group,j=a.bounds=a.getBounds(),k=a.bbox,l=j.xScale,m=j.yScale,n=j.minX,o=j.minY,p=k.x,q=k.y,r=k.height,s=a.items=[],t=[],u,v,w,x,y;for(f=0,g=e.length;f<g;f++){h=e[f];w=h.get(a.xField);x=h.get(a.yField);if(typeof x=="undefined"||typeof x=="string"&&!x||w==null||x==null){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("[Ext.chart.series.Scatter]  Skipping a store element with a value which is either undefined or null  at ",h,w,x)}continue}if(typeof w=="string"||typeof w=="object"&&!Ext.isDate(w)){w=f}if(typeof x=="string"||typeof x=="object"&&!Ext.isDate(x)){x=f}u=p+(w-n)*l;v=q+r-(x-o)*m;t.push({x:u,y:v});a.items.push({series:a,value:[w,x],point:[u,v],storeItem:h});if(b.animate&&b.resizing){y=i.getAt(f);if(y){a.resetPoint(y);if(c){a.resetShadow(y)}}}}return t},resetPoint:function(a){var b=this.bbox;a.setAttributes({translate:{x:(b.x+b.width)/2,y:(b.y+b.height)/2}},true)},resetShadow:function(a){var b=this,c=a.shadows,d=b.shadowAttributes,e=b.shadowGroups.length,f=b.bbox,g,h;for(g=0;g<e;g++){h=Ext.apply({},d[g]);if(h.translate){h.translate.x+=(f.x+f.width)/2;h.translate.y+=(f.y+f.height)/2}else{h.translate={x:(f.x+f.width)/2,y:(f.y+f.height)/2}}c[g].setAttributes(h,true)}},createPoint:function(a,b){var c=this,d=c.chart,e=c.group,f=c.bbox;return Ext.chart.Shape[b](d.surface,Ext.apply({},{x:0,y:0,group:e,translate:{x:(f.x+f.width)/2,y:(f.y+f.height)/2}},a))},createShadow:function(a,b,c){var d=this,e=d.chart,f=d.shadowGroups,g=d.shadowAttributes,h=f.length,i=d.bbox,j,k,l,m;a.shadows=l=[];for(j=0;j<h;j++){m=Ext.apply({},g[j]);if(m.translate){m.translate.x+=(i.x+i.width)/2;m.translate.y+=(i.y+i.height)/2}else{Ext.apply(m,{translate:{x:(i.x+i.width)/2,y:(i.y+i.height)/2}})}Ext.apply(m,b);k=Ext.chart.Shape[c](e.surface,Ext.apply({},{x:0,y:0,group:f[j]},m));l.push(k)}},drawSeries:function(){var a=this,b=a.chart,c=b.getChartStore(),d=a.group,e=b.shadow,f=a.shadowGroups,g=a.shadowAttributes,h=f.length,i,j,k,l,m,n,o,p,q,r,s;n=Ext.apply(a.markerStyle,a.markerConfig);p=n.type;delete n.type;if(!c||!c.getCount()){a.hide();a.items=[];return}a.unHighlightItem();a.cleanHighlights();j=a.getPaths();l=j.length;for(m=0;m<l;m++){k=j[m];i=d.getAt(m);Ext.apply(k,n);if(!i){i=a.createPoint(k,p);if(e){a.createShadow(i,n,p)}}q=i.shadows;if(b.animate){r=a.renderer(i,c.getAt(m),{translate:k},m,c);i._to=r;a.onAnimate(i,{to:r});for(o=0;o<h;o++){s=Ext.apply({},g[o]);r=a.renderer(q[o],c.getAt(m),Ext.apply({},{hidden:false,translate:{x:k.x+(s.translate?s.translate.x:0),y:k.y+(s.translate?s.translate.y:0)}},s),m,c);a.onAnimate(q[o],{to:r})}}else{r=a.renderer(i,c.getAt(m),{translate:k},m,c);i._to=r;i.setAttributes(r,true);for(o=0;o<h;o++){s=Ext.apply({},g[o]);r=a.renderer(q[o],c.getAt(m),Ext.apply({},{hidden:false,translate:{x:k.x+(s.translate?s.translate.x:0),y:k.y+(s.translate?s.translate.y:0)}},s),m,c);q[o].setAttributes(r,true)}}a.items[m].sprite=i}l=d.getCount();for(m=j.length;m<l;m++){d.getAt(m).hide(true)}a.renderLabels();a.renderCallouts()},onCreateLabel:function(a,b,c,d){var e=this,f=e.labelsGroup,g=e.label,h=Ext.apply({},g,e.seriesLabelStyle),i=e.bbox;return e.chart.surface.add(Ext.apply({type:"text",group:f,x:b.point[0],y:i.y+i.height/2},h))},onPlaceLabel:function(a,b,c,d,e,f){var g=this,h=g.chart,i=h.resizing,j=g.label,k=j.renderer,l=j.field,m=g.bbox,n=c.point[0],o=c.point[1],p=c.sprite.attr.radius,q,r,s,t;a.setAttributes({text:k(b.get(l)),hidden:true},true);if(e=="rotate"){a.setAttributes({"text-anchor":"start",rotation:{x:n,y:o,degrees:-45}},true);q=a.getBBox();r=q.width;s=q.height;n=n<m.x?m.x:n;n=n+r>m.x+m.width?n-(n+r-m.x-m.width):n;o=o-s<m.y?m.y+s:o}else if(e=="under"||e=="over"){q=c.sprite.getBBox();q.width=q.width||p*2;q.height=q.height||p*2;o=o+(e=="over"?-q.height:q.height);q=a.getBBox();r=q.width/2;s=q.height/2;n=n-r<m.x?m.x+r:n;n=n+r>m.x+m.width?n-(n+r-m.x-m.width):n;o=o-s<m.y?m.y+s:o;o=o+s>m.y+m.height?o-(o+s-m.y-m.height):o}if(!h.animate){a.setAttributes({x:n,y:o},true);a.show(true)}else{if(i){t=c.sprite.getActiveAnimation();if(t){t.on("afteranimate",function(){a.setAttributes({x:n,y:o},true);a.show(true)})}else{a.show(true)}}else{g.onAnimate(a,{to:{x:n,y:o}})}}},onPlaceCallout:function(a,b,c,d,e,f,g){var h=this,i=h.chart,j=i.surface,k=i.resizing,l=h.callouts,m=h.items,n=c.point,o,p=a.label.getBBox(),q=30,r=10,s=3,t,u,v,w,x,y=h.bbox,z,A;o=[Math.cos(Math.PI/4),-Math.sin(Math.PI/4)];z=n[0]+o[0]*q;A=n[1]+o[1]*q;t=z+(o[0]>0?0:-(p.width+2*s));u=A-p.height/2-s;v=p.width+2*s;w=p.height+2*s;if(t<y[0]||t+v>y[0]+y[2]){o[0]*=-1}if(u<y[1]||u+w>y[1]+y[3]){o[1]*=-1}z=n[0]+o[0]*q;A=n[1]+o[1]*q;t=z+(o[0]>0?0:-(p.width+2*s));u=A-p.height/2-s;v=p.width+2*s;w=p.height+2*s;if(i.animate){h.onAnimate(a.lines,{to:{path:["M",n[0],n[1],"L",z,A,"Z"]}},true);h.onAnimate(a.box,{to:{x:t,y:u,width:v,height:w}},true);h.onAnimate(a.label,{to:{x:z+(o[0]>0?s:-(p.width+s)),y:A}},true)}else{a.lines.setAttributes({path:["M",n[0],n[1],"L",z,A,"Z"]},true);a.box.setAttributes({x:t,y:u,width:v,height:w},true);a.label.setAttributes({x:z+(o[0]>0?s:-(p.width+s)),y:A},true)}for(x in a){a[x].show(true)}},onAnimate:function(a,b){a.show();return this.callParent(arguments)},isItemInPoint:function(a,b,c){function g(c){var d=f(c[0]-a),e=f(c[1]-b);return Math.sqrt(d*d+e*e)}var d,e=10,f=Math.abs;d=c.point;return d[0]-e<=a&&d[0]+e>=a&&d[1]-e<=b&&d[1]+e>=b}});Ext.define("MyDesktop.SystemStatus",{extend:"Ext.ux.desktop.Module",requires:["Ext.chart.*"],id:"systemstatus",refreshRate:500,init:function(){Ext.chart.theme.Memory=Ext.extend(Ext.chart.theme.Base,{constructor:function(a){Ext.chart.theme.Memory.superclass.constructor.call(this,Ext.apply({colors:["rgb(244, 16, 0)","rgb(248, 130, 1)","rgb(0, 7, 255)","rgb(84, 254, 0)"]},a))}})},createNewWindow:function(){var a=this,b=a.app.getDesktop();a.cpuLoadData=[];a.cpuLoadStore=Ext.create("store.json",{fields:["core1","core2","time"]});a.memoryArray=["Wired","Active","Inactive","Free"];a.memoryStore=Ext.create("store.json",{fields:["name","memory"],data:a.generateData(a.memoryArray)});a.pass=0;a.processArray=["explorer","monitor","charts","desktop","Ext3","Ext4"];a.processesMemoryStore=Ext.create("store.json",{fields:["name","memory"],data:a.generateData(a.processArray)});a.generateCpuLoad();return b.createWindow({id:"systemstatus",title:"System Status",width:800,height:600,animCollapse:false,constrainHeader:true,border:false,layout:{type:"hbox",align:"stretch"},bodyStyle:{"background-color":"#FFF"},listeners:{afterrender:{fn:a.updateCharts,delay:100},destroy:function(){clearTimeout(a.updateTimer);a.updateTimer=null},scope:a},items:[{flex:1,xtype:"container",layout:{type:"vbox",align:"stretch"},items:[a.createCpu1LoadChart(),a.createCpu2LoadChart()]},{flex:1,xtype:"container",layout:{type:"vbox",align:"stretch"},items:[a.createMemoryPieChart(),a.createProcessChart()]}]})},createWindow:function(){var a=this.app.getDesktop().getWindow(this.id);if(!a){a=this.createNewWindow()}return a},createCpu1LoadChart:function(){return{flex:1,xtype:"chart",theme:"Category1",animate:false,store:this.cpuLoadStore,legend:{position:"bottom"},axes:[{type:"Numeric",position:"left",minimum:0,maximum:100,fields:["core1"],title:"CPU Load",grid:true,labelTitle:{font:"13px Arial"},label:{font:"11px Arial"}}],series:[{title:"Core 1 (3.4GHz)",type:"line",lineWidth:4,showMarkers:false,fill:true,axis:"left",xField:"time",yField:"core1",style:{"stroke-width":1}}]}},createCpu2LoadChart:function(){return{flex:1,xtype:"chart",theme:"Category2",animate:false,store:this.cpuLoadStore,legend:{position:"bottom"},axes:[{type:"Numeric",position:"left",minimum:0,maximum:100,grid:true,fields:["core2"],title:"CPU Load",labelTitle:{font:"13px Arial"},label:{font:"11px Arial"}}],series:[{title:"Core 2 (3.4GHz)",type:"line",lineWidth:4,showMarkers:false,fill:true,axis:"left",xField:"time",yField:"core2",style:{"stroke-width":1}}]}},createMemoryPieChart:function(){var a=this;return{flex:1,xtype:"chart",animate:{duration:250},store:this.memoryStore,shadow:true,legend:{position:"right"},insetPadding:40,theme:"Memory:gradients",series:[{donut:30,type:"pie",field:"memory",showInLegend:true,tips:{trackMouse:true,width:140,height:28,renderer:function(b,c){var d=0;a.memoryStore.each(function(a){d+=a.get("memory")});this.setTitle(b.get("name")+": "+Math.round(b.get("memory")/d*100)+"%")}},highlight:{segment:{margin:20}},labelTitle:{font:"13px Arial"},label:{field:"name",display:"rotate",contrast:true,font:"12px Arial"}}]}},createProcessChart:function(){return{flex:1,xtype:"chart",theme:"Category1",store:this.processesMemoryStore,animate:{easing:"ease-in-out",duration:750},axes:[{type:"Numeric",position:"left",minimum:0,maximum:10,fields:["memory"],title:"Memory",labelTitle:{font:"13px Arial"},label:{font:"11px Arial"}},{type:"Category",position:"bottom",fields:["name"],title:"System Processes",labelTitle:{font:"bold 14px Arial"},label:{rotation:{degrees:45}}},{type:"Numeric",position:"top",fields:["memory"],title:"Memory Usage",labelTitle:{font:"bold 14px Arial"},label:{fill:"#FFFFFF",stroke:"#FFFFFF"},axisStyle:{fill:"#FFFFFF",stroke:"#FFFFFF"}}],series:[{title:"Processes",type:"column",xField:"name",yField:"memory",renderer:function(a,b,c,d,e){var f=Ext.draw.Color.fromString("#b1da5a"),g=b.get("memory"),h;if(g>5){h=f.getDarker((g-5)/15).toString()}else{h=f.getLighter((5-g)/20).toString()}if(g>=8){h="#CD0000"}return Ext.apply(c,{fill:h})}}]}},generateCpuLoad:function(){function c(a){var b=a+(Math.floor(Math.random()*2)%2?-1:1)*Math.floor(Math.random()*9);if(b<0||b>100){b=50}return b}var a=this,b=a.cpuLoadData;if(b.length===0){b.push({core1:0,core2:0,time:0});for(var d=1;d<100;d++){b.push({core1:c(b[d-1].core1),core2:c(b[d-1].core2),time:d})}a.cpuLoadStore.loadData(b)}else{a.cpuLoadStore.data.removeAt(0);a.cpuLoadStore.data.each(function(a,b){a.data.time=b});var e=a.cpuLoadStore.last().data;a.cpuLoadStore.loadData([{core1:c(e.core1),core2:c(e.core2),time:e.time+1}],true)}},generateData:function(a){var b=[],c,d=a.length,e;for(c=0;c<a.length;c++){e=Math.floor(Math.random()*d*100)/100+2;d=d-(e-5);b.push({name:a[c],memory:e})}return b},updateCharts:function(){var a=this;clearTimeout(a.updateTimer);a.updateTimer=setTimeout(function(){var b=(new Date).getTime();if(a.pass%3===0){a.memoryStore.loadData(a.generateData(a.memoryArray))}if(a.pass%5===0){a.processesMemoryStore.loadData(a.generateData(a.processArray))}a.generateCpuLoad();var c=(new Date).getTime();a.refreshRate=Math.max(a.refreshRate,(c-b)*4);a.updateCharts();a.pass++},a.refreshRate)}});Ext.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){var a=this;a.target=a.target||Ext.getDoc();a.targets=a.targets||{};a.callParent()},register:function(a){var b=Ext.isArray(a)?a:arguments,c=0,d=b.length,e,f,g;for(;c<d;c++){a=b[c];e=a.target;if(e){if(Ext.isArray(e)){for(f=0,g=e.length;f<g;f++){this.targets[Ext.id(e[f])]=a}}else{this.targets[Ext.id(e)]=a}}}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(a){var b=this,c=b.activeTarget;a=Ext.get(a).dom;if(b.isVisible()){if(c&&c.el==a){b.hide()}}else if(c&&c.el==a){b.clearTimer("show")}},getTipCfg:function(a){var b=a.getTarget(),c=b.title,d;if(this.interceptTitles&&c&&Ext.isString(c)){b.qtip=c;b.removeAttribute("title");a.preventDefault();return{text:c}}else{d=this.tagConfig;b=a.getTarget("["+d.namespace+d.attribute+"]");if(b){return{target:b,text:b.getAttribute(d.namespace+d.attribute)}}}},onTargetOver:function(a){var b=this,c=a.getTarget(b.delegate),d,e,f,g,h,i,j,k,l,m,n;if(b.disabled){return}b.targetXY=a.getXY();if(!c||c.nodeType!==1||c==document.documentElement||c==document.body){return}if(b.activeTarget&&(c==b.activeTarget.el||Ext.fly(b.activeTarget.el).contains(c))){b.clearTimer("hide");b.show();return}if(c){k=b.targets;for(n in k){if(k.hasOwnProperty(n)){m=k[n];l=Ext.fly(m.target);if(l&&(l.dom===c||l.contains(c))){f=l.dom;break}}}if(f){b.activeTarget=b.targets[f.id];b.activeTarget.el=c;b.anchor=b.activeTarget.anchor;if(b.anchor){b.anchorTarget=c}d=Ext.isDefined(b.activeTarget.showDelay);if(d){e=b.showDelay;b.showDelay=b.activeTarget.showDelay}b.delayShow();if(d){b.showDelay=e}return}}f=Ext.fly(c,"_quicktip-target");g=b.tagConfig;h=g.namespace;i=b.getTipCfg(a);if(i){if(i.target){c=i.target;f=Ext.fly(c,"_quicktip-target")}j=f.getAttribute(h+g.hide);b.activeTarget={el:c,text:i.text,width:+f.getAttribute(h+g.width)||null,autoHide:j!="user"&&j!=="false",title:f.getAttribute(h+g.title),cls:f.getAttribute(h+g.cls),align:f.getAttribute(h+g.align)};b.anchor=f.getAttribute(h+g.anchor);if(b.anchor){b.anchorTarget=c}d=Ext.isDefined(b.activeTarget.showDelay);if(d){e=b.showDelay;b.showDelay=b.activeTarget.showDelay}b.delayShow();if(d){b.showDelay=e}}},onTargetOut:function(a){var b=this,c=b.activeTarget,d,e;if(c&&a.within(b.activeTarget.el)&&!b.getTipCfg(a)){return}b.clearTimer("show");delete b.activeTarget;if(b.autoHide!==false){d=c&&Ext.isDefined(c.hideDelay);if(d){e=b.hideDelay;b.hideDelay=c.hideDelay}b.delayHide();if(d){b.hideDelay=e}}},showAt:function(a){var b=this,c=b.activeTarget,d;if(c){if(!b.rendered){b.render(Ext.getBody());b.activeTarget=c}b.suspendLayouts();if(c.title){b.setTitle(c.title);b.header.show()}else{b.header.hide()}b.update(c.text);b.autoHide=c.autoHide;b.dismissDelay=c.dismissDelay||b.dismissDelay;if(c.mouseOffset){a[0]+=c.mouseOffset[0];a[1]+=c.mouseOffset[1]}d=b.lastCls;if(d){b.removeCls(d);delete b.lastCls}d=c.cls;if(d){b.addCls(d);b.lastCls=d}b.setWidth(c.width);if(b.anchor){b.constrainPosition=false}else if(c.align){a=b.el.getAlignToXY(c.el,c.align);b.constrainPosition=false}else{b.constrainPosition=true}b.resumeLayouts(true)}b.callParent([a])},hide:function(){delete this.activeTarget;this.callParent()}});Ext.define("Ext.tip.QuickTipManager",function(){var a,b=false;return{requires:["Ext.tip.QuickTip"],singleton:true,alternateClassName:"Ext.QuickTips",init:function(c,d){if(!a){if(!Ext.isReady){Ext.onReady(function(){Ext.tip.QuickTipManager.init(c,d)});return}var e=Ext.apply({disabled:b,id:"ext-quicktips-tip"},d),f=e.className,g=e.xtype;if(f){delete e.className}else if(g){f="widget."+g;delete e.xtype}if(c!==false){e.renderTo=document.body;if(e.renderTo.tagName.toUpperCase()!="BODY"){Ext.Error.raise({sourceClass:"Ext.tip.QuickTipManager",sourceMethod:"init",msg:"Cannot init QuickTipManager: no document body"})}}a=Ext.create(f||"Ext.tip.QuickTip",e)}},destroy:function(){if(a){var b;a.destroy();a=b}},ddDisable:function(){if(a&&!b){a.disable()}},ddEnable:function(){if(a&&!b){a.enable()}},enable:function(){if(a){a.enable()}b=false},disable:function(){if(a){a.disable()}b=true},isEnabled:function(){return a!==undefined&&!a.disabled},getQuickTip:function(){return a},register:function(){a.register.apply(a,arguments)},unregister:function(){a.unregister.apply(a,arguments)},tips:function(){a.register.apply(a,arguments)}}}());Ext.define("Ext.form.field.HtmlEditor",{extend:"Ext.Component",mixins:{labelable:"Ext.form.Labelable",field:"Ext.form.field.Field"},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",requires:["Ext.tip.QuickTipManager","Ext.picker.Color","Ext.toolbar.Item","Ext.toolbar.Toolbar","Ext.util.Format","Ext.layout.component.field.HtmlEditor"],childEls:["iframeEl","textareaEl"],fieldSubTpl:["{beforeTextAreaTpl}",'<textarea id="{cmpId}-textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" style="{size}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{cmpId}-iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' style="overflow:auto;{size}" src="{iframeSrc}"></iframe>',"{afterIFrameTpl}",{disableFormats:true}],subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http:/"+"/",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",defaultValue:Ext.isOpera||Ext.isIE6?"&#160;":"&#8203;",editorWrapCls:Ext.baseCSSPrefix+"html-editor-wrap",componentLayout:"htmleditor",initialized:false,activated:false,sourceEditMode:false,iframePad:3,hideMode:"offsets",afterBodyEl:"</div>",maskOnDisable:true,initComponent:function(){var a=this;a.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange");a.callParent(arguments);a.createToolbar(a);a.initLabelable();a.initField()},getRefItems:function(){return[this.toolbar]},createToolbar:function(a){function j(b,c,d){return{itemId:b,cls:f+"btn-icon",iconCls:f+"edit-"+b,enableToggle:c!==false,scope:a,handler:d||a.relayBtnCmd,clickEvent:"mousedown",tooltip:e?a.buttonTips[b]||i:i,overflowText:a.buttonTips[b].title||i,tabIndex:-1}}var b=this,c=[],d,e=Ext.tip.QuickTipManager&&Ext.tip.QuickTipManager.isEnabled(),f=Ext.baseCSSPrefix,g,h,i;if(b.enableFont&&!Ext.isSafari2){g=Ext.widget("component",{renderTpl:['<select id="{id}-selectEl" class="{cls}">','<tpl for="fonts">','<option value="{[values.toLowerCase()]}" style="font-family:{.}"<tpl if="values.toLowerCase()==parent.defaultFont"> selected</tpl>>{.}</option>',"</tpl>","</select>"],renderData:{cls:f+"font-select",fonts:b.fontFamilies,defaultFont:b.defaultFont},childEls:["selectEl"],afterRender:function(){b.fontSelect=this.selectEl;Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var a=this.selectEl;if(a){a.dom.disabled=true}Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var a=this.selectEl;if(a){a.dom.disabled=false}Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){b.relayCmd("fontname",b.fontSelect.dom.value);b.deferFocus()},element:"selectEl"}});c.push(g,"-")}if(b.enableFormat){c.push(j("bold"),j("italic"),j("underline"))}if(b.enableFontSize){c.push("-",j("increasefontsize",false,b.adjustFont),j("decreasefontsize",false,b.adjustFont))}if(b.enableColors){c.push("-",{itemId:"forecolor",cls:f+"btn-icon",iconCls:f+"edit-forecolor",overflowText:a.buttonTips.forecolor.title,tooltip:e?a.buttonTips.forecolor||i:i,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,clickEvent:"mousedown",handler:function(a,c){b.execCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+c:c);b.deferFocus();this.up("menu").hide()}}]})},{itemId:"backcolor",cls:f+"btn-icon",iconCls:f+"edit-backcolor",overflowText:a.buttonTips.backcolor.title,tooltip:e?a.buttonTips.backcolor||i:i,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,clickEvent:"mousedown",handler:function(a,c){if(Ext.isGecko){b.execCmd("useCSS",false);b.execCmd("hilitecolor",c);b.execCmd("useCSS",true);b.deferFocus()}else{b.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE?"#"+c:c);b.deferFocus()}this.up("menu").hide()}}]})})}if(b.enableAlignments){c.push("-",j("justifyleft"),j("justifycenter"),j("justifyright"))}if(!Ext.isSafari2){if(b.enableLinks){c.push("-",j("createlink",false,b.createLink))}if(b.enableLists){c.push("-",j("insertorderedlist"),j("insertunorderedlist"))}if(b.enableSourceEdit){c.push("-",j("sourceedit",true,function(a){b.toggleSourceEdit(!b.sourceEditMode)}))}}for(d=0;d<c.length;d++){if(c[d].itemId!=="sourceedit"){c[d].disabled=true}}h=Ext.widget("toolbar",{id:b.id+"-toolbar",ownerCt:b,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:true,items:c,ownerLayout:b.getComponentLayout(),listeners:{click:function(a){a.preventDefault()},element:"el"}});b.toolbar=h},getMaskTarget:function(){return this.bodyEl},setReadOnly:function(a){var b=this,c=b.textareaEl,d=b.iframeEl,e;b.readOnly=a;if(c){c.dom.readOnly=a}if(b.initialized){e=b.getEditorBody();if(Ext.isIE){d.setDisplayed(false);e.contentEditable=!a;d.setDisplayed(true)}else{b.setDesignMode(!a)}if(e){e.style.cursor=a?"default":"text"}b.disableItems(a)}},getDocMarkup:function(){var a=this,b=a.iframeEl.getHeight()-a.iframePad*2;return Ext.String.format('<html><head><style type="text/css">body{border:0;margin:0;padding:{0}px;height:{1}px;box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box;cursor:text}</style></head><body></body></html>',a.iframePad,b)},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){return!Ext.isIE&&this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return Ext.isIE?this.iframeEl.dom.contentWindow:window.frames[this.iframeEl.dom.name]},finishRenderChildren:function(){this.callParent();this.toolbar.finishRender()},onRender:function(){var a=this;a.callParent(arguments);a.inputEl=a.iframeEl;a.monitorTask=Ext.TaskManager.start({run:a.checkDesignMode,scope:a,interval:100})},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty("renderTpl")){a.renderTpl=a.getTpl("labelableRenderTpl")}return a.callParent()},initRenderData:function(){this.beforeSubTpl='<div class="'+this.editorWrapCls+'">'+Ext.DomHelper.markup(this.toolbar.getRenderTree());return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},getSubTplData:function(){return{$comp:this,cmpId:this.id,id:this.getInputId(),textareaCls:Ext.baseCSSPrefix+"hidden",value:this.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,size:"height:100px;width:100%"}},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initFrameDoc:function(){var a=this,b,c;Ext.TaskManager.stop(a.monitorTask);b=a.getDoc();a.win=a.getWin();b.open();b.write(a.getDocMarkup());b.close();c={run:function(){var b=a.getDoc();if(b.body||b.readyState==="complete"){Ext.TaskManager.stop(c);a.setDesignMode(true);Ext.defer(a.initEditor,10,a)}},interval:10,duration:1e4,scope:a};Ext.TaskManager.start(c)},checkDesignMode:function(){var a=this,b=a.getDoc();if(b&&(!b.editorInitialized||a.getDesignMode()!=="on")){a.initFrameDoc()}},setDesignMode:function(a){var b=this,c=b.getDoc();if(c){if(b.readOnly){a=false}c.designMode=/on|true/i.test(String(a).toLowerCase())?"on":"off"}},getDesignMode:function(){var a=this.getDoc();return!a?"":String(a.designMode).toLowerCase()},disableItems:function(a){var b=this.getToolbar().items.items,c,d=b.length,e;for(c=0;c<d;c++){e=b[c];if(e.getItemId()!=="sourceedit"){e.setDisabled(a)}}},toggleSourceEdit:function(a){var b=this,c=b.iframeEl,d=b.textareaEl,e=Ext.baseCSSPrefix+"hidden",f=b.getToolbar().getComponent("sourceedit");if(!Ext.isBoolean(a)){a=!b.sourceEditMode}b.sourceEditMode=a;if(f.pressed!==a){f.toggle(a)}if(a){b.disableItems(true);b.syncValue();c.addCls(e);d.removeCls(e);d.dom.removeAttribute("tabIndex");d.focus();b.inputEl=d}else{if(b.initialized){b.disableItems(b.readOnly)}b.pushValue();c.removeCls(e);d.addCls(e);d.dom.setAttribute("tabIndex",-1);b.deferFocus();b.inputEl=c}b.fireEvent("editmodechange",b,a);b.updateLayout()},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);if(a&&a!=="http:/"+"/"){this.relayCmd("createlink",a)}},clearInvalid:Ext.emptyFn,setValue:function(a){var b=this,c=b.textareaEl;b.mixins.field.setValue.call(b,a);if(a===null||a===undefined){a=""}if(c){c.dom.value=a}b.pushValue();return this},cleanHtml:function(a){a=String(a);if(Ext.isWebKit){a=a.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"")}if(a.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)){a=a.substring(1)}return a},syncValue:function(){var a=this,b,c,d,e,f;if(a.initialized){b=a.getEditorBody();d=b.innerHTML;if(Ext.isWebKit){e=b.getAttribute("style");f=e.match(/text-align:(.*?);/i);if(f&&f[1]){d='<div style="'+f[0]+'">'+d+"</div>"}}d=a.cleanHtml(d);if(a.fireEvent("beforesync",a,d)!==false){if(a.textareaEl.dom.value!=d){a.textareaEl.dom.value=d;c=true}a.fireEvent("sync",a,d);if(c){a.checkChange()}}}},getValue:function(){var a=this,b;if(!a.sourceEditMode){a.syncValue()}b=a.rendered?a.textareaEl.dom.value:a.value;a.value=b;return b},pushValue:function(){var a=this,b;if(a.initialized){b=a.textareaEl.dom.value||"";if(!a.activated&&b.length<1){b=a.defaultValue}if(a.fireEvent("beforepush",a,b)!==false){a.getEditorBody().innerHTML=b;if(Ext.isGecko){a.setDesignMode(false);a.setDesignMode(true)}a.fireEvent("push",a,b)}}},deferFocus:function(){this.focus(false,true)},getFocusEl:function(){var a=this,b=a.win;return b&&!a.sourceEditMode?b:a.textareaEl},initEditor:function(){try{var a=this,b=a.getEditorBody(),c=a.textareaEl.getStyles("font-size","font-family","background-image","background-repeat","background-color","color"),d,e;c["background-attachment"]="fixed";b.bgProperties="fixed";Ext.DomHelper.applyStyles(b,c);d=a.getDoc();if(d){try{Ext.EventManager.removeAll(d)}catch(f){}}e=Ext.Function.bind(a.onEditorEvent,a);Ext.EventManager.on(d,{mousedown:e,dblclick:e,click:e,keyup:e,buffer:100});e=a.onRelayedEvent;Ext.EventManager.on(d,{mousedown:e,mousemove:e,mouseup:e,click:e,dblclick:e,scope:a});if(Ext.isGecko){Ext.EventManager.on(d,"keypress",a.applyCommand,a)}if(a.fixKeys){Ext.EventManager.on(d,"keydown",a.fixKeys,a)}Ext.EventManager.on(window,"unload",a.beforeDestroy,a);d.editorInitialized=true;a.initialized=true;a.pushValue();a.setReadOnly(a.readOnly);a.fireEvent("initialize",a)}catch(g){}},beforeDestroy:function(){var a=this,b=a.monitorTask,c,d;if(b){Ext.TaskManager.stop(b)}if(a.rendered){try{c=a.getDoc();if(c){Ext.EventManager.removeAll(Ext.fly(c));for(d in c){if(c.hasOwnProperty&&c.hasOwnProperty(d)){delete c[d]}}}}catch(e){}Ext.destroyMembers(a,"toolbar","iframeEl","textareaEl")}a.callParent()},onRelayedEvent:function(a){var b=this.iframeEl,c=b.getXY(),d=a.getXY();a.xy=[c[0]+d[0],c[1]+d[1]];a.injectEvent(b);a.xy=d},onFirstFocus:function(){var a=this,b,c;a.activated=true;a.disableItems(a.readOnly);if(Ext.isGecko){a.win.focus();b=a.win.getSelection();if(!b.focusNode||b.focusNode.nodeType!==3){c=b.getRangeAt(0);c.selectNodeContents(a.getEditorBody());c.collapse(true);a.deferFocus()}try{a.execCmd("useCSS",true);a.execCmd("styleWithCSS",false)}catch(d){}}a.fireEvent("activate",a)},adjustFont:function(a){var b=a.getItemId()==="increasefontsize"?1:-1,c=this.getDoc().queryCommandValue("FontSize")||"2",d=Ext.isString(c)&&c.indexOf("px")!==-1,e;c=parseInt(c,10);if(d){if(c<=10){c=1+b}else if(c<=13){c=2+b}else if(c<=16){c=3+b}else if(c<=18){c=4+b}else if(c<=24){c=5+b}else{c=6+b}c=Ext.Number.constrain(c,1,6)}else{e=Ext.isSafari;if(e){b*=2}c=Math.max(1,c+b)+(e?"px":0)}this.execCmd("FontSize",c)},onEditorEvent:function(a){this.updateToolbar()},updateToolbar:function(){function f(){for(var a=0,d=arguments.length,e;a<d;a++){e=arguments[a];b[e].toggle(c.queryCommandState(e))}}var a=this,b,c,d,e;if(a.readOnly){return}if(!a.activated){a.onFirstFocus();return}b=a.getToolbar().items.map;c=a.getDoc();if(a.enableFont&&!Ext.isSafari2){d=(c.queryCommandValue("FontName")||a.defaultFont).toLowerCase();e=a.fontSelect.dom;if(d!==e.value){e.value=d}}if(a.enableFormat){f("bold","italic","underline")}if(a.enableAlignments){f("justifyleft","justifycenter","justifyright")}if(!Ext.isSafari2&&a.enableLists){f("insertorderedlist","insertunorderedlist")}Ext.menu.Manager.hideAll();a.syncValue()},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(a,b){Ext.defer(function(){var c=this;c.focus();c.execCmd(a,b);c.updateToolbar()},10,this)},execCmd:function(a,b){var c=this,d=c.getDoc(),e;d.execCommand(a,false,b===e?null:b);c.syncValue()},applyCommand:function(a){if(a.ctrlKey){var b=this,c=a.getCharCode(),d;if(c>0){c=String.fromCharCode(c);switch(c){case"b":d="bold";break;case"i":d="italic";break;case"u":d="underline";break}if(d){b.win.focus();b.execCmd(d);b.deferFocus();a.preventDefault()}}}},insertAtCursor:function(a){var b=this,c;if(b.activated){b.win.focus();if(Ext.isIE){c=b.getDoc().selection.createRange();if(c){c.pasteHTML(a);b.syncValue();b.deferFocus()}}else{b.execCmd("InsertHTML",a);b.deferFocus()}}},fixKeys:function(){if(Ext.isIE){return function(a){var b=this,c=a.getKey(),d=b.getDoc(),e=b.readOnly,f,g;if(c===a.TAB){a.stopEvent();if(!e){f=d.selection.createRange();if(f){f.collapse(true);f.pasteHTML("&#160;&#160;&#160;&#160;");b.deferFocus()}}}else if(c===a.ENTER){if(!e){f=d.selection.createRange();if(f){g=f.parentElement();if(!g||g.tagName.toLowerCase()!=="li"){a.stopEvent();f.pasteHTML("<br />");f.collapse(false);f.select()}}}}}}if(Ext.isOpera){return function(a){var b=this;if(a.getKey()===a.TAB){a.stopEvent();if(!b.readOnly){b.win.focus();b.execCmd("InsertHTML","&#160;&#160;&#160;&#160;");b.deferFocus()}}}}if(Ext.isWebKit){return function(a){var b=this,c=a.getKey(),d=b.readOnly;if(c===a.TAB){a.stopEvent();if(!d){b.execCmd("InsertText","	");b.deferFocus()}}else if(c===a.ENTER){a.stopEvent();if(!d){b.execCmd("InsertHtml","<br /><br />");b.deferFocus()}}}}return null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}}});Ext.define("MyDesktop.Notepad",{extend:"Ext.ux.desktop.Module",requires:["Ext.form.field.HtmlEditor"],id:"notepad",init:function(){this.launcher={text:"Notepad",iconCls:"notepad"}},createWindow:function(){var a=this.app.getDesktop();var b=a.getWindow("notepad");if(!b){b=a.createWindow({id:"notepad",title:"Notepad",width:600,height:400,iconCls:"notepad",animCollapse:false,border:false,hideMode:"offsets",layout:"fit",items:[{xtype:"htmleditor",id:"notepad-editor",value:['Some <b>rich</b> <font color="red">text</font> goes <u>here</u><br>',"Give it a try!"].join("")}]})}return b}});Ext.define("Ext.LoadMask",{extend:"Ext.Component",alias:"widget.loadmask",mixins:{floating:"Ext.util.Floating",bindable:"Ext.util.Bindable"},uses:["Ext.data.StoreManager"],msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:true,useTargetEl:false,baseCls:Ext.baseCSSPrefix+"mask-msg",childEls:["msgEl"],renderTpl:'<div id="{id}-msgEl" style="position:relative" class="{[values.$comp.msgCls]}"></div>',floating:{shadow:"frame"},focusOnToFront:false,bringParentToFront:false,constructor:function(a,b){var c=this;if(!a.isComponent){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.LoadMask: LoadMask for elements has been deprecated, use Ext.dom.Element.mask & Ext.dom.Element.unmask")}a=Ext.get(a);this.isElement=true}c.ownerCt=a;if(!this.isElement){c.bindComponent(a)}c.callParent([b]);if(c.store){c.bindStore(c.store,true)}},bindComponent:function(a){var b=this,c={scope:this,resize:b.sizeMask,added:b.onComponentAdded,removed:b.onComponentRemoved},d=Ext.container.Container.hierarchyEventSource;if(a.floating){c.move=b.sizeMask;b.activeOwner=a}else if(a.ownerCt){b.onComponentAdded(a.ownerCt)}else{b.preventBringToFront=true}b.mon(a,c);b.mon(d,{show:b.onContainerShow,hide:b.onContainerHide,expand:b.onContainerExpand,collapse:b.onContainerCollapse,scope:b})},onComponentAdded:function(a){var b=this;delete b.activeOwner;b.floatParent=a;if(!a.floating){a=a.up("[floating]")}if(a){b.activeOwner=a;b.mon(a,"move",b.sizeMask,b)}a=b.floatParent.ownerCt;if(b.rendered&&b.isVisible()&&a){b.floatOwner=a;b.mon(a,"afterlayout",b.sizeMask,b,{single:true})}},onComponentRemoved:function(a){var b=this,c=b.activeOwner,d=b.floatOwner;if(c){b.mun(c,"move",b.sizeMask,b)}if(d){b.mun(d,"afterlayout",b.sizeMask,b)}delete b.activeOwner;delete b.floatOwner},afterRender:function(){this.callParent(arguments);this.container=this.floatParent.getContentTarget()},onContainerShow:function(a){if(this.isActiveContainer(a)){this.onComponentShow()}},onContainerHide:function(a){if(this.isActiveContainer(a)){this.onComponentHide()}},onContainerExpand:function(a){if(this.isActiveContainer(a)){this.onComponentShow()}},onContainerCollapse:function(a){if(this.isActiveContainer(a)){this.onComponentHide()}},isActiveContainer:function(a){return this.isDescendantOf(a)},onComponentHide:function(){var a=this;if(a.rendered&&a.isVisible()){a.hide();a.showNext=true}},onComponentShow:function(){if(this.showNext){this.show()}delete this.showNext},sizeMask:function(){var a=this,b;if(a.rendered&&a.isVisible()){a.center();b=a.getMaskTarget();a.getMaskEl().show().setSize(b.getSize()).alignTo(b,"tl-tl")}},bindStore:function(a,b){var c=this;c.mixins.bindable.bindStore.apply(c,arguments);a=c.store;if(a&&a.isLoading()){c.onBeforeLoad()}},getStoreListeners:function(){return{beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad,cachemiss:this.onBeforeLoad,cachefilled:this.onLoad}},onDisable:function(){this.callParent(arguments);if(this.loading){this.onLoad()}},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var a=this.getOwner();return this.useTargetEl?a.getTargetEl():a.getEl()},onBeforeLoad:function(){var a=this,b=a.getOwner(),c;if(!a.disabled){a.loading=true;if(b.componentLayoutCounter){a.maybeShow()}else{c=b.afterComponentLayout;b.afterComponentLayout=function(){b.afterComponentLayout=c;c.apply(b,arguments);a.maybeShow()}}}},maybeShow:function(){var a=this,b=a.getOwner();if(!b.isVisible(true)){a.showNext=true}else if(a.loading&&b.rendered){a.show()}},getMaskEl:function(){var a=this;return a.maskEl||(a.maskEl=a.el.insertSibling({cls:a.maskCls,style:{zIndex:a.el.getStyle("zIndex")-2}},"before"))},onShow:function(){var a=this,b=a.msgEl;a.callParent(arguments);a.loading=true;if(a.useMsg){b.show().update(a.msg)}else{b.parent().hide()}},hide:function(){if(this.isElement){this.ownerCt.unmask();this.fireEvent("hide",this);return}delete this.showNext;return this.callParent(arguments)},onHide:function(){this.callParent();this.getMaskEl().hide()},show:function(){if(this.isElement){this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);this.fireEvent("show",this);return}return this.callParent(arguments)},afterShow:function(){this.callParent(arguments);this.sizeMask()},setZIndex:function(a){var b=this,c=b.activeOwner;if(c){a=parseInt(c.el.getStyle("zIndex"),10)+1}b.getMaskEl().setStyle("zIndex",a-1);return b.mixins.floating.setZIndex.apply(b,arguments)},onLoad:function(){this.loading=false;this.hide()},onDestroy:function(){var a=this;if(a.isElement){a.ownerCt.unmask()}Ext.destroy(a.maskEl);a.callParent()}});Ext.define("Ext.selection.Model",{extend:"Ext.util.Observable",alternateClassName:"Ext.AbstractSelectionModel",requires:["Ext.data.StoreManager"],mixins:{bindable:"Ext.util.Bindable"},allowDeselect:false,selected:null,pruneRemoved:true,constructor:function(a){var b=this;a=a||{};Ext.apply(b,a);b.addEvents("selectionchange","focuschange");b.modes={SINGLE:true,SIMPLE:true,MULTI:true};b.setSelectionMode(a.mode||b.mode);b.selected=new Ext.util.MixedCollection;b.callParent(arguments)},bindStore:function(a,b){var c=this;c.mixins.bindable.bindStore.apply(c,arguments);if(c.store&&!b){c.refresh()}},getStoreListeners:function(){var a=this;return{add:a.onStoreAdd,clear:a.onStoreClear,remove:a.onStoreRemove,update:a.onStoreUpdate}},selectAll:function(a){var b=this,c=b.store.getRange(),d=0,e=c.length,f=b.getSelection().length;b.bulkChange=true;for(;d<e;d++){b.doSelect(c[d],true,a)}delete b.bulkChange;b.maybeFireSelectionChange(b.getSelection().length!==f)},deselectAll:function(a){var b=this,c=b.getSelection(),d=0,e=c.length,f=b.getSelection().length;b.bulkChange=true;for(;d<e;d++){b.doDeselect(c[d],a)}delete b.bulkChange;b.maybeFireSelectionChange(b.getSelection().length!==f)},selectWithEvent:function(a,b,c){var d=this;switch(d.selectionMode){case"MULTI":if(b.ctrlKey&&d.isSelected(a)){d.doDeselect(a,false)}else if(b.shiftKey&&d.lastFocused){d.selectRange(d.lastFocused,a,b.ctrlKey)}else if(b.ctrlKey){d.doSelect(a,true,false)}else if(d.isSelected(a)&&!b.shiftKey&&!b.ctrlKey&&d.selected.getCount()>1){d.doSelect(a,c,false)}else{d.doSelect(a,false)}break;case"SIMPLE":if(d.isSelected(a)){d.doDeselect(a)}else{d.doSelect(a,true)}break;case"SINGLE":if(d.allowDeselect&&d.isSelected(a)){d.doDeselect(a)}else{d.doSelect(a,false)}break}},selectRange:function(a,b,c,d){var e=this,f=e.store,g=0,h,i,j,k=[];if(e.isLocked()){return}if(!c){e.deselectAll(true)}if(!Ext.isNumber(a)){a=f.indexOf(a)}if(!Ext.isNumber(b)){b=f.indexOf(b)}if(a>b){i=b;b=a;a=i}for(h=a;h<=b;h++){if(e.isSelected(f.getAt(h))){g++}}if(!d){j=-1}else{j=d=="up"?a:b}for(h=a;h<=b;h++){if(g==b-a+1){if(h!=j){e.doDeselect(h,true)}}else{k.push(f.getAt(h))}}e.doMultiSelect(k,true)},select:function(a,b,c){if(Ext.isDefined(a)){this.doSelect(a,b,c)}},deselect:function(a,b){this.doDeselect(a,b)},doSelect:function(a,b,c){var d=this,e;if(d.locked||!d.store){return}if(typeof a==="number"){a=[d.store.getAt(a)]}if(d.selectionMode=="SINGLE"&&a){e=a.length?a[0]:a;d.doSingleSelect(e,c)}else{d.doMultiSelect(a,b,c)}},doMultiSelect:function(a,b,c){function j(){e.add(i);f=true}var d=this,e=d.selected,f=false,g=0,h,i;if(d.locked){return}a=!Ext.isArray(a)?[a]:a;h=a.length;if(!b&&e.getCount()>0){if(d.doDeselect(d.getSelection(),c)===false){return}}for(;g<h;g++){i=a[g];if(b&&d.isSelected(i)){continue}d.lastSelected=i;d.onSelectChange(i,true,c,j)}if(!d.preventFocus){d.setLastFocused(i,c)}d.maybeFireSelectionChange(f&&!c)},doDeselect:function(a,b){function j(){++i;d.remove(g)}var c=this,d=c.selected,e=0,f,g,h=0,i=0;if(c.locked||!c.store){return false}if(typeof a==="number"){a=[c.store.getAt(a)]}else if(!Ext.isArray(a)){a=[a]}f=a.length;for(;e<f;e++){g=a[e];if(c.isSelected(g)){if(c.lastSelected==g){c.lastSelected=d.last()}++h;c.onSelectChange(g,false,b,j)}}c.maybeFireSelectionChange(i>0&&!b);return i===h},doSingleSelect:function(a,b){function f(){c.bulkChange=true;if(e.getCount()>0&&c.doDeselect(c.lastSelected,b)===false){delete c.bulkChange;return false}delete c.bulkChange;e.add(a);c.lastSelected=a;d=true}var c=this,d=false,e=c.selected;if(c.locked){return}if(c.isSelected(a)){return}c.onSelectChange(a,true,b,f);if(d){if(!b){c.setLastFocused(a)}c.maybeFireSelectionChange(!b)}},setLastFocused:function(a,b){var c=this,d=c.lastFocused;c.lastFocused=a;if(a!==d){c.onLastFocusChanged(d,a,b)}},isFocused:function(a){return a===this.getLastFocused()},maybeFireSelectionChange:function(a){var b=this;if(a&&!b.bulkChange){b.fireEvent("selectionchange",b,b.getSelection())}},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(a){a=a?a.toUpperCase():"SINGLE";this.selectionMode=this.modes[a]?a:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isSelected:function(a){a=Ext.isNumber(a)?this.store.getAt(a):a;return this.selected.indexOf(a)!==-1},hasSelection:function(){return this.selected.getCount()>0},refresh:function(){var a=this,b=a.store,c=[],d=a.getSelection(),e=d.length,f,g,h=0,i=a.getLastFocused();if(!b){return}for(;h<e;h++){f=d[h];if(!a.pruneRemoved||b.indexOf(f)!==-1){c.push(f)}}if(a.selected.getCount()!=c.length){g=true}a.clearSelections();if(b.indexOf(i)!==-1){a.setLastFocused(i,true)}if(c.length){a.doSelect(c,false,true)}a.maybeFireSelectionChange(g)},clearSelections:function(){this.selected.clear();this.lastSelected=null;this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if(this.selected.getCount>0){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(a,b,c){var d=this,e=d.selected;if(d.locked||!d.pruneRemoved){return}if(e.remove(b)){if(d.lastSelected==b){d.lastSelected=null}if(d.getLastFocused()==b){d.setLastFocused(null)}d.maybeFireSelectionChange(true)}},getCount:function(){return this.selected.getCount()},destroy:Ext.emptyFn,onStoreUpdate:Ext.emptyFn,onStoreLoad:Ext.emptyFn,onSelectChange:Ext.emptyFn,onLastFocusChanged:function(a,b){this.fireEvent("focuschange",this,a,b)},onEditorKey:Ext.emptyFn,bindComponent:Ext.emptyFn,beforeViewRender:Ext.emptyFn});Ext.define("Ext.selection.DataViewModel",{extend:"Ext.selection.Model",requires:["Ext.util.KeyNav"],deselectOnContainerClick:true,enableKeyNav:true,constructor:function(a){this.addEvents("beforedeselect","beforeselect","deselect","select");this.callParent(arguments)},bindComponent:function(a){var b=this,c={refresh:b.refresh,scope:b};b.view=a;b.bindStore(a.getStore());c[a.triggerEvent]=b.onItemClick;c[a.triggerCtEvent]=b.onContainerClick;a.on(c);if(b.enableKeyNav){b.initKeyNav(a)}},onItemClick:function(a,b,c,d,e){this.selectWithEvent(b,e)},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},initKeyNav:function(a){var b=this;if(!a.rendered){a.on({render:Ext.Function.bind(b.initKeyNav,b,[a]),single:true});return}a.el.set({tabIndex:-1});b.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:true,down:Ext.pass(b.onNavKey,[1],b),right:Ext.pass(b.onNavKey,[1],b),left:Ext.pass(b.onNavKey,[-1],b),up:Ext.pass(b.onNavKey,[-1],b),scope:b})},onNavKey:function(a){a=a||1;var b=this,c=b.view,d=b.getSelection()[0],e=b.view.store.getCount(),f;if(d){f=c.indexOf(c.getNode(d))+a}else{f=0}if(f<0){f=e-1}else if(f>=e){f=0}b.select(f)},onSelectChange:function(a,b,c,d){var e=this,f=e.view,g=b?"select":"deselect";if((c||e.fireEvent("before"+g,e,a))!==false&&d()!==false){if(f){if(b){f.onItemSelect(a)}else{f.onItemDeselect(a)}}if(!c){e.fireEvent(g,e,a)}}},destroy:function(){Ext.destroy(this.keyNav);this.callParent()}});Ext.define("Ext.view.AbstractView",{extend:"Ext.Component",requires:["Ext.LoadMask","Ext.data.StoreManager","Ext.CompositeElementLite","Ext.DomQuery","Ext.selection.DataViewModel"],mixins:{bindable:"Ext.util.Bindable"},inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.boundView)}},deferInitialRefresh:true,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:true,loadingUseMsg:true,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,preserveScrollOnRefresh:false,last:false,triggerEvent:"itemclick",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var a=this,b=Ext.isDefined,c=a.itemTpl,d={};if(c){if(Ext.isArray(c)){c=c.join("")}else if(Ext.isObject(c)){d=Ext.apply(d,c.initialConfig);c=c.html}if(!a.itemSelector){a.itemSelector="."+a.itemCls}c=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',a.itemCls,c);a.tpl=new Ext.XTemplate(c,d)}if(!b(a.tpl)||!b(a.itemSelector)){Ext.Error.raise({sourceClass:"Ext.view.View",tpl:a.tpl,itemSelector:a.itemSelector,msg:"DataView requires both tpl and itemSelector configurations to be defined."})}a.callParent();if(Ext.isString(a.tpl)||Ext.isArray(a.tpl)){a.tpl=new Ext.XTemplate(a.tpl)}if(b(a.overCls)||b(a.overClass)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.view.View: Using the deprecated overCls or overClass configuration. Use overItemCls instead.")}a.overItemCls=a.overCls||a.overClass;delete a.overCls;delete a.overClass}if(a.overItemCls){a.trackOver=true}if(b(a.selectedCls)||b(a.selectedClass)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.view.View: Using the deprecated selectedCls or selectedClass configuration. Use selectedItemCls instead.")}a.selectedItemCls=a.selectedCls||a.selectedClass;delete a.selectedCls;delete a.selectedClass}a.addEvents("beforerefresh","refresh","viewready","itemupdate","itemadd","itemremove");a.addCmpEvents();a.store=Ext.data.StoreManager.lookup(a.store||"ext-empty-store");a.bindStore(a.store,true);a.all=new Ext.CompositeElementLite;a.scrollState={top:0,left:0};a.on({scroll:a.onViewScroll,element:"el",scope:a})},onRender:function(){var a=this,b=a.loadMask,c={msg:a.loadingText,msgCls:a.loadingCls,useMsg:a.loadingUseMsg,store:a.getMaskStore()};a.callParent(arguments);if(b){if(Ext.isObject(b)){c=Ext.apply(c,b)}a.loadMask=new Ext.LoadMask(a,c);a.loadMask.on({scope:a,beforeshow:a.onMaskBeforeShow,hide:a.onMaskHide})}},finishRender:function(){var a=this;a.callParent(arguments);if(!a.up("[collapsed],[hidden]")){a.doFirstRefresh(a.store)}},onBoxReady:function(){var a=this;a.callParent(arguments);if(!a.firstRefreshDone){a.doFirstRefresh(a.store)}},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var a=this,b=a.loadingHeight;a.getSelectionModel().deselectAll();a.all.clear();if(b&&b>a.getHeight()){a.hasLoadingHeight=true;a.oldMinHeight=a.minHeight;a.minHeight=b;a.updateLayout()}},onMaskHide:function(){var a=this;if(!a.destroying&&a.hasLoadingHeight){a.minHeight=a.oldMinHeight;a.updateLayout();delete a.hasLoadingHeight}},beforeRender:function(){this.callParent(arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments);this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var a=this,b="SINGLE";if(!a.selModel){a.selModel={}}if(a.simpleSelect){b="SIMPLE"}else if(a.multiSelect){b="MULTI"}Ext.applyIf(a.selModel,{allowDeselect:a.allowDeselect,mode:b});if(!a.selModel.events){a.selModel=new Ext.selection.DataViewModel(a.selModel)}if(!a.selModel.hasRelaySetup){a.relayEvents(a.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);a.selModel.hasRelaySetup=true}if(a.disableSelection){a.selModel.locked=true}return a.selModel},refresh:function(){var a=this,b,c,d,e,f,g;if(!a.rendered||a.isDestroyed){return}if(!a.hasListeners.beforerefresh||a.fireEvent("beforerefresh",a)!==false){b=a.getTargetEl();g=a.store.getRange();f=b.dom;if(!a.preserveScrollOnRefresh){c=f.parentNode;d=f.style.display;f.style.display="none";e=f.nextSibling;c.removeChild(f)}if(a.refreshCounter){a.clearViewEl()}else{a.fixedNodes=b.dom.childNodes.length;a.refreshCounter=1}a.tpl.append(b,a.collectData(g,0));if(g.length<1){if(!a.deferEmptyText||a.hasSkippedEmptyText){Ext.core.DomHelper.insertHtml("beforeEnd",b.dom,a.emptyText)}a.all.clear()}else{a.all.fill(Ext.query(a.getItemSelector(),b.dom));a.updateIndexes(0)}a.selModel.refresh();a.hasSkippedEmptyText=true;if(!a.preserveScrollOnRefresh){c.insertBefore(f,e);f.style.display=d}this.refreshSize();a.fireEvent("refresh",a);if(!a.viewReady){a.viewReady=true;a.fireEvent("viewready",a)}}},refreshSize:function(){var a=this.getSizeModel();if(a.height.shrinkWrap||a.width.shrinkWrap){this.updateLayout()}},clearViewEl:function(){var a=this,b=a.getTargetEl();if(a.fixedNodes){while(b.dom.childNodes[a.fixedNodes]){b.dom.removeChild(b.dom.childNodes[a.fixedNodes])}}else{b.update("")}a.refreshCounter++},onViewScroll:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var a=this.el.dom,b=this.scrollState;b.left=a.scrollLeft;b.top=a.scrollTop}},restoreScrollState:function(){if(this.rendered){var a=this.el.dom,b=this.scrollState;a.scrollLeft=b.left;a.scrollTop=b.top}},prepareData:function(a,b,c){var d,e;if(c){d=c.getAssociatedData();for(e in d){if(d.hasOwnProperty(e)){a[e]=d[e]}}}return a},collectData:function(a,b){var c=[],d=0,e=a.length,f;for(;d<e;d++){f=a[d];c[d]=this.prepareData(f.data,b+d,f)}return c},bufferRender:function(a,b){var c=this,d=c.renderBuffer||(c.renderBuffer=document.createElement("div"));c.tpl.overwrite(d,c.collectData(a,b));return Ext.query(c.getItemSelector(),d)},onUpdate:function(a,b){var c=this,d,e;if(c.viewReady){d=c.store.indexOf(b);if(d>-1){e=c.bufferRender([b],d)[0];if(c.getNode(b)){c.all.replaceElement(d,e,true);c.updateIndexes(d,d);c.selModel.refresh();if(c.hasListeners.itemupdate){c.fireEvent("itemupdate",b,d,e)}return e}}}},onAdd:function(a,b,c){var d=this,e;if(d.rendered){if(d.all.getCount()===0){d.refresh();return}e=d.bufferRender(b,c);d.doAdd(e,b,c);d.selModel.refresh();d.updateIndexes(c);d.refreshSize();if(d.hasListeners.itemadd){d.fireEvent("itemadd",b,c,e)}}},doAdd:function(a,b,c){var d=this.all,e=d.getCount();if(e===0){this.clearViewEl();this.getTargetEl().appendChild(a)}else if(c<e){if(c===0){d.item(c).insertSibling(a,"before",true)}else{d.item(c-1).insertSibling(a,"after",true)}}else{d.last().insertSibling(a,"after",true)}Ext.Array.insert(d.elements,c,a)},onRemove:function(a,b,c){var d=this;if(d.all.getCount()){if(d.store.getCount()===0){d.refresh()}else{d.doRemove(b,c);if(d.selModel.refreshOnRemove){d.selModel.refresh()}d.updateIndexes(c)}this.refreshSize();if(d.hasListeners.itemremove){d.fireEvent("itemremove",b,c)}}},doRemove:function(a,b){this.all.removeElement(b,true)},refreshNode:function(a){this.onUpdate(this.store,this.store.getAt(a))},updateIndexes:function(a,b){var c=this.all.elements,d=this.store.getRange(),e;a=a||0;b=b||(b===0?0:c.length-1);for(e=a;e<=b;e++){c[e].viewIndex=e;c[e].viewRecordId=d[e].internalId;if(!c[e].boundView){c[e].boundView=this.id}}},getStore:function(){return this.store},bindStore:function(a,b){var c=this;c.mixins.bindable.bindStore.apply(c,arguments);if(!b){c.getSelectionModel().bindStore(c.store)}if(c.componentLayoutCounter){c.doFirstRefresh(a)}},doFirstRefresh:function(a){var b=this;b.firstRefreshDone=true;if(a&&!a.loading){if(b.deferInitialRefresh){b.applyFirstRefresh()}else{b.refresh()}}},applyFirstRefresh:function(){var a=this;if(a.isDestroyed){return}if(a.up("[isCollapsingOrExpanding]")){Ext.Function.defer(a.applyFirstRefresh,100,a)}else{Ext.Function.defer(function(){if(!a.isDestroyed){a.refresh()}},1)}},onUnbindStore:function(a){this.setMaskBind(null)},onBindStore:function(a){this.setMaskBind(a)},setMaskBind:function(a){var b=this.loadMask;if(b&&b.bindStore){b.bindStore(a)}},getStoreListeners:function(){var a=this;return{refresh:a.onDataRefresh,add:a.onAdd,remove:a.onRemove,update:a.onUpdate,clear:a.refresh}},onDataRefresh:function(){var a=this,b=!a.firstRefreshDone&&(!a.rendered||a.up("[collapsed],[isCollapsingOrExpanding],[hidden]"));if(b){a.deferInitialRefresh=false}else if(a.blockRefresh!==true){a.firstRefreshDone=true;a.refresh.apply(a,arguments)}},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var a=[],b=this.selModel.getSelection(),c=b.length,d=0;for(;d<c;d++){a.push(this.getNode(b[d]))}return a},getRecords:function(a){var b=[],c=0,d=a.length,e=this.store.data;for(;c<d;c++){b[b.length]=e.getByKey(a[c].viewRecordId)}return b},getRecord:function(a){return this.store.data.getByKey(Ext.getDom(a).viewRecordId)},isSelected:function(a){var b=this.getRecord(a);return this.selModel.isSelected(b)},select:function(a,b,c){this.selModel.select(a,b,c)},deselect:function(a,b){this.selModel.deselect(a,b)},getNode:function(a){if(!a&&a!==0||!this.rendered){return null}if(Ext.isString(a)){return document.getElementById(a)}if(Ext.isNumber(a)){return this.all.elements[a]}if(a.isModel){return this.getNodeByRecord(a)}return a},getNodeByRecord:function(a){var b=this.all.elements,c=b.length,d=0;for(;d<c;d++){if(b[d].viewRecordId===a.internalId){return b[d]}}return null},getNodes:function(a,b){var c=this.all.elements;if(b===undefined){b=c.length}else{b++}return this.all.elements.slice(a||0,b)},indexOf:function(a){a=this.getNode(a);if(!a&&a!==0){return-1}if(Ext.isNumber(a.viewIndex)){return a.viewIndex}return this.all.indexOf(a)},onDestroy:function(){var a=this;a.all.clear();a.callParent();a.bindStore(null);a.selModel.destroy()},onItemSelect:function(a){var b=this.getNode(a);if(b){Ext.fly(b).addCls(this.selectedItemCls)}},onItemDeselect:function(a){var b=this.getNode(a);if(b){Ext.fly(b).removeCls(this.selectedItemCls)}},getItemSelector:function(){return this.itemSelector}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection().length},getSelectedRecords:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection()},select:function(a,b,c){if(Ext.global.console){Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()")}var d=this.getSelectionModel();return d.select.apply(d,arguments)},clearSelections:function(){if(Ext.global.console){Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()")}var a=this.getSelectionModel();return a.deselectAll()}})})});Ext.define("Ext.view.View",{extend:"Ext.view.AbstractView",alternateClassName:"Ext.DataView",alias:"widget.dataview",deferHighlight:Ext.isIE6||Ext.isIE7?100:0,inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},initComponent:function(){var a=this;a.callParent();if(a.deferHighlight){a.setHighlightedItem=Ext.Function.createBuffered(a.setHighlightedItem,a.deferHighlight,a)}},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","beforedeselect","select","deselect","focuschange","highlightitem","unhighlightitem")},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var a=this;a.callParent();a.mon(a.getTargetEl(),{scope:a,freezeEvent:true,click:a.handleEvent,mousedown:a.handleEvent,mouseup:a.handleEvent,dblclick:a.handleEvent,contextmenu:a.handleEvent,mouseover:a.handleEvent,mouseout:a.handleEvent,keydown:a.handleEvent})},handleEvent:function(a){var b=this,c=a.type=="keydown"&&a.getKey();if(b.processUIEvent(a)!==false){b.processSpecialEvent(a)}if(c===a.SPACE){if(!b.inputTagRe.test(a.getTarget().tagName)){a.stopEvent()}}},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,stillOverItem:function(a,b){var c;if(b&&typeof b.offsetParent==="object"){c=a.type=="mouseout"?a.getRelatedTarget():a.getTarget();return Ext.fly(b).contains(c)}return false},processUIEvent:function(a){var b=this,c=a.getTarget(b.getItemSelector(),b.getTargetEl()),d=this.statics().EventMap,e,f,g=a.type,h=b.mouseOverItem,i;if(!c){if(g=="mouseover"&&b.stillOverItem(a,h)){c=h}if(g=="keydown"){f=b.getSelectionModel().getLastSelected();if(f){c=b.getNode(f)}}}if(c){e=b.indexOf(c);if(!f){f=b.getRecord(c)}if(!f||b.processItemEvent(f,c,e,a)===false){return false}i=b.isNewItemEvent(c,a);if(i===false){return false}if(b["onBeforeItem"+d[i]](f,c,e,a)===false||b.fireEvent("beforeitem"+i,b,f,c,e,a)===false||b["onItem"+d[i]](f,c,e,a)===false){return false}b.fireEvent("item"+i,b,f,c,e,a)}else{if(b.processContainerEvent(a)===false||b["onBeforeContainer"+d[g]](a)===false||b.fireEvent("beforecontainer"+g,b,a)===false||b["onContainer"+d[g]](a)===false){return false}b.fireEvent("container"+g,b,a)}return true},isNewItemEvent:function(a,b){var c=this,d=c.mouseOverItem,e=b.type;switch(e){case"mouseover":if(a===d){return false}c.mouseOverItem=a;return"mouseenter";case"mouseout":if(c.stillOverItem(b,d)){return false}c.mouseOverItem=null;return"mouseleave"}return e},onItemMouseEnter:function(a,b,c,d){if(this.trackOver){this.highlightItem(b)}},onItemMouseLeave:function(a,b,c,d){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(a){var b=this,c=b.highlightedItem;if(c!=a){if(c){Ext.fly(c).removeCls(b.overItemCls);b.fireEvent("unhighlightitem",b,c)}b.highlightedItem=a;if(a){Ext.fly(a).addCls(b.overItemCls);b.fireEvent("highlightitem",b,a)}}},highlightItem:function(a){this.setHighlightedItem(a)},clearHighlight:function(){this.setHighlightedItem(undefined)},onUpdate:function(a,b){var c=this,d,e,f;if(c.viewReady){d=c.getNode(b);e=c.callParent(arguments);f=c.highlightedItem;if(f&&f===d){delete c.highlightedItem;if(e){c.highlightItem(e)}}}},refresh:function(){this.clearHighlight();this.callParent(arguments)}});Ext.define("Ext.view.BoundList",{extend:"Ext.view.View",alias:"widget.boundlist",alternateClassName:"Ext.BoundList",requires:["Ext.layout.component.BoundList","Ext.toolbar.Paging"],pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:false,trackOver:true,refreshed:0,deferInitialRefresh:false,componentLayout:"boundlist",childEls:["listEl"],renderTpl:['<div id="{id}-listEl" class="{baseCls}-list-ct" style="overflow:auto"></div>',"{%","var me=values.$comp, pagingToolbar=me.pagingToolbar;","if (pagingToolbar) {","pagingToolbar.ownerLayout = me.componentLayout;","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:true}],initComponent:function(){var a=this,b=a.baseCls,c=a.itemCls;a.selectedItemCls=b+"-selected";a.overItemCls=b+"-item-over";a.itemSelector="."+c;if(a.floating){a.addCls(b+"-floating")}if(!a.tpl){a.tpl=new Ext.XTemplate('<ul><tpl for=".">','<li role="option" class="'+c+'">'+a.getInnerTpl(a.displayField)+"</li>","</tpl></ul>")}else if(Ext.isString(a.tpl)){a.tpl=new Ext.XTemplate(a.tpl)}if(a.pageSize){a.pagingToolbar=a.createPagingToolbar()}a.callParent()},beforeRender:function(){var a=this;a.callParent(arguments);if(a.up("menu")){a.addCls(Ext.baseCSSPrefix+"menu")}},getBubbleTarget:function(){return this.pickerField},getRefItems:function(){return this.pagingToolbar?[this.pagingToolbar]:[]},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.store,border:false,ownerCt:this,ownerLayout:this.getComponentLayout()})},finishRenderChildren:function(){var a=this.pagingToolbar;this.callParent(arguments);if(a){a.finishRender()}},refresh:function(){var a=this,b=a.pagingToolbar;a.callParent();if(a.rendered&&b&&b.rendered&&!a.preserveScrollOnRefresh){a.el.appendChild(b.el)}},bindStore:function(a,b){var c=this.pagingToolbar;this.callParent(arguments);if(c){c.bindStore(this.store,b)}},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(a){return"{"+a+"}"},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl");this.callParent()}});Ext.define("Ext.view.BoundListKeyNav",{extend:"Ext.util.KeyNav",requires:"Ext.view.BoundList",constructor:function(a,b){var c=this;c.boundList=b.boundList;c.callParent([a,Ext.apply({},b,c.defaultHandlers)])},defaultHandlers:{up:function(){var a=this,b=a.boundList,c=b.all,d=b.highlightedItem,e=d?b.indexOf(d):-1,f=e>0?e-1:c.getCount()-1;a.highlightAt(f)},down:function(){var a=this,b=a.boundList,c=b.all,d=b.highlightedItem,e=d?b.indexOf(d):-1,f=e<c.getCount()-1?e+1:0;a.highlightAt(f)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var a=this;a.highlightAt(a.boundList.all.getCount()-1)},enter:function(a){this.selectHighlighted(a)}},highlightAt:function(a){var b=this.boundList,c=b.all.item(a);if(c){c=c.dom;b.highlightItem(c);b.getTargetEl().scrollChildIntoView(c,false)}},selectHighlighted:function(a){var b=this,c=b.boundList,d=c.highlightedItem,e=c.getSelectionModel();if(d){e.selectWithEvent(c.getRecord(d),a)}}});Ext.define("Ext.form.field.ComboBox",{extend:"Ext.form.field.Picker",requires:["Ext.util.DelayedTask","Ext.EventObject","Ext.view.BoundList","Ext.view.BoundListKeyNav","Ext.data.StoreManager","Ext.layout.component.field.ComboBox"],alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:{bindable:"Ext.util.Bindable"},componentLayout:"combobox",triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hide-display "+Ext.baseCSSPrefix+"form-data-hidden",fieldSubTpl:['<div class="{hiddenDataCls}" role="presentation"></div>','<input id="{id}" type="{type}" {inputAttrTpl} class="{fieldCls} {typeCls}" autocomplete="off"','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"/>",{compiled:true,disableFormats:true}],getSubTplData:function(){var a=this;Ext.applyIf(a.subTplData,{hiddenDataCls:a.hiddenDataCls});return a.callParent(arguments)},afterRender:function(){var a=this;a.callParent(arguments);a.setHiddenValue(a.value)},multiSelect:false,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:true,pageSize:0,autoSelect:true,typeAhead:false,typeAheadDelay:250,selectOnTab:true,forceSelection:false,growToLongestValue:true,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){var a=this;return a.grow&&a.growToLongestValue},initComponent:function(){var a=this,b=Ext.isDefined,c=a.store,d=a.transform,e,f;Ext.applyIf(a.renderSelectors,{hiddenDataEl:"."+a.hiddenDataCls.split(" ").join(".")});if(a.typeAhead&&a.multiSelect){Ext.Error.raise("typeAhead and multiSelect are mutually exclusive options -- please remove one of them.")}if(a.typeAhead&&!a.editable){Ext.Error.raise("If typeAhead is enabled the combo must be editable: true -- please change one of those settings.")}if(a.selectOnFocus&&!a.editable){Ext.Error.raise("If selectOnFocus is enabled the combo must be editable: true -- please change one of those settings.")}this.addEvents("beforequery","select","beforeselect","beforedeselect");if(d){e=Ext.getDom(d);if(e){if(!a.store){c=Ext.Array.map(Ext.Array.from(e.options),function(a){return[a.value,a.text]})}if(!a.name){a.name=e.name}if(!("value"in a)){a.value=e.value}}}a.bindStore(c||"ext-empty-store",true);c=a.store;if(c.autoCreated){a.queryMode="local";a.valueField=a.displayField="field1";if(!c.expanded){a.displayField="field2"}}if(!b(a.valueField)){a.valueField=a.displayField}f=a.queryMode==="local";if(!b(a.queryDelay)){a.queryDelay=f?10:500}if(!b(a.minChars)){a.minChars=f?0:4}if(!a.displayTpl){a.displayTpl=new Ext.XTemplate('<tpl for=".">'+'{[typeof values === "string" ? values : values["'+a.displayField+'"]]}'+'<tpl if="xindex < xcount">'+a.delimiter+"</tpl>"+"</tpl>")}else if(Ext.isString(a.displayTpl)){a.displayTpl=new Ext.XTemplate(a.displayTpl)}a.callParent();a.doQueryTask=new Ext.util.DelayedTask(a.doRawQuery,a);if(a.store.getCount()>0){a.setValue(a.value)}if(e){a.render(e.parentNode,e);Ext.removeNode(e);delete a.renderTo}},getStore:function(){return this.store},beforeBlur:function(){this.doQueryTask.cancel();this.assertValue()},assertValue:function(){var a=this,b=a.getRawValue(),c;if(a.forceSelection){if(a.multiSelect){if(b!==a.getDisplayValue()){a.setValue(a.lastSelection)}}else{c=a.findRecordByDisplay(b);if(c){a.select(c)}else{a.setValue(a.lastSelection)}}}a.collapse()},onTypeAhead:function(){var a=this,b=a.displayField,c=a.store.findRecord(b,a.getRawValue()),d=a.getPicker(),e,f,g;if(c){e=c.get(b);f=e.length;g=a.getRawValue().length;d.highlightItem(d.getNode(c));if(g!==0&&g!==f){a.setRawValue(e);a.selectText(g,e.length)}}},resetToDefault:Ext.emptyFn,beforeReset:function(){this.callParent();this.clearFilter()},onUnbindStore:function(a){var b=this.picker;if(!a&&b){b.bindStore(null)}this.clearFilter()},onBindStore:function(a,b){var c=this.picker;if(!b){this.resetToDefault()}if(c){c.bindStore(a)}},getStoreListeners:function(){var a=this;return{beforeload:a.onBeforeLoad,clear:a.onClear,datachanged:a.onDataChanged,load:a.onLoad,exception:a.onException,remove:a.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){var a=this;if(a.resizeComboToGrow()){a.updateLayout()}},onClear:function(){var a=this;if(a.resizeComboToGrow()){a.removingRecords=true;a.onDataChanged()}},onRemove:function(){var a=this;if(a.resizeComboToGrow()){a.removingRecords=true}},onException:function(){if(this.ignoreSelection>0){--this.ignoreSelection}this.collapse()},onLoad:function(){var a=this,b=a.value;if(a.ignoreSelection>0){--a.ignoreSelection}if(a.rawQuery){a.rawQuery=false;a.syncSelection();if(a.picker&&!a.picker.getSelectionModel().hasSelection()){a.doAutoSelect()}}else{if(a.value||a.value===0){a.setValue(a.value)}else{if(a.store.getCount()){a.doAutoSelect()}else{a.setValue(a.value)}}}},doRawQuery:function(){this.doQuery(this.getRawValue(),false,true)},doQuery:function(a,b,c){a=a||"";var d=this,e={query:a,forceAll:b,combo:d,cancel:false},f=d.store,g=d.queryMode==="local",h;if(d.fireEvent("beforequery",e)===false||e.cancel){return false}a=e.query;b=e.forceAll;if(b||a.length>=d.minChars){d.expand();if(!d.queryCaching||d.lastQuery!==a){d.lastQuery=a;if(g){f.suspendEvents();h=d.clearFilter();if(a||!b){d.activeFilter=new Ext.util.Filter({root:"data",property:d.displayField,value:a});f.filter(d.activeFilter);h=true}else{delete d.activeFilter}f.resumeEvents();if(d.rendered&&h){d.getPicker().refresh()}}else{d.rawQuery=c;if(d.pageSize){d.loadPage(1)}else{f.load({params:d.getParams(a)})}}}if(d.getRawValue()!==d.getDisplayValue()){d.ignoreSelection++;d.picker.getSelectionModel().deselectAll();d.ignoreSelection--}if(g){d.doAutoSelect()}if(d.typeAhead){d.doTypeAhead()}}return true},clearFilter:function(){var a=this.store,b=this.activeFilter,c=a.filters,d;if(b){if(c.getCount()>1){c.remove(b);d=c.getRange()}a.clearFilter(true);if(d){a.filter(d)}}return!!b},loadPage:function(a){this.store.loadPage(a,{params:this.getParams(this.lastQuery)})},onPageChange:function(a,b){this.loadPage(b);return false},getParams:function(a){var b={},c=this.queryParam;if(c){b[c]=a}return b},doAutoSelect:function(){var a=this,b=a.picker,c,d;if(b&&a.autoSelect&&a.store.getCount()>0){c=b.getSelectionModel().lastSelected;d=b.getNode(c||0);if(d){b.highlightItem(d);b.listEl.scrollChildIntoView(d,false)}}},doTypeAhead:function(){if(!this.typeAheadTask){this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this)}if(this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE){this.typeAheadTask.delay(this.typeAheadDelay)}},onTriggerClick:function(){var a=this;if(!a.readOnly&&!a.disabled){if(a.isExpanded){a.collapse()}else{a.onFocus({});if(a.triggerAction==="all"){a.doQuery(a.allQuery,true)}else{a.doQuery(a.getRawValue(),false,true)}}a.inputEl.focus()}},onKeyUp:function(a,b){var c=this,d=a.getKey();if(!c.readOnly&&!c.disabled&&c.editable){c.lastKey=d;if(!a.isSpecialKey()||d==a.BACKSPACE||d==a.DELETE){c.doQueryTask.delay(c.queryDelay)}}if(c.enableKeyEvents){c.callParent(arguments)}},initEvents:function(){var a=this;a.callParent();if(!a.enableKeyEvents){a.mon(a.inputEl,"keyup",a.onKeyUp,a)}},onDestroy:function(){this.bindStore(null);this.callParent()},onAdded:function(){var a=this;a.callParent(arguments);if(a.picker){a.picker.ownerCt=a.up("[floating]");a.picker.registerWithOwnerCt()}},createPicker:function(){var a=this,b,c=Ext.apply({xtype:"boundlist",pickerField:a,selModel:{mode:a.multiSelect?"SIMPLE":"SINGLE"},floating:true,hidden:true,store:a.store,displayField:a.displayField,focusOnToFront:false,pageSize:a.pageSize,tpl:a.tpl},a.listConfig,a.defaultListConfig);b=a.picker=Ext.widget(c);if(a.pageSize){b.pagingToolbar.on("beforechange",a.onPageChange,a)}a.mon(b,{itemclick:a.onItemClick,refresh:a.onListRefresh,scope:a});a.mon(b.getSelectionModel(),{beforeselect:a.onBeforeSelect,beforedeselect:a.onBeforeDeselect,selectionchange:a.onListSelectionChange,scope:a});return b},alignPicker:function(){var a=this,b=a.getPicker(),c=a.getPosition()[1]-Ext.getBody().getScroll().top,d=Ext.Element.getViewHeight()-c-a.getHeight(),e=Math.max(c,d);if(b.height){delete b.height;b.updateLayout()}if(b.getHeight()>e-5){b.setHeight(e-5)}a.callParent()},onListRefresh:function(){this.alignPicker();this.syncSelection()},onItemClick:function(a,b){var c=this,d=c.picker.getSelectionModel().getSelection(),e=c.valueField;if(!c.multiSelect&&d.length){if(b.get(e)===d[0].get(e)){c.displayTplData=[b.data];c.setRawValue(c.getDisplayValue());c.collapse()}}},onBeforeSelect:function(a,b){return this.fireEvent("beforeselect",this,b,b.index)},onBeforeDeselect:function(a,b){return this.fireEvent("beforedeselect",this,b,b.index)},onListSelectionChange:function(a,b){var c=this,d=c.multiSelect,e=b.length>0;if(!c.ignoreSelection&&c.isExpanded){if(!d){Ext.defer(c.collapse,1,c)}if(d||e){c.setValue(b,false)}if(e){c.fireEvent("select",c,b)}c.inputEl.focus()}},onExpand:function(){var a=this,b=a.listKeyNav,c=a.selectOnTab,d=a.getPicker();if(b){b.enable()}else{b=a.listKeyNav=new Ext.view.BoundListKeyNav(this.inputEl,{boundList:d,forceKeyDown:true,tab:function(b){if(c){this.selectHighlighted(b);a.triggerBlur()}return true}})}if(c){a.ignoreMonitorTab=true}Ext.defer(b.enable,1,b);a.inputEl.focus()},onCollapse:function(){var a=this,b=a.listKeyNav;if(b){b.disable();a.ignoreMonitorTab=false}},select:function(a){this.setValue(a,true)},findRecord:function(a,b){var c=this.store,d=c.findExact(a,b);return d!==-1?c.getAt(d):false},findRecordByValue:function(a){return this.findRecord(this.valueField,a)},findRecordByDisplay:function(a){return this.findRecord(this.displayField,a)},setValue:function(a,b){var c=this,d=c.valueNotFoundText,e=c.inputEl,f,g,h,i,j=[],k=[],l=[];if(c.store.loading){c.value=a;c.setHiddenValue(c.value);return c}a=Ext.Array.from(a);for(f=0,g=a.length;f<g;f++){h=a[f];if(!h||!h.isModel){h=c.findRecordByValue(h)}if(h){j.push(h);k.push(h.data);l.push(h.get(c.valueField))}else{if(!c.forceSelection){l.push(a[f]);i={};i[c.displayField]=a[f];k.push(i)}else if(Ext.isDefined(d)){k.push(d)}}}c.setHiddenValue(l);c.value=c.multiSelect?l:l[0];if(!Ext.isDefined(c.value)){c.value=null}c.displayTplData=k;c.lastSelection=c.valueModels=j;if(e&&c.emptyText&&!Ext.isEmpty(a)){e.removeCls(c.emptyCls)}c.setRawValue(c.getDisplayValue());c.checkChange();if(b!==false){c.syncSelection()}c.applyEmptyText();return c},setHiddenValue:function(a){var b=this,c=b.hiddenName,d,e,f,g,h,i;if(!b.hiddenDataEl||!c){return}a=Ext.Array.from(a);e=b.hiddenDataEl.dom;f=e.childNodes;g=f[0];h=a.length;i=f.length;if(!g&&h>0){b.hiddenDataEl.update(Ext.DomHelper.markup({tag:"input",type:"hidden",name:c}));i=1;g=e.firstChild}while(i>h){e.removeChild(f[0]);--i}while(i<h){e.appendChild(g.cloneNode(true));++i}for(d=0;d<h;d++){f[d].value=a[d]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var a=this,b=a.picker,c=a.getRawValue(),d=a.value;if(a.getDisplayValue()!==c){d=c;a.value=a.displayTplData=a.valueModels=null;if(b){a.ignoreSelection++;b.getSelectionModel().deselectAll();a.ignoreSelection--}}return d},getSubmitValue:function(){return this.getValue()},isEqual:function(a,b){var c=Ext.Array.from,d,e;a=c(a);b=c(b);e=a.length;if(e!==b.length){return false}for(d=0;d<e;d++){if(b[d]!==a[d]){return false}}return true},clearValue:function(){this.setValue([])},syncSelection:function(){var a=this,b=a.picker,c,d,e=a.valueModels||[],f=e.length,g,h;if(b){c=[];for(g=0;g<f;g++){h=e[g];if(h&&h.isModel&&a.store.indexOf(h)>=0){c.push(h)}}a.ignoreSelection++;d=b.getSelectionModel();d.deselectAll();if(c.length){d.select(c)}a.ignoreSelection--}},onEditorTab:function(a){var b=this.listKeyNav;if(this.selectOnTab&&b){b.selectHighlighted(a)}}});Ext.define("MyDesktop.Matches",{requires:["Ext.form.field.ComboBox","Ext.form.Label","Ext.window.MessageBox","Ext.data.Store"],k:16,g:[],m:[],one:[],two:[],three:[],tb:null,st:null,nb:null,fm:null,xx:[],yy:[],r:function(a){return Math.floor(Math.random()*a)},rp:function(a){var b=this;if(a<3)return b.r(a)+1;else return b.r(3)+1},wp:function(a){if((a-1)%4==0)return this.rp(a);else return(a-1)%4},c:function(a){var b=this.tb.menu;b;b.removeAll();b.add(a)},t:function(a){this.k-=a},ms:function(a,b){var c=this;for(var d=c.k-1;d>=c.k-b;d--){c.m[d].layout.pack=a?"end":"start";c.m[d].doLayout()}c.t(b)},am:function(){var a=this;if(a.k>=3)return;switch(a.k){case 2:a.c(a.two);break;case 1:a.c(a.one);break;case 0:a.c([]);break}},ng:function(){this.nb.setDisabled(false);this.st.setDisabled(false);this.fm.setDisabled(false)},cp:function(){var a;switch(this.st.getValue()){case 0:a=this.rp(this.k);break;default:a=this.wp(this.k)}this.ms(false,a);this.am();this.tb.setDisabled(false)},oc:function(a){var b=this;b.ms(1,a.tag);b.am();if(b.k==0){Ext.Msg.alert("You lose");b.ng();return}b.cp();if(b.k==0){Ext.Msg.alert("You won");b.ng()}},oc2:function(){this.nb.setDisabled(true);this.st.setDisabled(true);this.fm.setDisabled(true);this.c(this.three);this.k=16;for(var a=15;a>=0;a--){this.m[a].layout.pack="center";this.m[a].doLayout()}if(this.fm.getValue()==1){this.tb.setDisabled(true);this.cp()}},lc:function(a){return{xtype:"label",text:a,scale:"small",color:"default",cls:"floater"}},bc:function(a,b,c){return Ext.apply({xtype:"button",text:a,id:b,scale:"small",color:"default",cls:"floater"},c)},cc:function(a,b){return{xtype:"combobox",store:Ext.create("Ext.data.Store",{fields:["a","b"],data:[{a:0,b:a},{a:1,b:b}]}),queryMode:"local",displayField:"b",valueField:"a",value:0,disabled:true}},i:function(){for(var a=0;a<=15;a++)this.g.push({region:"west",width:10,border:false,layout:{type:"vbox",pack:"center",align:"center"},items:{xtype:"image",width:9,height:80,src:"images/match0.png"}});var b=[];for(var a=1;a<=3;a++)b.push({text:a,tag:a,handler:Ext.bind(this.oc,this)});this.three=b;this.two=[b[0],b[1]];this.one=[b[0]];return[{region:"west",width:160,border:false,layout:{type:"hbox",align:"stretch"},autoScroll:true,flex:0,items:this.g},{region:"center",border:false,flex:1},{region:"east",id:"west-panel",width:190,flex:0,border:false,layout:{type:"vbox",align:"stretch"},items:[this.lc("Choose how many matches do you want to take in your turn"),this.bc("Take","take",{menu:{items:b}}),this.lc("Choose computer level"),this.cc("TRandomMatchesPlayer","TWiseMatchesPlayer"),this.lc("Choose who makes first move"),this.cc("User","Comp"),this.bc("Start New Game","newgame",{disabled:true,handler:Ext.bind(this.oc2,this)}),this.lc("Rules"),this.lc("Each time you can take one, two or three matches.\n/nWho takes the last one, loses."),this.bc("Download Windows Desktop version","download",{href:"http://julfysoft.elitno.net/delphiprogs/matches/Matchesb.exe"}),{layout:"hbox",border:false,items:[this.lc("Produced by: "),{width:50,height:50,border:false},{xtype:"image",src:"images/julfysoft.jpg",flex:1}]}]}]}});Ext.define("MyDesktop.MatchesWindow",{extend:"Ext.ux.desktop.Module",requires:["MyDesktop.Matches"],id:"matches-win",t:"Matches game",ic:"icon-matches",m:null,p:null,init:function(){this.launcher={text:this.t,iconCls:this.ic};this.m=new MyDesktop.Matches;this.p=this.m.i()},createWindow:function(){var a=this.app.getDesktop();var b=a.getWindow(this.id);if(!b){b=a.createWindow({id:this.id,title:this.t,width:425,minWidth:330,height:330,minHeight:330,iconCls:this.ic,animCollapse:false,constrainHeader:true,layout:{type:"hbox",align:"stretch"},items:this.p});this.m.m=b.items.items[0].items.items;this.m.tb=b.items.items[2].items.items[1];this.m.st=b.items.items[2].items.items[3];this.m.fm=b.items.items[2].items.items[5];this.m.nb=b.items.items[2].items.items[6];this.m.oc2()}b.on({render:function(){Ext.defer(b.doLayout(),1e3)},single:true});return b}});Ext.define("Ext.ux.desktop.ShortcutModel",{extend:"Ext.data.Model",fields:[{name:"name"},{name:"iconCls"},{name:"module"}]});Ext.define("MyDesktop.App",{extend:"Ext.ux.desktop.App",requires:["Ext.window.MessageBox","Ext.ux.desktop.ShortcutModel","Ext.ux.desktop.Desktop","MyDesktop.SystemStatus","MyDesktop.VideoWindow","MyDesktop.MatchesWindow","MyDesktop.AboutTextWindow","MyDesktop.Notepad","MyDesktop.Settings"],init:function(){this.callParent()},getModules:function(){return[new MyDesktop.MatchesWindow,new MyDesktop.AboutTextWindow,new MyDesktop.VideoWindow,new MyDesktop.SystemStatus,new MyDesktop.Notepad]},getDesktopConfig:function(){var a=this,b=a.callParent();return Ext.apply(b,{contextMenuItems:[{text:"Change Settings",handler:a.onSettings,scope:a}],shortcuts:Ext.create("Ext.data.Store",{model:"Ext.ux.desktop.ShortcutModel",data:[{name:"Matches Game",iconCls:"matches-shortcut",module:"matches-win"},{name:"About text",iconCls:"abouttext-shortcut",module:"abouttext-win"},{name:"About video",iconCls:"video-shortcut",module:"video"},{name:"Notepad",iconCls:"notepad-shortcut",module:"notepad"},{name:"System Status",iconCls:"cpu-shortcut",module:"systemstatus"}]}),wallpaper:"wallpapers/Eliza-Dushku-79.jpg",wallpaperStretch:false})},getStartConfig:function(){var a=this,b=a.callParent();return Ext.apply(b,{title:"Administrator",iconCls:"user",height:300,toolConfig:{width:100,items:[{text:"Settings",iconCls:"settings",handler:a.onSettings,scope:a},"-",{text:"Logout",disabled:true,iconCls:"logout",handler:a.onLogout,scope:a}]}})},getTaskbarConfig:function(){var a=this.callParent();return Ext.apply(a,{quickStart:[{name:"Matches Game",iconCls:"icon-matches",module:"matches-win"},{name:"About video",iconCls:"icon-video",module:"video"}],trayItems:[{xtype:"trayclock",flex:1}]})},onLogout:function(){Ext.Msg.confirm("Logout","Are you sure you want to logout?")},onSettings:function(){var a=new MyDesktop.Settings({desktop:this.desktop});a.show()}});Ext.define("Ext.util.Point",{extend:"Ext.util.Region",statics:{fromEvent:function(a){a=a.changedTouches&&a.changedTouches.length>0?a.changedTouches[0]:a;return new this(a.pageX,a.pageY)}},constructor:function(a,b){this.callParent([b,a,b,a])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return this.x==a.x&&this.y==a.y},isWithin:function(a,b){if(!Ext.isObject(b)){b={x:b,y:b}}return this.x<=a.x+b.x&&this.x>=a.x-b.x&&this.y<=a.y+b.y&&this.y>=a.y-b.y},roundedEquals:function(a){return Math.round(this.x)==Math.round(a.x)&&Math.round(this.y)==Math.round(a.y)}},function(){this.prototype.translate=Ext.util.Region.prototype.translateBy});Ext.define("Ext.data.Batch",{mixins:{observable:"Ext.util.Observable"},autoStart:false,pauseOnException:false,current:-1,total:0,isRunning:false,isComplete:false,hasException:false,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);b.operations=[];b.exceptions=[]},add:function(a){this.total++;a.setBatch(this);this.operations.push(a);return this},start:function(a){var b=this;if(b.isRunning){return b}b.exceptions.length=0;b.hasException=false;b.isRunning=true;return b.runOperation(Ext.isDefined(a)?a:b.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){this.isRunning=false;return this},runOperation:function(a){var b=this,c=b.operations,d=c[a],e;if(d===undefined){b.isRunning=false;b.isComplete=true;b.fireEvent("complete",b,c[c.length-1])}else{b.current=a;e=function(a){var c=a.hasException();if(c){b.hasException=true;b.exceptions.push(a);b.fireEvent("exception",b,a)}if(c&&b.pauseOnException){b.pause()}else{a.setCompleted();b.fireEvent("operationcomplete",b,a);b.runNextOperation()}};d.setStarted();b.proxy[d.action](d,e,b)}return b}});Ext.define("Ext.ux.desktop.Video",{extend:"Ext.panel.Panel",alias:"widget.video",layout:"fit",autoplay:false,controls:true,bodyStyle:"background-color:#000;color:#fff",html:"",initComponent:function(){this.callParent()},afterRender:function(){var a;if(this.fallbackHTML){a=this.fallbackHTML}else{a="Your browser does not support HTML5 Video. ";if(Ext.isChrome){a+="Upgrade Chrome."}else if(Ext.isGecko){a+="Upgrade to Firefox 3.5 or newer."}else{var b='<a href="http://www.google.com/chrome">Chrome</a>';a+='Please try <a href="http://www.mozilla.com">Firefox</a>';if(Ext.isIE){a+=", "+b+' or <a href="http://www.apple.com/safari/">Safari</a>.'}else{a+=" or "+b+"."}}}var c=this.getSize();var d=Ext.copyTo({tag:"video",width:c.width,height:c.height},this,"poster,start,loopstart,loopend,playcount,autobuffer,loop");if(this.autoplay){d.autoplay=1}if(this.controls){d.controls=1}if(Ext.isArray(this.src)){d.children=[];for(var e=0,f=this.src.length;e<f;e++){if(!Ext.isObject(this.src[e])){Ext.Error.raise('The src list passed to "video" must be an array of objects')}d.children.push(Ext.applyIf({tag:"source"},this.src[e]))}d.children.push({html:a})}else{d.src=this.src;d.html=a}this.video=this.body.createChild(d);var g=this.video.dom;this.supported=g&&g.tagName.toLowerCase()=="video"},afterComponentLayout:function(){var a=this;a.callParent(arguments);if(a.video){a.video.setSize(a.body.getSize())}},onDestroy:function(){var a=this.video;if(a){var b=a.dom;if(b&&b.pause){b.pause()}a.remove();this.video=null}this.callParent()}});Ext.define("Ext.Layer",{extend:"Ext.Element",uses:["Ext.Shadow"],statics:{shims:[]},isLayer:true,constructor:function(a,b){a=a||{};var c=this,d=Ext.DomHelper,e=a.parentEl,f=e?Ext.getDom(e):document.body,g=a.hideMode;if(b){c.dom=Ext.getDom(b)}if(!c.dom){c.dom=d.append(f,a.dh||{tag:"div",cls:Ext.baseCSSPrefix+"layer"})}else{c.addCls(Ext.baseCSSPrefix+"layer");if(!c.dom.parentNode){f.appendChild(c.dom)}}if(a.id){c.id=c.dom.id=a.id}else{c.id=Ext.id(c.dom)}Ext.Element.addToCache(c);if(a.cls){c.addCls(a.cls)}c.constrain=a.constrain!==false;if(g){c.setVisibilityMode(Ext.Element[g.toUpperCase()]);if(c.visibilityMode==Ext.Element.ASCLASS){c.visibilityCls=a.visibilityCls}}else if(a.useDisplay){c.setVisibilityMode(Ext.Element.DISPLAY)}else{c.setVisibilityMode(Ext.Element.VISIBILITY)}if(a.shadow){c.shadowOffset=a.shadowOffset||4;c.shadow=new Ext.Shadow({offset:c.shadowOffset,mode:a.shadow});c.disableShadow()}else{c.shadowOffset=0}c.useShim=a.shim!==false&&Ext.useShims;if(a.hidden===true){c.hide()}else{c.show()}},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var a=this,b,c;if(!a.useShim){return null}if(!a.shim){b=a.self.shims.shift();if(!b){b=a.createShim();b.enableDisplayMode("block");b.hide()}c=a.dom.parentNode;if(b.dom.parentNode!=c){c.insertBefore(b.dom,a.dom)}a.shim=b}return a.shim},hideShim:function(){var a=this;if(a.shim){a.shim.setDisplayed(false);a.self.shims.push(a.shim);delete a.shim}},disableShadow:function(){var a=this;if(a.shadow&&!a.shadowDisabled){a.shadowDisabled=true;a.shadow.hide();a.lastShadowOffset=a.shadowOffset;a.shadowOffset=0}},enableShadow:function(a){var b=this;if(b.shadow&&b.shadowDisabled){b.shadowDisabled=false;b.shadowOffset=b.lastShadowOffset;delete b.lastShadowOffset;if(a){b.sync(true)}}},sync:function(a){var b=this,c=b.shadow,d,e,f,g,h,i,j,k,l;if(!b.updating&&b.isVisible()&&(c||b.useShim)){g=b.getShim();h=b.getLocalX();i=b.getLocalY();j=b.dom.offsetWidth;k=b.dom.offsetHeight;if(c&&!b.shadowDisabled){if(a&&!c.isVisible()){c.show(b)}else{c.realign(h,i,j,k)}if(g){l=g.getStyle("z-index");if(l>b.zindex){b.shim.setStyle("z-index",b.zindex-2)}g.show();if(c.isVisible()){d=c.el.getXY();e=g.dom.style;f=c.el.getSize();if(Ext.supports.CSS3BoxShadow){f.height+=6;f.width+=4;d[0]-=2;d[1]-=4}e.left=d[0]+"px";e.top=d[1]+"px";e.width=f.width+"px";e.height=f.height+"px"}else{g.setSize(j,k);g.setLeftTop(h,i)}}}else if(g){l=g.getStyle("z-index");if(l>b.zindex){b.shim.setStyle("z-index",b.zindex-2)}g.show();g.setSize(j,k);g.setLeftTop(h,i)}}return b},remove:function(){this.hideUnders();this.callParent()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var a=Ext.Element.getViewWidth(),b=Ext.Element.getViewHeight(),c=Ext.getDoc().getScroll(),d=this.getXY(),e=d[0],f=d[1],g=this.shadowOffset,h=this.dom.offsetWidth+g,i=this.dom.offsetHeight+g,j=false;if(e+h>a+c.left){e=a-h-g;j=true}if(f+i>b+c.top){f=b-i-g;j=true}if(e<c.left){e=c.left;j=true}if(f<c.top){f=c.top;j=true}if(j){Ext.Layer.superclass.setXY.call(this,[e,f]);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(a,b,c,d,e){var f=this,g;g=function(){if(a){f.sync(true)}if(d){d()}};if(!a){f.hideUnders(true)}f.callParent([a,b,c,d,e]);if(!b){g()}return f},beforeFx:function(){this.beforeAction();return this.callParent(arguments)},afterFx:function(){this.callParent(arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(a){this.callParent(arguments);return this.sync()},setTop:function(a){this.callParent(arguments);return this.sync()},setLeftTop:function(a,b){this.callParent(arguments);return this.sync()},setXY:function(a,b,c,d,e){var f=this;d=f.createCB(d);f.fixDisplay();f.beforeAction();f.callParent([a,b,c,d,e]);if(!b){d()}return f},createCB:function(a){var b=this,c=b.shadow&&b.shadow.isVisible();return function(){b.constrainXY();b.sync(c);if(a){a()}}},setX:function(a,b,c,d,e){this.setXY([a,this.getY()],b,c,d,e);return this},setY:function(a,b,c,d,e){this.setXY([this.getX(),a],b,c,d,e);return this},setSize:function(a,b,c,d,e,f){var g=this;e=g.createCB(e);g.beforeAction();g.callParent([a,b,c,d,e,f]);if(!c){e()}return g},setWidth:function(a,b,c,d,e){var f=this;d=f.createCB(d);f.beforeAction();f.callParent([a,b,c,d,e]);if(!b){d()}return f},setHeight:function(a,b,c,d,e){var f=this;d=f.createCB(d);f.beforeAction();f.callParent([a,b,c,d,e]);if(!b){d()}return f},setBounds:function(a,b,c,d,e,f,g,h){var i=this;g=i.createCB(g);i.beforeAction();if(!e){Ext.Layer.superclass.setXY.call(i,[a,b]);Ext.Layer.superclass.setSize.call(i,c,d);g()}else{i.callParent([a,b,c,d,e,f,g,h])}return i},setZIndex:function(a){var b=this;b.zindex=a;if(b.getShim()){b.shim.setStyle("z-index",a++)}if(b.shadow){b.shadow.setZIndex(a++)}return b.setStyle("z-index",a)},onOpacitySet:function(a){var b=this.shadow;if(b){b.setOpacity(a)}}});Ext.define("Ext.util.CSS",function(){var a=null,b=document,c=/(-[a-z])/gi,d=function(a,b){return b.charAt(1).toUpperCase()};return{singleton:true,constructor:function(){this.rules={};this.initialized=false},createStyleSheet:function(a,c){var d,e=b.getElementsByTagName("head")[0],f=b.createElement("style");f.setAttribute("type","text/css");if(c){f.setAttribute("id",c)}if(Ext.isIE){e.appendChild(f);d=f.styleSheet;d.cssText=a}else{try{f.appendChild(b.createTextNode(a))}catch(g){f.cssText=a}e.appendChild(f);d=f.styleSheet?f.styleSheet:f.sheet||b.styleSheets[b.styleSheets.length-1]}this.cacheStyleSheet(d);return d},removeStyleSheet:function(a){var b=document.getElementById(a);if(b){b.parentNode.removeChild(b)}},swapStyleSheet:function(a,b){var c=document,d;this.removeStyleSheet(a);d=c.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("type","text/css");d.setAttribute("id",a);d.setAttribute("href",b);c.getElementsByTagName("head")[0].appendChild(d)},refreshCache:function(){return this.getRules(true)},cacheStyleSheet:function(b){if(!a){a={}}try{var c=b.cssRules||b.rules,d,e=c.length-1,f,g;for(;e>=0;--e){d=c[e].selectorText;if(d){d=d.split(",");g=d.length;for(f=0;f<g;f++){a[Ext.String.trim(d[f]).toLowerCase()]=c[e]}}}}catch(h){}},getRules:function(c){if(a===null||c){a={};var d=b.styleSheets,e=0,f=d.length;for(;e<f;e++){try{if(!d[e].disabled){this.cacheStyleSheet(d[e])}}catch(g){}}}return a},getRule:function(a,b){var c=this.getRules(b),d;if(!Ext.isArray(a)){return c[a.toLowerCase()]}for(d=0;d<a.length;d++){if(c[a[d]]){return c[a[d].toLowerCase()]}}return null},updateRule:function(a,b,e){var f,g;if(!Ext.isArray(a)){f=this.getRule(a);if(f){f.style[b.replace(c,d)]=e;return true}}else{for(g=0;g<a.length;g++){if(this.updateRule(a[g],b,e)){return true}}}return false}}}());Ext.define("Ext.draw.engine.SvgExporter",function(){var a=/,/g,b=/(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)\s('*.*'*)/,c=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,d=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,([\d\.]+)\)/g,e,f,g,h,i=function(a){e=a;f=e.length;g=e.width;h=e.height},j={path:function(b){var c=b.attr,d=c.path,e="",f,g,h;if(Ext.isArray(d[0])){h=d.length;for(g=0;g<h;g++){e+=d[g].join(" ")}}else if(Ext.isArray(d)){e=d.join(" ")}else{e=d.replace(a," ")}f=m({d:e,fill:c.fill||"none",stroke:c.stroke,"fill-opacity":c.opacity,"stroke-width":c["stroke-width"],"stroke-opacity":c["stroke-opacity"],"z-index":c.zIndex,transform:b.matrix.toSvg()});return"<path "+f+"/>"},text:function(a){var c=a.attr,d=b.exec(c.font),e=d&&d[1]||"12",f=d&&d[3]||"Arial",g=c.text,h=Ext.isFF3_0||Ext.isFF3_5?2:4,i="",j;a.getBBox();i+='<tspan x="'+(c.x||"")+'" dy="';i+=e/h+'">';i+=Ext.htmlEncode(g)+"</tspan>";j=m({x:c.x,y:c.y,"font-size":e,"font-family":f,"font-weight":c["font-weight"],"text-anchor":c["text-anchor"],fill:c.fill||"#000","fill-opacity":c.opacity,transform:a.matrix.toSvg()});return"<text "+j+">"+i+"</text>"},rect:function(a){var b=a.attr,c=m({x:b.x,y:b.y,rx:b.rx,ry:b.ry,width:b.width,height:b.height,fill:b.fill||"none","fill-opacity":b.opacity,stroke:b.stroke,"stroke-opacity":b["stroke-opacity"],"stroke-width":b["stroke-width"],transform:a.matrix&&a.matrix.toSvg()});return"<rect "+c+"/>"},circle:function(a){var b=a.attr,c=m({cx:b.x,cy:b.y,r:b.radius,fill:b.translation.fill||b.fill||"none","fill-opacity":b.opacity,stroke:b.stroke,"stroke-opacity":b["stroke-opacity"],"stroke-width":b["stroke-width"],transform:a.matrix.toSvg()});return"<circle "+c+" />"},image:function(a){var b=a.attr,c=m({x:b.x-(b.width/2>>0),y:b.y-(b.height/2>>0),width:b.width,height:b.height,"xlink:href":b.src,transform:a.matrix.toSvg()});return"<image "+c+" />"}},k=function(){var a='<?xml version="1.0" standalone="yes"?>';a+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';return a},l=function(){var a='<svg width="'+g+'px" height="'+h+'px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',b="",f,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;k=e.items.items;i=k.length;m=function(a){var b=a.childNodes,c=b.length,d=0,e,f,g="",h,i,j,k;for(;d<c;d++){h=b[d];i=h.attributes;j=h.tagName;g+="<"+j;for(f=0,e=i.length;f<e;f++){k=i.item(f);g+=" "+k.name+'="'+k.value+'"'}g+=">";if(h.childNodes.length>0){g+=m(h)}g+="</"+j+">"}return g};if(e.getDefs){b=m(e.getDefs())}else{p=e.gradientsColl;if(p){q=p.keys;r=p.items;s=0;t=q.length}for(;s<t;s++){u=q[s];v=r[s];l=e.gradientsColl.getByKey(u);b+='<linearGradient id="'+u+'" x1="0" y1="0" x2="1" y2="1">';var C=l.colors.replace(c,"rgb($1|$2|$3)");C=C.replace(d,"rgba($1|$2|$3|$4)");n=C.split(",");for(w=0,y=n.length;w<y;w++){o=n[w].split(" ");C=Ext.draw.Color.fromString(o[1].replace(/\|/g,","));b+='<stop offset="'+o[0]+'" stop-color="'+C.toString()+'" stop-opacity="1"></stop>'}b+="</linearGradient>"}}a+="<defs>"+b+"</defs>";a+=j.rect({attr:{width:"100%",height:"100%",fill:"#fff",stroke:"none",opacity:"0"}});z=new Array(i);for(w=0;w<i;w++){z[w]=w}z.sort(function(a,b){A=k[a].attr.zIndex||0;B=k[b].attr.zIndex||0;if(A==B){return a-b}return A-B});for(w=0;w<i;w++){f=k[z[w]];if(!f.attr.hidden){a+=j[f.type](f)}}a+="</svg>";return a},m=function(a){var b="",c;for(c in a){if(a.hasOwnProperty(c)&&a[c]!=null){b+=c+'="'+a[c]+'" '}}return b};return{singleton:true,generate:function(a,b){b=b||{};i(a);return k()+l()}}});Ext.define("Ext.draw.engine.ImageExporter",{singleton:true,defaultUrl:"http://svg.sencha.io",supportedTypes:["image/png","image/jpeg"],widthParam:"width",heightParam:"height",typeParam:"type",svgParam:"svg",formCls:Ext.baseCSSPrefix+"hide-display",generate:function(a,b){b=b||{};var c=this,d=b.type,e;if(Ext.Array.indexOf(c.supportedTypes,d)===-1){return false}e=Ext.getBody().createChild({tag:"form",method:"POST",action:b.url||c.defaultUrl,cls:c.formCls,children:[{tag:"input",type:"hidden",name:b.widthParam||c.widthParam,value:b.width||a.width},{tag:"input",type:"hidden",name:b.heightParam||c.heightParam,value:b.height||a.height},{tag:"input",type:"hidden",name:b.typeParam||c.typeParam,value:d},{tag:"input",type:"hidden",name:b.svgParam||c.svgParam}]});e.last(null,true).value=Ext.draw.engine.SvgExporter.generate(a);e.dom.submit();e.remove();return true}});Ext.define("Ext.data.Request",{action:undefined,params:undefined,method:"GET",url:undefined,constructor:function(a){Ext.apply(this,a)}});Ext.define("Ext.util.Grouper",{extend:"Ext.util.Sorter",isGrouper:true,getGroupString:function(a){return a.get(this.property)}});Ext.define("Ext.PluginManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.PluginMgr",singleton:true,typeName:"ptype",create:function(a,b){if(a.init){return a}else{return Ext.createByAlias("plugin."+(a.ptype||b),a)}},findByType:function(a,b){var c=[],d=this.types,e,f;for(e in d){if(!d.hasOwnProperty(e)){continue}f=d[e];if(f.type==a&&(!b||b===true&&f.isDefault)){c.push(f)}}return c}},function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}});Ext.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker","Ext.Component"],alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(a){var b=this,c,d,e,f=b.handles,g,h,i,j=0,k,l=[],m,n,o;b.addEvents("beforeresize","resizedrag","resize");if(Ext.isString(a)||Ext.isElement(a)||a.dom){c=a;a=arguments[1]||{};a.target=c}b.mixins.observable.constructor.call(b,a);c=b.target;if(c){if(c.isComponent){b.el=c.getEl();if(c.minWidth){b.minWidth=c.minWidth}if(c.minHeight){b.minHeight=c.minHeight}if(c.maxWidth){b.maxWidth=c.maxWidth}if(c.maxHeight){b.maxHeight=c.maxHeight}if(c.floating){if(!b.hasOwnProperty("handles")){b.handles="n ne e se s sw w nw"}}}else{b.el=b.target=Ext.get(c)}}else{b.target=b.el=Ext.get(b.el)}e=b.el.dom.tagName.toUpperCase();if(e=="TEXTAREA"||e=="IMG"||e=="TABLE"){b.originalTarget=b.target;d=b.el;o=d.getBox();b.target=b.el=b.el.wrap({cls:b.wrapCls,id:b.el.id+"-rzwrap",style:d.getStyles("margin-top","margin-bottom")});b.el.setPositioning(d.getPositioning());d.clearPositioning();b.el.setBox(o);d.setStyle("position","absolute")}b.el.position();if(b.pinned){b.el.addCls(b.pinnedCls)}b.resizeTracker=new Ext.resizer.ResizeTracker({disabled:b.disabled,target:b.target,constrainTo:b.constrainTo,overCls:b.overCls,throttle:b.throttle,originalTarget:b.originalTarget,delegate:"."+b.handleCls,dynamic:b.dynamic,preserveRatio:b.preserveRatio,heightIncrement:b.heightIncrement,widthIncrement:b.widthIncrement,minHeight:b.minHeight,maxHeight:b.maxHeight,minWidth:b.minWidth,maxWidth:b.maxWidth});b.resizeTracker.on({mousedown:b.onBeforeResize,drag:b.onResize,dragend:b.onResizeEnd,scope:b});if(b.handles=="all"){b.handles="n s e w ne nw se sw"}f=b.handles=b.handles.split(/ |\s*?[,;]\s*?/);h=b.possiblePositions;i=f.length;g=b.handleCls+" "+(b.target.isComponent?b.target.baseCls+"-handle ":"")+b.handleCls+"-";m=Ext.isIE6?' style="height:'+b.el.getHeight()+'px"':"";for(;j<i;j++){if(f[j]&&h[f[j]]){k=h[f[j]];if(k==="east"||k==="west"){n=m}else{n=""}l.push('<div id="'+b.el.id+"-"+k+'-handle" class="'+g+k+" "+Ext.baseCSSPrefix+'unselectable"'+n+"></div>")}}Ext.DomHelper.append(b.el,l.join(""));for(j=0;j<i;j++){if(f[j]&&h[f[j]]){k=h[f[j]];b[k]=b.el.getById(b.el.id+"-"+k+"-handle");b[k].region=k;b[k].unselectable();if(b.transparent){b[k].setOpacity(0)}}}if(Ext.isNumber(b.width)){b.width=Ext.Number.constrain(b.width,b.minWidth,b.maxWidth)}if(Ext.isNumber(b.height)){b.height=Ext.Number.constrain(b.height,b.minHeight,b.maxHeight)}if(b.width!==null||b.height!==null){if(b.originalTarget){b.originalTarget.setWidth(b.width);b.originalTarget.setHeight(b.height)}b.resizeTo(b.width,b.height)}b.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(a,b){var c=this.el.getBox();return this.fireEvent("beforeresize",this,c.width,c.height,b)},onResize:function(a,b){var c=this,d=c.el.getBox();c.forceHandlesHeight();return c.fireEvent("resizedrag",c,d.width,d.height,b)},onResizeEnd:function(a,b){var c=this,d=c.el.getBox();c.forceHandlesHeight();return c.fireEvent("resize",c,d.width,d.height,b)},resizeTo:function(a,b){var c=this;c.target.setSize(a,b);c.fireEvent("resize",c,a,b,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var a=0,b=this.handles,c=b.length,d=this.possiblePositions;for(;a<c;a++){this[d[b[a]]].remove()}},forceHandlesHeight:function(){var a=this,b;if(Ext.isIE6){b=a.east;if(b){b.setHeight(a.el.getHeight())}b=a.west;if(b){b.setHeight(a.el.getHeight())}a.el.repaint()}}});Ext.define("Ext.panel.Tool",{extend:"Ext.Component",requires:["Ext.tip.QuickTipManager"],alias:"widget.tool",baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img id="{id}-toolEl" src="{blank}" class="{baseCls}-{type}" role="presentation"/>'],tooltipType:"qtip",stopEvent:true,height:15,width:15,_toolTypes:{close:1,collapse:1,down:1,expand:1,gear:1,help:1,left:1,maximize:1,minimize:1,minus:1,next:1,pin:1,plus:1,prev:1,print:1,refresh:1,restore:1,right:1,save:1,search:1,toggle:1,unpin:1,up:1},initComponent:function(){var a=this;a.addEvents("click");if(a.id&&a._toolTypes[a.id]&&Ext.global.console){Ext.global.console.warn("When specifying a tool you should use the type option, the id can conflict now that tool is a Component")}a.type=a.type||a.id;Ext.applyIf(a.renderData,{baseCls:a.baseCls,blank:Ext.BLANK_IMAGE_URL,type:a.type});a.tooltip=a.tooltip||a.qtip;a.callParent();a.on({element:"toolEl",click:a.onClick,mousedown:a.onMouseDown,mouseover:a.onMouseOver,mouseout:a.onMouseOut,scope:a})},afterRender:function(){var a=this,b;a.callParent(arguments);if(a.tooltip){if(Ext.isObject(a.tooltip)){Ext.tip.QuickTipManager.register(Ext.apply({target:a.id},a.tooltip))}else{b=a.tooltipType=="qtip"?"data-qtip":"title";a.toolEl.dom.setAttribute(b,a.tooltip)}}},getFocusEl:function(){return this.el},setType:function(a){var b=this;b.type=a;if(b.rendered){b.toolEl.dom.className=b.baseCls+"-"+a}return b},bindTo:function(a){this.owner=a},onClick:function(a,b){var c=this,d;if(c.disabled){return false}d=c.owner||c.ownerCt;c.el.removeCls(c.toolPressedCls);c.el.removeCls(c.toolOverCls);if(c.stopEvent!==false){a.stopEvent()}Ext.callback(c.handler,c.scope||c,[a,b,d,c]);c.fireEvent("click",c,a);return true},onDestroy:function(){if(Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.id)}this.callParent()},onMouseDown:function(){if(this.disabled){return false}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return false}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}});Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:"Ext.layout.component.Auto",type:"body",beginLayout:function(a){this.callParent(arguments);a.bodyContext=a.getEl("body")},calculateOwnerHeightFromContentHeight:function(a,b){var c=this.callParent(arguments);if(a.targetContext!=a){c+=a.getPaddingInfo().height}return c},calculateOwnerWidthFromContentWidth:function(a,b){var c=this.callParent(arguments);if(a.targetContext!=a){c+=a.getPaddingInfo().width}return c},measureContentWidth:function(a){return a.bodyContext.setWidth(a.bodyContext.el.dom.offsetWidth,false)},measureContentHeight:function(a){return a.bodyContext.setHeight(a.bodyContext.el.dom.offsetHeight,false)},publishInnerHeight:function(a,b){var c=b-a.getFrameInfo().height,d=a.targetContext;if(d!=a){c-=a.getPaddingInfo().height}return a.bodyContext.setHeight(c,!a.heightModel.natural)},publishInnerWidth:function(a,b){var c=b-a.getFrameInfo().width,d=a.targetContext;if(d!=a){c-=a.getPaddingInfo().width}a.bodyContext.setWidth(c,!a.widthModel.natural)}});Ext.define("Ext.Img",{extend:"Ext.Component",alias:["widget.image","widget.imagecomponent"],autoEl:"img",src:"",alt:"",imgCls:"",getElConfig:function(){var a=this,b=a.callParent(),c;if(a.autoEl=="img"){c=b}else{b.cn=[c={tag:"img",id:a.id+"-img"}]}if(a.imgCls){c.cls=(c.cls?c.cls+" ":"")+a.imgCls}c.src=a.src||Ext.BLANK_IMAGE_URL;if(a.alt){c.alt=a.alt}return b},onRender:function(){var a=this,b;a.callParent(arguments);b=a.el;a.imgEl=a.autoEl=="img"?b:b.getById(a.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl);this.imgEl=null;this.callParent()},setSrc:function(a){var b=this,c=b.imgEl;b.src=a;if(c){c.dom.src=a||Ext.BLANK_IMAGE_URL}}});Ext.define("Ext.ux.desktop.Wallpaper",{extend:"Ext.Component",alias:"widget.wallpaper",cls:"ux-wallpaper",html:'<img src="'+Ext.BLANK_IMAGE_URL+'">',stretch:false,wallpaper:null,stateful:true,stateId:"desk-wallpaper",afterRender:function(){var a=this;a.callParent();a.setWallpaper(a.wallpaper,a.stretch)},applyState:function(){var a=this,b=a.wallpaper;a.callParent(arguments);if(b!=a.wallpaper){a.setWallpaper(a.wallpaper)}},getState:function(){return this.wallpaper&&{wallpaper:this.wallpaper}},setWallpaper:function(a,b){var c=this,d,e;c.stretch=b!==false;c.wallpaper=a;if(c.rendered){d=c.el.dom.firstChild;if(!a||a==Ext.BLANK_IMAGE_URL){Ext.fly(d).hide()}else if(c.stretch){d.src=a;c.el.removeCls("ux-wallpaper-tiled");Ext.fly(d).setStyle({width:"100%",height:"100%"}).show()}else{Ext.fly(d).hide();e="url("+a+")";c.el.addCls("ux-wallpaper-tiled")}c.el.setStyle({backgroundImage:e||""});if(c.stateful){c.saveState()}}return c}});Ext.define("Ext.layout.container.Fit",{extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:true,sizePolicies:{0:{setsWidth:0,setsHeight:0},1:{setsWidth:1,setsHeight:0},2:{setsWidth:0,setsHeight:1},3:{setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a,b){var c=b||this.owner.getSizeModel(),d=(c.width.shrinkWrap?0:1)|(c.height.shrinkWrap?0:2);return this.sizePolicies[d]},beginLayoutCycle:function(a,b){var c=this,d=c.lastHeightModel&&c.lastHeightModel.calculated,e=c.lastWidthModel&&c.lastWidthModel.calculated,f=e||d,g=0,h=0,i,j,k,l,m,n,o,p,q,r;c.callParent(arguments);if(f&&a.targetContext.el.dom.tagName.toUpperCase()!="TD"){f=e=d=false}j=a.childItems;m=j.length;for(k=0;k<m;++k){l=j[k];if(b){i=l.target;o=i.minHeight;p=i.minWidth;if(p||o){n=l.marginInfo||l.getMarginInfo();o+=n.height;p+=n.height;if(g<o){g=o}if(h<p){h=p}}}if(f){q=l.el.dom.style;if(d){q.height=""}if(e){q.width=""}}}if(b){a.maxChildMinHeight=g;a.maxChildMinWidth=h}i=a.target;a.overflowX=!a.widthModel.shrinkWrap&&a.maxChildMinWidth&&(i.autoScroll||i.overflowX)||r;a.overflowY=!a.heightModel.shrinkWrap&&a.maxChildMinHeight&&(i.autoScroll||i.overflowY)||r},calculate:function(a){var b=this,c=a.childItems,d=c.length,e=b.getContainerSize(a),f={length:d,ownerContext:a,targetSize:e},g=a.widthModel.shrinkWrap,h=a.heightModel.shrinkWrap,i=a.overflowX,j=a.overflowY,k,l,m,n,o,p;if(i||j){k=b.getScrollbarsNeeded(i&&e.width,j&&e.height,a.maxChildMinWidth,a.maxChildMinHeight);if(k){l=Ext.getScrollbarSize();if(k&1){e.height-=l.height}if(k&2){e.width-=l.width}}}for(n=0;n<d;++n){f.index=n;b.fitItem(c[n],f)}if(h||g){m=a.targetContext.getPaddingInfo();if(g){if(j&&!e.gotHeight){b.done=false}else{o=f.contentWidth+m.width;if(k&2){o+=l.width}if(!a.setContentWidth(o)){b.done=false}}}if(h){if(i&&!e.gotWidth){b.done=false}else{p=f.contentHeight+m.height;if(k&1){p+=l.height}if(!a.setContentHeight(p)){b.done=false}}}}},fitItem:function(a,b){var c=this;if(a.invalid){c.done=false;return}b.margins=a.getMarginInfo();b.needed=b.got=0;c.fitItemWidth(a,b);c.fitItemHeight(a,b);if(b.got!=b.needed){c.done=false}},fitItemWidth:function(a,b){var c,d;if(b.ownerContext.widthModel.shrinkWrap){d=a.getProp("width")+b.margins.width;c=b.contentWidth;if(c===undefined){b.contentWidth=d}else{b.contentWidth=Math.max(c,d)}}else if(a.widthModel.calculated){++b.needed;if(b.targetSize.gotWidth){++b.got;this.setItemWidth(a,b)}}this.positionItemX(a,b)},fitItemHeight:function(a,b){var c,d;if(b.ownerContext.heightModel.shrinkWrap){d=a.getProp("height")+b.margins.height;c=b.contentHeight;if(c===undefined){b.contentHeight=d}else{b.contentHeight=Math.max(c,d)}}else if(a.heightModel.calculated){++b.needed;if(b.targetSize.gotHeight){++b.got;this.setItemHeight(a,b)}}this.positionItemY(a,b)},positionItemX:function(a,b){var c=b.margins;if(b.index||c.left){a.setProp("x",c.left)}if(c.width){a.setProp("margin-right",c.width)}},positionItemY:function(a,b){var c=b.margins;if(b.index||c.top){a.setProp("y",c.top)}if(c.height){a.setProp("margin-bottom",c.height)}},setItemHeight:function(a,b){a.setHeight(b.targetSize.height-b.margins.height)},setItemWidth:function(a,b){a.setWidth(b.targetSize.width-b.margins.width)}});Ext.define("Ext.menu.Item",{extend:"Ext.Component",alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:true,clickHideDelay:1,destroyMenu:true,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:true,isMenuItem:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',"{text}","<tpl else>",'<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on">','<img id="{id}-iconEl" src="{icon}" class="'+Ext.baseCSSPrefix+'menu-item-icon {iconCls}" />','<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}" />',"</a>","</tpl>"],maskOnDisable:false,activate:function(){var a=this;if(!a.activated&&a.canActivate&&a.rendered&&!a.isDisabled()&&a.isVisible()){a.el.addCls(a.activeCls);a.focus();a.activated=true;a.fireEvent("activate",a)}},getFocusEl:function(){return this.itemEl},deactivate:function(){var a=this;if(a.activated){a.el.removeCls(a.activeCls);a.blur();a.hideMenu();a.activated=false;a.fireEvent("deactivate",a)}},deferExpandMenu:function(){var a=this;if(a.activated&&(!a.menu.rendered||!a.menu.isVisible())){a.parentMenu.activeChild=a.menu;a.menu.parentItem=a;a.menu.parentMenu=a.menu.ownerCt=a.parentMenu;a.menu.showBy(a,a.menuAlign)}},deferHideMenu:function(){if(this.menu.isVisible()){this.menu.hide()}},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var a;Ext.menu.Manager.hideAll();if(!Ext.Element.getActiveElement()){a=this.up(":not([hidden])");if(a){a.focus()}}},expandMenu:function(a){var b=this;if(b.menu){b.cancelDeferHide();if(a===0){b.deferExpandMenu()}else{b.expandMenuTimer=Ext.defer(b.deferExpandMenu,Ext.isNumber(a)?a:b.menuExpandDelay,b)}}},getRefItems:function(a){var b=this.menu,c;if(b){c=b.getRefItems(a);c.unshift(b)}return c||[]},hideMenu:function(a){var b=this;if(b.menu){clearTimeout(b.expandMenuTimer);b.hideMenuTimer=Ext.defer(b.deferHideMenu,Ext.isNumber(a)?a:b.menuHideDelay,b)}},initComponent:function(){var a=this,b=Ext.baseCSSPrefix,c=[b+"menu-item"],d;a.addEvents("activate","click","deactivate");if(a.plain){c.push(b+"menu-item-plain")}if(a.cls){c.push(a.cls)}a.cls=c.join(" ");if(a.menu){d=a.menu;delete a.menu;a.setMenu(d)}a.callParent(arguments)},onClick:function(a){var b=this;if(!b.href){a.stopEvent()}if(b.disabled){return}if(b.hideOnClick){b.deferHideParentMenusTimer=Ext.defer(b.deferHideParentMenus,b.clickHideDelay,b)}Ext.callback(b.handler,b.scope||b,[b,a]);b.fireEvent("click",b,a);if(!b.hideOnClick){b.focus()}},onRemoved:function(){var a=this;if(a.activated&&a.parentMenu.activeItem===a){a.parentMenu.deactivateActiveItem()}a.callParent(arguments);delete a.parentMenu;delete a.ownerButton},beforeDestroy:function(){var a=this;if(a.rendered){a.clearTip()}a.callParent()},onDestroy:function(){var a=this;clearTimeout(a.expandMenuTimer);a.cancelDeferHide();clearTimeout(a.deferHideParentMenusTimer);a.setMenu(null);a.callParent(arguments)},beforeRender:function(){var a=this,b=Ext.BLANK_IMAGE_URL,c,d;a.callParent();if(a.iconAlign==="right"){c=a.checkChangeDisabled?a.disabledCls:"";d=Ext.baseCSSPrefix+"menu-item-icon-right "+a.iconCls}else{c=a.iconCls+(a.checkChangeDisabled?" "+a.disabledCls:"");d=a.menu?a.arrowCls:""}Ext.applyIf(a.renderData,{href:a.href||"#",hrefTarget:a.hrefTarget,icon:a.icon||b,iconCls:c,plain:a.plain,text:a.text,arrowCls:d,blank:b})},onRender:function(){var a=this;a.callParent(arguments);if(a.tooltip){a.setTooltip(a.tooltip,true)}},setMenu:function(a,b){var c=this,d=c.menu,e=c.arrowEl;if(d){delete d.parentItem;delete d.parentMenu;delete d.ownerCt;delete d.ownerItem;if(b===true||b!==false&&c.destroyMenu){Ext.destroy(d)}}if(a){c.menu=Ext.menu.Manager.get(a);c.menu.ownerItem=c}else{c.menu=null}if(c.rendered&&!c.destroying&&e){e[c.menu?"addCls":"removeCls"](c.arrowCls)}},setHandler:function(a,b){this.handler=a||null;this.scope=b},setIcon:function(a){var b=this.iconEl;if(b){b.src=a||Ext.BLANK_IMAGE_URL}this.icon=a},setIconCls:function(a){var b=this,c=b.iconEl;if(c){if(b.iconCls){c.removeCls(b.iconCls)}if(a){c.addCls(a)}}b.iconCls=a},setText:function(a){var b=this,c=b.textEl||b.el;b.text=a;if(b.rendered){c.update(a||"");b.ownerCt.updateLayout()}},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},clearTip:function(){if(Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.itemEl)}},setTooltip:function(a,b){var c=this;if(c.rendered){if(!b){c.clearTip()}if(Ext.isObject(a)){Ext.tip.QuickTipManager.register(Ext.apply({target:c.itemEl.id},a));c.tooltip=a}else{c.itemEl.dom.setAttribute(c.getTipAttr(),a)}}else{c.tooltip=a}return c}});Ext.define("Ext.menu.Separator",{extend:"Ext.menu.Item",alias:"widget.menuseparator",canActivate:false,focusable:false,hideOnClick:false,plain:true,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",beforeRender:function(a,b){var c=this;c.callParent();c.addCls(c.separatorCls)}});Ext.define("Ext.draw.Matrix",{requires:["Ext.draw.Draw"],constructor:function(a,b,c,d,e,f){if(a!=null){this.matrix=[[a,c,e],[b,d,f],[0,0,1]]}else{this.matrix=[[1,0,0],[0,1,0],[0,0,1]]}},add:function(a,b,c,d,e,f){var g=this,h=[[],[],[]],i=[[a,c,e],[b,d,f],[0,0,1]],j,k,l,m;for(j=0;j<3;j++){for(k=0;k<3;k++){m=0;for(l=0;l<3;l++){m+=g.matrix[j][l]*i[l][k]}h[j][k]=m}}g.matrix=h},prepend:function(a,b,c,d,e,f){var g=this,h=[[],[],[]],i=[[a,c,e],[b,d,f],[0,0,1]],j,k,l,m;for(j=0;j<3;j++){for(k=0;k<3;k++){m=0;for(l=0;l<3;l++){m+=i[j][l]*g.matrix[l][k]}h[j][k]=m}}g.matrix=h},invert:function(){var a=this.matrix,b=a[0][0],c=a[1][0],d=a[0][1],e=a[1][1],f=a[0][2],g=a[1][2],h=b*e-c*d;return new Ext.draw.Matrix(e/h,-c/h,-d/h,b/h,(d*g-e*f)/h,(c*f-b*g)/h)},clone:function(){var a=this.matrix,b=a[0][0],c=a[1][0],d=a[0][1],e=a[1][1],f=a[0][2],g=a[1][2];return new Ext.draw.Matrix(b,c,d,e,f,g)},translate:function(a,b){this.prepend(1,0,0,1,a,b)},scale:function(a,b,c,d){var e=this;if(b==null){b=a}e.add(a,0,0,b,c*(1-a),d*(1-b))},rotate:function(a,b,c){a=Ext.draw.Draw.rad(a);var d=this,e=+Math.cos(a).toFixed(9),f=+Math.sin(a).toFixed(9);d.add(e,f,-f,e,b-e*b+f*c,-(f*b)+c-e*c)},x:function(a,b){var c=this.matrix;return a*c[0][0]+b*c[0][1]+c[0][2]},y:function(a,b){var c=this.matrix;return a*c[1][0]+b*c[1][1]+c[1][2]},get:function(a,b){return+this.matrix[a][b].toFixed(4)},toString:function(){var a=this;return[a.get(0,0),a.get(0,1),a.get(1,0),a.get(1,1),0,0].join()},toSvg:function(){var a=this;return"matrix("+[a.get(0,0),a.get(1,0),a.get(0,1),a.get(1,1),a.get(0,2),a.get(1,2)].join()+")"},toFilter:function(a,b){var c=this;a=a||0;b=b||0;return"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', filterType='bilinear', M11="+c.get(0,0)+", M12="+c.get(0,1)+", M21="+c.get(1,0)+", M22="+c.get(1,1)+", Dx="+(c.get(0,2)+a)+", Dy="+(c.get(1,2)+b)+")"},offset:function(){var a=this.matrix;return[(a[0][2]||0).toFixed(4),(a[1][2]||0).toFixed(4)]},split:function(){function a(a){return a[0]*a[0]+a[1]*a[1]}function b(b){var c=Math.sqrt(a(b));b[0]/=c;b[1]/=c}var c=this.matrix,d={translateX:c[0][2],translateY:c[1][2]},e;e=[[c[0][0],c[0][1]],[c[1][1],c[1][1]]];d.scaleX=Math.sqrt(a(e[0]));b(e[0]);d.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1];e[1]=[e[1][0]-e[0][0]*d.shear,e[1][1]-e[0][1]*d.shear];d.scaleY=Math.sqrt(a(e[1]));b(e[1]);d.shear/=d.scaleY;d.rotate=Math.asin(-e[0][1]);d.isSimple=!+d.shear.toFixed(9)&&(d.scaleX.toFixed(9)==d.scaleY.toFixed(9)||!d.rotate);return d}});Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(a){var b=this,c=b.getKey(a);if(!b.map[c]){++b.length;b.items.push(a);b.map[c]=a}return a},clear:function(){var a=this,b=a.items;a.items=[];a.map={};a.length=0;return b},contains:function(a){var b=this.getKey(a);return this.map.hasOwnProperty(b)},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(a){var b=this,c=b.getKey(a),d=b.items,e;if(b.map[c]){e=Ext.Array.indexOf(d,a);Ext.Array.erase(d,e,1);delete b.map[c];--b.length}return a}});Ext.define("Ext.ElementLoader",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.data.Connection","Ext.Ajax"],statics:{Renderer:{Html:function(a,b,c){a.getTarget().update(b.responseText,c.scripts===true);return true}}},url:null,params:null,baseParams:null,autoLoad:false,target:null,loadMask:false,ajaxOptions:null,scripts:false,isLoader:true,constructor:function(a){var b=this,c;a=a||{};Ext.apply(b,a);b.setTarget(b.target);b.addEvents("beforeload","exception","load");b.mixins.observable.constructor.call(b);if(b.autoLoad){c=b.autoLoad;if(c===true){c={}}b.load(c)}},setTarget:function(a){var b=this;a=Ext.get(a);if(b.target&&b.target!=a){b.abort()}b.target=a},getTarget:function(){return this.target||null},abort:function(){var a=this.active;if(a!==undefined){Ext.Ajax.abort(a.request);if(a.mask){this.removeMask()}delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(a===true?null:a)},load:function(a){if(!this.target){Ext.Error.raise("A valid target is required when loading content")}a=Ext.apply({},a);var b=this,c=b.target,d=Ext.isDefined(a.loadMask)?a.loadMask:b.loadMask,e=Ext.apply({},a.params),f=Ext.apply({},a.ajaxOptions),g=a.callback||b.callback,h=a.scope||b.scope||b,i;Ext.applyIf(f,b.ajaxOptions);Ext.applyIf(a,f);Ext.applyIf(e,b.params);Ext.apply(e,b.baseParams);Ext.applyIf(a,{url:b.url});if(!a.url){Ext.Error.raise("You must specify the URL from which content should be loaded")}Ext.apply(a,{scope:b,params:e,callback:b.onComplete});if(b.fireEvent("beforeload",b,a)===false){return}if(d){b.addMask(d)}i=Ext.Ajax.request(a);b.active={request:i,options:a,mask:d,scope:h,callback:g,success:a.success||b.success,failure:a.failure||b.failure,renderer:a.renderer||b.renderer,scripts:Ext.isDefined(a.scripts)?a.scripts:b.scripts};b.setOptions(b.active,a)},setOptions:Ext.emptyFn,onComplete:function(a,b,c){var d=this,e=d.active,f=e.scope,g=d.getRenderer(e.renderer);if(b){b=g.call(d,d,c,e)!==false}if(b){Ext.callback(e.success,f,[d,c,a]);d.fireEvent("load",d,c,a)}else{Ext.callback(e.failure,f,[d,c,a]);d.fireEvent("exception",d,c,a)}Ext.callback(e.callback,f,[d,b,c,a]);if(e.mask){d.removeMask()}delete d.active},getRenderer:function(a){if(Ext.isFunction(a)){return a}return this.statics().Renderer.Html},startAutoRefresh:function(a,b){var c=this;c.stopAutoRefresh();c.autoRefresh=setInterval(function(){c.load(b)},a)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var a=this;a.stopAutoRefresh();delete a.target;a.abort();a.clearListeners()}});Ext.define("Ext.panel.Table",{extend:"Ext.panel.Panel",alias:"widget.tablepanel",uses:["Ext.selection.RowModel","Ext.selection.CellModel","Ext.selection.CheckboxModel","Ext.grid.PagingScroller","Ext.grid.header.Container","Ext.grid.Lockable"],extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:false,viewType:null,selType:"rowmodel",scroll:true,deferRowRender:true,sortableColumns:true,enableLocking:false,scrollerOwner:true,enableColumnMove:true,sealedColumns:false,enableColumnResize:true,enableColumnHide:true,rowLines:true,initComponent:function(){if(!this.viewType){Ext.Error.raise("You must specify a viewType config.")}if(this.headers){Ext.Error.raise("The headers config is not supported. Please specify columns instead.")}var a=this,b=a.scroll,c=false,d=false,e=a.columns||a.colModel,f,g=a.border,h,i;if(a.columnLines){a.addCls(Ext.baseCSSPrefix+"grid-with-col-lines")}if(a.rowLines){a.addCls(Ext.baseCSSPrefix+"grid-with-row-lines")}a.store=Ext.data.StoreManager.lookup(a.store||"ext-empty-store");if(!e){Ext.Error.raise("A column configuration must be specified")}if(e instanceof Ext.grid.header.Container){a.headerCt=e;a.headerCt.border=g;a.columns=a.headerCt.items.items}else{if(Ext.isArray(e)){e={items:e,border:g}}Ext.apply(e,{forceFit:a.forceFit,sortable:a.sortableColumns,enableColumnMove:a.enableColumnMove,enableColumnResize:a.enableColumnResize,enableColumnHide:a.enableColumnHide,border:g,sealed:a.sealedColumns});a.columns=e.items;if(a.enableLocking||Ext.ComponentQuery.query("{locked !== undefined}{processed != true}",a.columns).length){a.self.mixin("lockable",Ext.grid.Lockable);a.injectLockable()}}a.scrollTask=new Ext.util.DelayedTask(a.syncHorizontalScroll,a);a.addEvents("reconfigure","viewready");a.bodyCls=a.bodyCls||"";a.bodyCls+=" "+a.extraBodyCls;a.cls=a.cls||"";a.cls+=" "+a.extraBaseCls;delete a.autoScroll;if(!a.hasView){if(!a.headerCt){a.headerCt=new Ext.grid.header.Container(e)}a.columns=a.headerCt.items.items;if(a.store.buffered&&!a.store.remoteSort){for(h=0,i=a.columns.length;h<i;h++){a.columns[h].sortable=false}}if(a.hideHeaders){a.headerCt.height=0;a.headerCt.addCls(Ext.baseCSSPrefix+"grid-header-ct-hidden");a.addCls(Ext.baseCSSPrefix+"grid-header-hidden");if(Ext.isIEQuirks){a.headerCt.style={display:"none"}}}if(b===true||b==="both"){c=d=true}else if(b==="horizontal"){d=true}else if(b==="vertical"){c=true}a.relayHeaderCtEvents(a.headerCt);a.features=a.features||[];if(!Ext.isArray(a.features)){a.features=[a.features]}a.dockedItems=[].concat(a.dockedItems||[]);a.dockedItems.unshift(a.headerCt);a.viewConfig=a.viewConfig||{};if(a.store&&a.store.buffered){a.viewConfig.preserveScrollOnRefresh=true}else if(a.invalidateScrollerOnRefresh!==undefined){a.viewConfig.preserveScrollOnRefresh=!a.invalidateScrollerOnRefresh}f=a.getView();a.items=[f];a.hasView=true;if(c){if(a.store.buffered){a.verticalScroller=new Ext.grid.PagingScroller(Ext.apply({panel:a,store:a.store,view:a.view},a.verticalScroller))}}if(d){if(!a.hideHeaders){f.on({scroll:{fn:a.onHorizontalScroll,element:"el",scope:a}})}}a.mon(f.store,{load:a.onStoreLoad,scope:a});a.mon(f,{viewready:a.onViewReady,refresh:a.onRestoreHorzScroll,scope:a})}this.relayEvents(a.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect","select","beforedeselect","deselect"]);a.callParent(arguments);a.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange"]);if(a.headerCt){a.headerCt.on("afterlayout",a.onRestoreHorzScroll,a)}},relayHeaderCtEvents:function(a){this.relayEvents(a,["columnresize","columnmove","columnhide","columnshow","sortchange"])},getState:function(){var a=this,b=a.callParent(),c=a.store.sorters.first();b=a.addPropertyToState(b,"columns",(a.headerCt||a).getColumnsState());if(c){b=a.addPropertyToState(b,"sort",{property:c.property,direction:c.direction,root:c.root})}return b},applyState:function(a){var b=this,c=a.sort,d=b.store,e=a.columns;delete a.columns;b.callParent(arguments);if(e){(b.headerCt||b).applyColumnsState(e)}if(c){if(d.remoteSort){d.sort({property:c.property,direction:c.direction,root:c.root},null,false)}else{d.sort(c.property,c.direction)}}},getStore:function(){return this.store},getView:function(){var a=this,b;if(!a.view){b=a.getSelectionModel();a.view=Ext.widget(Ext.apply({},a.viewConfig,{grid:a,deferInitialRefresh:a.deferRowRender!==false,scroll:a.scroll,xtype:a.viewType,store:a.store,headerCt:a.headerCt,selModel:b,features:a.features,panel:a,emptyText:a.emptyText?'<div class="'+Ext.baseCSSPrefix+'grid-empty">'+a.emptyText+"</div>":""}));a.view.getComponentLayout().headerCt=a.headerCt;a.mon(a.view,{uievent:a.processEvent,scope:a});b.view=a.view;a.headerCt.view=a.view;a.relayEvents(a.view,["cellclick","celldblclick"])}return a.view},setAutoScroll:Ext.emptyFn,processEvent:function(a,b,c,d,e,f){var g=this,h;if(e!==-1){h=g.headerCt.getGridColumns()[e];return h.processEvent.apply(h,arguments)}},determineScrollbars:function(){Ext.log.warn("Obsolete")},invalidateScroller:function(){Ext.log.warn("Obsolete")},scrollByDeltaY:function(a,b){this.getView().scrollBy(0,a,b)},scrollByDeltaX:function(a,b){this.getView().scrollBy(a,0,b)},afterCollapse:function(){var a=this;a.saveScrollPos();a.saveScrollPos();a.callParent(arguments)},afterExpand:function(){var a=this;a.callParent(arguments);a.restoreScrollPos();a.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(a,b,c,d,e){var f=this;if(f.optimizedColumnMove===false){f.view.refresh()}else{f.view.moveColumn(d,e,c)}f.delayScroll()},onHeaderHide:function(a,b){this.delayScroll()},onHeaderShow:function(a,b){this.delayScroll()},delayScroll:function(){var a=this.getScrollTarget().el;if(a){this.scrollTask.delay(10,null,null,[a.dom.scrollLeft])}},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var a=this.scrollLeftPos;if(a){this.syncHorizontalScroll(a,true)}},getScrollerOwner:function(){var a=this;if(!this.scrollerOwner){a=this.up("[scrollerOwner]")}return a},getLhsMarker:function(){var a=this;return a.lhsMarker||(a.lhsMarker=Ext.DomHelper.append(a.el,{cls:Ext.baseCSSPrefix+"grid-resize-marker"},true))},getRhsMarker:function(){var a=this;return a.rhsMarker||(a.rhsMarker=Ext.DomHelper.append(a.el,{cls:Ext.baseCSSPrefix+"grid-resize-marker"},true))},getSelectionModel:function(){if(!this.selModel){this.selModel={}}var a="SINGLE",b;if(this.simpleSelect){a="SIMPLE"}else if(this.multiSelect){a="MULTI"}Ext.applyIf(this.selModel,{allowDeselect:this.allowDeselect,mode:a});if(!this.selModel.events){b=this.selModel.selType||this.selType;this.selModel=Ext.create("selection."+b,this.selModel)}if(!this.selModel.hasRelaySetup){this.relayEvents(this.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect"]);this.selModel.hasRelaySetup=true}if(this.disableSelection){this.selModel.locked=true}return this.selModel},getScrollTarget:function(){var a=this.getScrollerOwner(),b=a.query("tableview");return b[1]||b[0]},onHorizontalScroll:function(a,b){this.syncHorizontalScroll(b.scrollLeft)},syncHorizontalScroll:function(a,b){var c=this,d;b=b===true;if(c.rendered&&(b||a!==c.scrollLeftPos)){if(b){d=c.getScrollTarget();d.el.dom.scrollLeft=a}c.headerCt.el.dom.scrollLeft=a;c.scrollLeftPos=a}},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(a){var b=this;b.store=a;b.getView().bindStore(a)},beforeDestroy:function(){Ext.destroy(this.verticalScroller);this.callParent()},reconfigure:function(a,b){var c=this,d=c.headerCt;if(c.lockable){c.reconfigureLockable(a,b)}else{Ext.suspendLayouts();if(b){delete c.scrollLeftPos;d.removeAll();d.add(b)}if(a){a=Ext.StoreManager.lookup(a);c.bindStore(a)}else{c.getView().refresh()}d.setSortState();Ext.resumeLayouts(true)}c.fireEvent("reconfigure",c,a,b)}});Ext.define("MyDesktop.WallpaperModel",{extend:"Ext.data.Model",fields:[{name:"text"},{name:"img"}]});Ext.define("Ext.data.reader.Array",{extend:"Ext.data.reader.Json",alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",totalProperty:undefined,successProperty:undefined,createFieldAccessExpression:function(a,b,c){var d=a.mapping==null?a.originalIndex:a.mapping,e;if(typeof d==="function"){e=b+".mapping("+c+", this)"}else{if(isNaN(d)){d='"'+d+'"'}e=c+"["+d+"]"}return e}});Ext.define("Ext.resizer.Splitter",{extend:"Ext.Component",requires:["Ext.XTemplate"],uses:["Ext.resizer.SplitterTracker"],alias:"widget.splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}">&#160;</div>',"</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:true,collapsible:false,collapseOnDblClick:true,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:false,vertical:false,getTrackerConfig:function(){return{xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this}},beforeRender:function(){var a=this,b=a.getCollapseTarget(),c=a.getCollapseDirection(),d=a.vertical,e=d?"width":"height",f=d?"height":"width",g;a.callParent();if(!a.hasOwnProperty(f)){a[f]="100%"}if(!a.hasOwnProperty(e)){a[e]=5}if(b.collapsed){a.addCls(a.collapsedClsInternal)}g=a.baseCls+"-"+a.orientation;a.addCls(g);if(!a.canResize){a.addCls(g+"-noresize")}Ext.applyIf(a.renderData,{collapseDir:c,collapsible:a.collapsible||b.collapsible})},onRender:function(){var a=this;a.callParent(arguments);if(a.performCollapse!==false){if(a.renderData.collapsible){a.mon(a.collapseEl,"click",a.toggleTargetCmp,a)}if(a.collapseOnDblClick){a.mon(a.el,"dblclick",a.toggleTargetCmp,a)}}a.mon(a.getCollapseTarget(),{collapse:a.onTargetCollapse,expand:a.onTargetExpand,scope:a});a.el.unselectable();if(a.canResize){a.tracker=Ext.create(a.getTrackerConfig());a.relayEvents(a.tracker,["beforedragstart","dragstart","dragend"])}},getCollapseDirection:function(){var a=this,b=a.collapseDirection,c,d,e,f;if(!b){c=a.collapseTarget;if(c.isComponent){b=c.collapseDirection}if(!b){f=a.ownerCt.layout.type;if(c.isComponent){e=a.ownerCt.items;d=Number(e.indexOf(c)==e.indexOf(a)-1)<<1|Number(f=="hbox")}else{d=Number(a.collapseTarget=="prev")<<1|Number(f=="hbox")}b=["bottom","right","top","left"][d]}a.collapseDirection=b}a.orientation=b=="top"||b=="bottom"?"horizontal":"vertical";a[a.orientation]=true;return b},getCollapseTarget:function(){var a=this;return a.collapseTarget.isComponent?a.collapseTarget:a.collapseTarget=="prev"?a.previousSibling():a.nextSibling()},onTargetCollapse:function(a){this.el.addCls([this.collapsedClsInternal,this.collapsedCls])},onTargetExpand:function(a){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls])},toggleTargetCmp:function(a,b){var c=this.getCollapseTarget(),d=c.placeholder,e;if(d&&!d.hidden){e=true}else{e=!c.hidden}if(e){if(c.collapsed){c.expand()}else if(c.collapseDirection){c.collapse()}else{c.collapse(this.renderData.collapseDir)}}},setSize:function(){var a=this;a.callParent(arguments);if(Ext.isIE&&a.el){a.el.repaint()}},beforeDestroy:function(){Ext.destroy(this.tracker);this.callParent()}});Ext.define("Ext.form.CheckboxManager",{extend:"Ext.util.MixedCollection",singleton:true,getByName:function(a){return this.filterBy(function(b){return b.name==a})},getWithValue:function(a,b){return this.filterBy(function(c){return c.name==a&&c.inputValue==b})},getChecked:function(a){return this.filterBy(function(b){return b.name==a&&b.checked})}});Ext.define("Ext.resizer.BorderSplitter",{extend:"Ext.resizer.Splitter",uses:["Ext.resizer.BorderSplitterTracker"],alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var a=this.callParent();a.xclass="Ext.resizer.BorderSplitterTracker";return a}});Ext.define("Ext.view.Table",{extend:"Ext.view.View",alias:"widget.tableview",uses:["Ext.view.TableLayout","Ext.view.TableChunker","Ext.util.DelayedTask","Ext.util.MixedCollection"],componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",rowSelector:"tr."+Ext.baseCSSPrefix+"grid-row",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",headerRowSelector:"tr."+Ext.baseCSSPrefix+"grid-header-row",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",overItemCls:Ext.baseCSSPrefix+"grid-row-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+) ",""),trackOver:true,getRowClass:null,stripeRows:true,markDirty:true,initialTpl:"<div></div>",initComponent:function(){var a=this,b=a.scroll;a.table=new Ext.dom.Element.Fly;a.table.id=a.id+"gridTable";a.autoScroll=undefined;if(b===true||b==="both"){a.autoScroll=true}else if(b==="horizontal"){a.overflowX="auto"}else if(b==="vertical"){a.overflowY="auto"}a.selModel.view=a;a.headerCt.view=a;a.headerCt.markDirty=a.markDirty;a.initFeatures(a.grid);delete a.grid;a.tpl=a.getTpl("initialTpl");a.callParent()},moveColumn:function(a,b,c){var d=this,e=c>1?document.createDocumentFragment():undefined,f=b,g=d.getGridColumns().length,h=g-1,i=(d.firstCls||d.lastCls)&&(b===0||b==g||a===0||a==h),j,k,l,m,n,o;if(d.rendered){o=d.el.query(d.headerRowSelector);l=d.el.query(d.rowSelector);if(b>a&&e){f-=c}for(j=0,m=o.length;j<m;++j){n=o[j];if(e){for(k=0;k<c;k++){e.appendChild(n.cells[a])}n.insertBefore(e,n.cells[f]||null)}else{n.insertBefore(n.cells[a],n.cells[f]||null)}}for(j=0,m=l.length;j<m;j++){n=l[j];if(i){if(a===0){Ext.fly(n.cells[0]).removeCls(d.firstCls);Ext.fly(n.cells[1]).addCls(d.firstCls)}else if(a===h){Ext.fly(n.cells[h]).removeCls(d.lastCls);Ext.fly(n.cells[h-1]).addCls(d.lastCls)}if(b===0){Ext.fly(n.cells[0]).removeCls(d.firstCls);Ext.fly(n.cells[a]).addCls(d.firstCls)}else if(b===g){Ext.fly(n.cells[h]).removeCls(d.lastCls);Ext.fly(n.cells[a]).addCls(d.lastCls)}}if(e){for(k=0;k<c;k++){e.appendChild(n.cells[a])}n.insertBefore(e,n.cells[f]||null)}else{n.insertBefore(n.cells[a],n.cells[f]||null)}}d.setNewTemplate()}},scrollToTop:Ext.emptyFn,addElListener:function(a,b,c){this.mon(this,a,b,c,{element:"el"})},getGridColumns:function(){return this.headerCt.getGridColumns()},getHeaderAtIndex:function(a){return this.headerCt.getHeaderAtIndex(a)},getCell:function(a,b){var c=this.getNode(a);return Ext.fly(c).down(b.getCellSelector())},getFeature:function(a){var b=this.featuresMC;if(b){return b.get(a)}},initFeatures:function(a){var b=this,c,d,e,f;b.featuresMC=new Ext.util.MixedCollection;d=b.features=b.constructFeatures();f=d?d.length:0;for(c=0;c<f;c++){e=d[c];e.view=b;e.grid=a;b.featuresMC.add(e);e.init()}},constructFeatures:function(){var a=this,b=a.features,c,d,e=0,f;if(b){d=[];f=b.length;for(;e<f;e++){c=b[e];if(!c.isFeature){c=Ext.create("feature."+c.ftype,c)}d[e]=c}}return d},attachEventsForFeatures:function(){var a=this.features,b=a.length,c=0;for(;c<b;c++){if(a[c].isFeature){a[c].attachEvents()}}},afterRender:function(){var a=this;a.callParent();if(!a.enableTextSelection){a.el.unselectable()}a.attachEventsForFeatures()},onViewScroll:function(a,b){this.callParent(arguments);this.fireEvent("bodyscroll",a,b)},prepareData:function(a,b,c){var d=this,e=d.headerCt.prepareData(a,b,c,d,d.ownerCt),f=d.features,g=f.length,h=0,i;for(;h<g;h++){i=f[h];if(i.isFeature){Ext.apply(e,i.getAdditionalData(a,b,c,e,d))}}return e},collectData:function(a,b){var c=this,d=c.callParent(arguments),e=c.headerCt,f=e.getFullWidth(),g=c.features,h=g.length,i={rows:d,fullWidth:f},j=0,k,l=0,m,n,o,p;m=d.length;if(c.getRowClass){for(;l<m;l++){n={};o=d[l];p=o.rowCls||"";o.rowCls=this.getRowClass(a[l],l,n,c.store)+" "+p;if(n.alt){Ext.Error.raise("The getRowClass alt property is no longer supported.")}if(n.tstyle){Ext.Error.raise("The getRowClass tstyle property is no longer supported.")}if(n.cells){Ext.Error.raise("The getRowClass cells property is no longer supported.")}if(n.body){Ext.Error.raise("The getRowClass body property is no longer supported. Use the getAdditionalData method of the rowbody feature.")}if(n.bodyStyle){Ext.Error.raise("The getRowClass bodyStyle property is no longer supported.")}if(n.cols){Ext.Error.raise("The getRowClass cols property is no longer supported.")}}}for(;j<h;j++){k=g[j];if(k.isFeature&&k.collectData&&!k.disabled){i=k.collectData(a,d,b,f,i);break}}return i},refreshSize:function(){var a=this,b;a.table.attach(a.el.child("table",true));if(!a.hasLoadingHeight){b=a.up("tablepanel");Ext.suspendLayouts();a.callParent();if(b&&Ext.getScrollbarSize().width&&(a.autoScroll||a.overflowY)){b.updateLayout()}Ext.resumeLayouts(true)}},setNewTemplate:function(){var a=this,b=a.headerCt.getColumnsForTpl(true);a.tpl=a.getTableChunker().getTableTpl({rowCount:a.store.getCount(),columns:b,features:a.features,enableTextSelection:a.enableTextSelection})},getTableChunker:function(){return this.chunker||Ext.view.TableChunker},addRowCls:function(a,b){var c=this.getNode(a);if(c){Ext.fly(c).addCls(b)}},removeRowCls:function(a,b){var c=this.getNode(a);if(c){Ext.fly(c).removeCls(b)}},onRowSelect:function(a){this.addRowCls(a,this.selectedItemCls)},onRowDeselect:function(a){var b=this;b.removeRowCls(a,b.selectedItemCls);b.removeRowCls(a,b.focusedItemCls)},onCellSelect:function(a){var b=this.getCellByPosition(a,true);if(b){Ext.fly(b).addCls(this.selectedCellCls)}},onCellDeselect:function(a){var b=this.getCellByPosition(a,true);if(b){Ext.fly(b).removeCls(this.selectedCellCls)}},onCellFocus:function(a){this.focusCell(a)},getCellByPosition:function(a,b){if(a){var c=this.getNode(a.row),d=this.headerCt.getHeaderAtIndex(a.column);if(d&&c){return Ext.fly(c).down(d.getCellSelector(),b)}}return false},onRowFocus:function(a,b,c){var d=this;if(b){d.addRowCls(a,d.focusedItemCls);if(!c){d.focusRow(a)}}else{d.removeRowCls(a,d.focusedItemCls)}},focusRow:function(a){var b=this,c=b.getNode(a),d=b.el,e=0,f=b.ownerCt,g,h,i,j;if(c&&d){h=d.getY();i=h+d.dom.clientHeight;g=Ext.fly(c).getRegion();if(g.top<h){e=g.top-h}else if(g.bottom>i){e=g.bottom-i}j=b.getRecord(c);a=b.store.indexOf(j);if(e){f.scrollByDeltaY(e)}b.fireEvent("rowfocus",j,c,a)}},focusCell:function(a){var b=this,c=b.getCellByPosition(a),d=b.el,e=0,f=0,g=d.getRegion(),h=b.ownerCt,i,j;g.bottom=g.top+d.dom.clientHeight;g.right=g.left+d.dom.clientWidth;if(c){i=c.getRegion();if(i.top<g.top){e=i.top-g.top}else if(i.bottom>g.bottom){e=i.bottom-g.bottom}if(i.left<g.left){f=i.left-g.left}else if(i.right>g.right){f=i.right-g.right}if(e){h.scrollByDeltaY(e)}if(f){h.scrollByDeltaX(f)}d.focus();b.fireEvent("cellfocus",j,c,a)}},scrollByDelta:function(a,b){b=b||"scrollTop";var c=this.el.dom;c[b]=c[b]+=a},onUpdate:function(a,b,c,d){var e=this,f,g,h,i,j,k,l,m,n,o,p,j,q,r,s,t,u=e.editingPlugin&&e.editingPlugin.editing;if(e.viewReady){f=e.store.indexOf(b);q=e.headerCt.getGridColumns();r=e.overItemCls;if(q.length&&f>-1){g=e.bufferRender([b],f)[0];l=e.all.item(f);if(l){m=l.dom;s=l.hasCls(r);if(m.mergeAttributes){m.mergeAttributes(g,true)}else{h=g.attributes;i=h.length;for(j=0;j<i;j++){k=h[j].name;if(k!=="id"){m.setAttribute(k,h[j].value)}}}if(s){l.addCls(r)}n=l.query(e.cellSelector);o=Ext.fly(g).query(e.cellSelector);p=o.length;t=n[0].parentNode;for(j=0;j<p;j++){if(e.shouldUpdateCell(q[j],d)){if(u){Ext.fly(n[j]).syncContent(o[j])}else{t.insertBefore(o[j],n[j]);t.removeChild(n[j])}}}}e.fireEvent("itemupdate",b,f,g)}}},shouldUpdateCell:function(a,b){if(a.hasCustomRenderer){return true}return!b||Ext.Array.contains(b,a.dataIndex)},refresh:function(){var a=this;a.setNewTemplate();a.callParent(arguments);a.doStripeRows(0);a.headerCt.setSortState()},clearViewEl:function(){this.callParent();delete this.table.dom},processItemEvent:function(a,b,c,d){var e=this,f=d.getTarget(e.cellSelector,b),g=f?f.cellIndex:-1,h=e.statics().EventMap,i=e.getSelectionModel(),j=d.type,k;if(j=="keydown"&&!f&&i.getCurrentPosition){f=e.getCellByPosition(i.getCurrentPosition());if(f){f=f.dom;g=f.cellIndex}}k=e.fireEvent("uievent",j,e,f,c,g,d,a,b);if(k===false||e.callParent(arguments)===false){return false}if(j=="mouseover"||j=="mouseout"){return true}if(!f){return true}return!(e["onBeforeCell"+h[j]](f,g,a,b,c,d)===false||e.fireEvent("beforecell"+j,e,f,g,a,b,c,d)===false||e["onCell"+h[j]](f,g,a,b,c,d)===false||e.fireEvent("cell"+j,e,f,g,a,b,c,d)===false)},processSpecialEvent:function(a){var b=this,c=b.statics().EventMap,d=b.features,e=d.length,f=a.type,g,h,i,j,k,l,m=b.ownerCt;b.callParent(arguments);if(f=="mouseover"||f=="mouseout"){return}for(g=0;g<e;g++){h=d[g];if(h.hasFeatureEvent){j=a.getTarget(h.eventSelector,b.getTargetEl());if(j){i=h.eventPrefix;k=h.getFireEventArgs("before"+i+f,b,j,a);l=h.getFireEventArgs(i+f,b,j,a);if(b.fireEvent.apply(b,k)===false||m.fireEvent.apply(m,k)===false||b.fireEvent.apply(b,l)===false||m.fireEvent.apply(m,l)===false){return false}}}}return true},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(a){if(a){var b=this.getMaxContentWidth(a);delete a.flex;a.setWidth(b)}},getMaxContentWidth:function(a){var b=a.getCellInnerSelector(),c=this.el.query(b),d=0,e=c.length,f=a.el.dom.scrollWidth,g;for(;d<e;d++){g=c[d].scrollWidth;if(g>f){f=g}}return f},getPositionByEvent:function(a){var b=this,c=a.getTarget(b.cellSelector),d=a.getTarget(b.itemSelector),e=b.getRecord(d),f=b.getHeaderByCell(c);return b.getPosition(e,f)},getHeaderByCell:function(a){if(a){var b=a.className.match(this.cellRe);if(b&&b[1]){return Ext.getCmp(b[1])}}return false},walkCells:function(a,b,c,d,e,f){if(!a){return}var g=this,h=a.row,i=a.column,j=g.store.getCount(),k=g.getFirstVisibleColumnIndex(),l=g.getLastVisibleColumnIndex(),m={row:h,column:i},n=g.headerCt.getHeaderAtIndex(i);if(!n||n.hidden){return false}c=c||{};b=b.toLowerCase();switch(b){case"right":if(i===l){if(d||h===j-1){return false}if(!c.ctrlKey){m.row=h+1;m.column=k}}else{if(!c.ctrlKey){m.column=i+g.getRightGap(n)}else{m.column=l}}break;case"left":if(i===k){if(d||h===0){return false}if(!c.ctrlKey){m.row=h-1;m.column=l}}else{if(!c.ctrlKey){m.column=i+g.getLeftGap(n)}else{m.column=k}}break;case"up":if(h===0){return false}else{if(!c.ctrlKey){m.row=h-1}else{m.row=0}}break;case"down":if(h===j-1){return false}else{if(!c.ctrlKey){m.row=h+1}else{m.row=j-1}}break}if(e&&e.call(f||window,m)!==true){return false}else{return m}},getFirstVisibleColumnIndex:function(){var a=this.getHeaderCt().getVisibleGridColumns()[0];return a?a.getIndex():-1},getLastVisibleColumnIndex:function(){var a=this.getHeaderCt().getVisibleGridColumns(),b=a[a.length-1];return b.getIndex()},getHeaderCt:function(){return this.headerCt},getPosition:function(a,b){var c=this,d=c.store,e=c.headerCt.getGridColumns();return{row:d.indexOf(a),column:Ext.Array.indexOf(e,b)}},getRightGap:function(a){var b=this.getHeaderCt(),c=b.getGridColumns(),d=Ext.Array.indexOf(c,a),e=d+1,f;for(;e<=c.length;e++){if(!c[e].hidden){f=e;break}}return f-d},beforeDestroy:function(){if(this.rendered){this.el.removeAllListeners()}this.callParent(arguments)},getLeftGap:function(a){var b=this.getHeaderCt(),c=b.getGridColumns(),d=Ext.Array.indexOf(c,a),e=d-1,f;for(;e>=0;e--){if(!c[e].hidden){f=e;break}}return f-d},onAdd:function(a,b,c){this.callParent(arguments);this.doStripeRows(c)},onRemove:function(a,b,c){this.callParent(arguments);this.doStripeRows(c)},doStripeRows:function(a,b){var c=this,d,e,f,g;if(c.rendered&&c.stripeRows){d=c.getNodes(a,b);for(f=0,e=d.length;f<e;f++){g=d[f];g.className=g.className.replace(c.rowClsRe," ");a++;if(a%2===0){g.className+=" "+c.altRowCls}}}}});Ext.define("Ext.draw.SpriteDD",{extend:"Ext.dd.DragSource",constructor:function(a,b){var c=this,d=a.el;c.sprite=a;c.el=d;c.dragData={el:d,sprite:a};c.callParent([d,b]);c.sprite.setStyle("cursor","move")},showFrame:Ext.emptyFn,createFrame:Ext.emptyFn,getDragEl:function(a){return this.el},getRegion:function(){var a=this,b=a.el,c,d,e,f,g,h,i,j,k,l,m;m=a.sprite;l=m.getBBox();try{c=Ext.Element.getXY(b)}catch(n){}if(!c){return null}d=c[0];e=d+l.width;f=c[1];g=f+l.height;return new Ext.util.Region(f,e,g,d)},startDrag:function(a,b){var c=this,d=c.sprite.attr;c.prev=c.sprite.surface.transformToViewBox(a,b)},onDrag:function(a){var b=a.getXY(),c=this,d=c.sprite,e=d.attr,f,g;b=c.sprite.surface.transformToViewBox(b[0],b[1]);f=b[0]-c.prev[0];g=b[1]-c.prev[1];d.setAttributes({translate:{x:e.translation.x+f,y:e.translation.y+g}},true);c.prev=b},setDragElPos:function(){return false}});Ext.define("Ext.FocusManager",{singleton:true,alternateClassName:["Ext.FocusMgr"],mixins:{observable:"Ext.util.Observable"},requires:["Ext.AbstractComponent","Ext.Component","Ext.ComponentManager","Ext.ComponentQuery","Ext.util.HashMap","Ext.util.KeyNav"],enabled:false,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(a){var b=this,c=Ext.ComponentQuery;b.mixins.observable.constructor.call(b,a);b.addEvents("beforecomponentfocus","componentfocus","disable","enable");b.focusTask=new Ext.util.DelayedTask(b.handleComponentFocus,b);Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments);if(b.enabled&&this.hasFocus){Array.prototype.unshift.call(arguments,this);b.onComponentFocus.apply(b,arguments)}},onBlur:function(){this.callParent(arguments);if(b.enabled&&!this.hasFocus){Array.prototype.unshift.call(arguments,this);b.onComponentBlur.apply(b,arguments)}},onDestroy:function(){this.callParent(arguments);if(b.enabled){Array.prototype.unshift.call(arguments,this);b.onComponentDestroy.apply(b,arguments)}}});Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments);if(b.enabled){Array.prototype.unshift.call(arguments,this);b.onComponentHide.apply(b,arguments)}}});b.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:true,scope:b,backspace:b.focusLast,enter:b.navigateIn,esc:b.navigateOut,tab:b.navigateSiblings,space:b.navigateIn,del:b.focusLast,left:b.navigateSiblings,right:b.navigateSiblings,down:b.navigateSiblings,up:b.navigateSiblings});b.focusData={};b.subscribers=new Ext.util.HashMap;b.focusChain={};Ext.apply(c.pseudos,{focusable:function(a){var b=a.length,c=[],d=0,e;for(;d<b;d++){e=a[d];if(e.isFocusable()){c.push(e)}}return c},nextFocus:function(a,b,c){c=c||1;b=parseInt(b,10);var d=a.length,e=b,f;for(;;){if((e+=c)>=d){e=0}else if(e<0){e=d-1}if(e===b){return[]}if((f=a[e]).isFocusable()){return[f]}}return[]},prevFocus:function(a,b){return this.nextFocus(a,b,-1)},root:function(a){var b=a.length,c=[],d=0,e;for(;d<b;d++){e=a[d];if(!e.ownerCt){c.push(e)}}return c}})},addXTypeToWhitelist:function(a){var b=this;if(Ext.isArray(a)){Ext.Array.forEach(a,b.addXTypeToWhitelist,b);return}if(!Ext.Array.contains(b.whitelist,a)){b.whitelist.push(a)}},clearComponent:function(a){clearTimeout(this.cmpFocusDelay);if(!a.isDestroyed){a.blur()}},disable:function(){var a=this;if(!a.enabled){return}delete a.options;a.enabled=false;a.removeDOM();a.keyNav.disable();a.fireEvent("disable",a)},enable:function(a){var b=this;if(a===true){a={focusFrame:true}}b.options=a=a||{};if(b.enabled){return}b.enabled=true;b.initDOM(a);b.keyNav.enable();b.focusEl.focus();delete b.focusedCmp;b.fireEvent("enable",b)},focusLast:function(a){var b=this;if(b.isWhitelisted(b.focusedCmp)){return true}if(b.previousFocusedCmp){b.previousFocusedCmp.focus()}},getRootComponents:function(){var a=this,b=Ext.ComponentQuery,c=b.query(":focusable:root:not([floating])"),d=b.query(":focusable:root[floating]");d.sort(function(a,b){return a.el.getZIndex()>b.el.getZIndex()});return d.concat(c)},initDOM:function(a){var b=this,c=b.focusFrameCls,d=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),e=0,f=d.length;if(!Ext.isReady){return Ext.onReady(b.initDOM,b)}for(;e<f;e++){d[e].addFocusListener()}if(!b.focusEl){b.focusEl=Ext.getBody();b.focusEl.dom.tabIndex=-1}if(!b.focusFrame&&a.focusFrame){b.focusFrame=Ext.getBody().createChild({cls:c,children:[{cls:c+"-top"},{cls:c+"-bottom"},{cls:c+"-left"},{cls:c+"-right"}],style:"top: -100px; left: -100px;"});b.focusFrame.setVisibilityMode(Ext.Element.DISPLAY);b.focusFrame.hide().setLeftTop(0,0)}},isWhitelisted:function(a){return a&&Ext.Array.some(this.whitelist,function(b){return a.isXType(b)})},navigateIn:function(a){var b=this,c=b.focusedCmp,d,e;if(b.isWhitelisted(c)){return true}if(!c){d=b.getRootComponents()[0];if(d){if(d.getFocusEl()===b.focusEl){b.focusEl.blur()}d.focus()}}else{e=c.hasFocus?Ext.ComponentQuery.query(">:focusable",c)[0]:c;if(e){e.focus()}else{if(Ext.isFunction(c.onClick)){a.button=0;c.onClick(a);if(c.isVisible(true)){c.focus()}else{b.navigateOut()}}}}},navigateOut:function(a){var b=this,c;if(!b.focusedCmp||!(c=b.focusedCmp.up(":focusable"))){b.focusEl.focus()}else{c.focus()}return true},navigateSiblings:function(a,b,c){var d=this,e=b||d,f=a.getKey(),g=Ext.EventObject,h=a.shiftKey||f==g.LEFT||f==g.UP,i=f==g.LEFT||f==g.RIGHT||f==g.UP||f==g.DOWN,j=h?"prev":"next",k,l,m,n;m=e.focusedCmp&&e.focusedCmp.comp||e.focusedCmp;if(!m&&!c){return true}if(i&&d.isWhitelisted(m)){return true}if(!m||m.is(":root")){n=d.getRootComponents()}else{c=c||m.up();if(c){n=c.getRefItems()}}if(n){k=m?Ext.Array.indexOf(n,m):-1;l=Ext.ComponentQuery.query(":"+j+"Focus("+k+")",n)[0];if(l&&m!==l){l.focus();return l}}},onComponentBlur:function(a,b){var c=this;if(c.focusedCmp===a){c.previousFocusedCmp=a;delete c.focusedCmp}if(c.focusFrame){c.focusFrame.hide()}},onComponentFocus:function(a,b){var c=this,d=c.focusChain,e;if(!a.isFocusable()){c.clearComponent(a);if(d[a.id]){return}e=a.up();if(e){d[a.id]=true;e.focus()}return}c.focusChain={};c.focusTask.delay(10,null,null,[a,a.getFocusEl()])},handleComponentFocus:function(a,b){var c=this,d,e,f,g,h,i,j,k,l,m,n,o;if(c.fireEvent("beforecomponentfocus",c,a,c.previousFocusedCmp)===false){c.clearComponent(a);return}c.focusedCmp=a;if(c.shouldShowFocusFrame(a)){d="."+c.focusFrameCls+"-";e=c.focusFrame;g=b.getPageBox();h=g.top;i=g.left;j=g.width;k=g.height;l=e.child(d+"top");m=e.child(d+"bottom");n=e.child(d+"left");o=e.child(d+"right");l.setWidth(j).setLeftTop(i,h);m.setWidth(j).setLeftTop(i,h+k-2);n.setHeight(k-2).setLeftTop(i,h+2);o.setHeight(k-2).setLeftTop(i+j-2,h+2);e.show()}c.fireEvent("componentfocus",c,a,c.previousFocusedCmp)},onComponentHide:function(a){var b=this,c=false,d=b.focusedCmp,e;if(d){c=a.hasFocus||a.isContainer&&a.isAncestor(b.focusedCmp)}b.clearComponent(a);if(c&&(e=a.up(":focusable"))){e.focus()}else{b.focusEl.focus()}},onComponentDestroy:function(){},removeDOM:function(){var a=this;if(a.enabled||a.subscribers.length){return}Ext.destroy(a.focusFrame);delete a.focusEl;delete a.focusFrame},removeXTypeFromWhitelist:function(a){var b=this;if(Ext.isArray(a)){Ext.Array.forEach(a,b.removeXTypeFromWhitelist,b);return}Ext.Array.remove(b.whitelist,a)},setupSubscriberKeys:function(a,b){var c=this,d=a.getFocusEl(),e=b.scope,f={backspace:c.focusLast,enter:c.navigateIn,esc:c.navigateOut,scope:c},g=function(b){if(c.focusedCmp===a){return c.navigateSiblings(b,c,a)}else{return c.navigateSiblings(b)}};Ext.iterate(b,function(b,c){f[b]=function(b){var d=g(b);if(Ext.isFunction(c)&&c.call(e||a,b,d)===true){return true}return d}},c);return new Ext.util.KeyNav(d,f)},shouldShowFocusFrame:function(a){var b=this,c=b.options||{},d=a.getFocusEl(),e=Ext.getDom(d).tagName;if(!b.focusFrame||!a){return false}if(c.focusFrame){return true}if(b.focusData[a.id].focusFrame){return true}return false}});Ext.define("Ext.layout.ClassList",function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{dirty:false,constructor:function(c){this.owner=c;this.map=b(this.classes=a(c.el.className))},add:function(a){var b=this;if(!b.map[a]){b.map[a]=true;b.classes.push(a);if(!b.dirty){b.dirty=true;b.owner.markDirty()}}},addMany:function(b){Ext.each(a(b),this.add,this)},contains:function(a){return this.map[a]},flush:function(){this.owner.el.className=this.classes.join(" ");this.dirty=false},remove:function(a){var b=this;if(b.map[a]){delete b.map[a];b.classes=Ext.Array.filter(b.classes,function(b){return b!=a});if(!b.dirty){b.dirty=true;b.owner.markDirty()}}},removeMany:function(c){var d=this,e=b(a(c));d.classes=Ext.Array.filter(d.classes,function(a){if(!e[a]){return true}delete d.map[a];if(!d.dirty){d.dirty=true;d.owner.markDirty()}return false})}}}());Ext.define("Ext.data.Tree",{alias:"data.tree",mixins:{observable:"Ext.util.Observable"},root:null,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b);if(a){b.setRootNode(a)}},getRootNode:function(){return this.root},setRootNode:function(a){var b=this;b.root=a;if(b.fireEvent("beforeappend",null,a)!==false){a.set("root",true);a.updateInfo();a.commit();a.on({scope:b,insert:b.onNodeInsert,append:b.onNodeAppend,remove:b.onNodeRemove});b.relayEvents(a,["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort","rootchange"]);b.nodeHash={};b.registerNode(a);b.fireEvent("append",null,a);b.fireEvent("rootchange",a)}return a},flatten:function(){return Ext.Object.getValues(this.nodeHash)},onNodeInsert:function(a,b){this.registerNode(b,true)},onNodeAppend:function(a,b){this.registerNode(b,true)},onNodeRemove:function(a,b){this.unregisterNode(b,true)},onNodeIdChanged:function(a,b,c){var d=this.nodeHash;d[c]=a;delete d[b||a.internalId]},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a,b){var c=this;c.nodeHash[a.getId()||a.internalId]=a;a.on("idchanged",c.onNodeIdChanged,c);if(b===true){a.eachChild(function(a){c.registerNode(a,true)})}},unregisterNode:function(a,b){delete this.nodeHash[a.getId()||a.internalId];if(b===true){a.eachChild(function(a){this.unregisterNode(a,true)},this)}},sort:function(a,b){this.getRootNode().sort(a,b)},filter:function(a,b){this.getRootNode().filter(a,b)}});Ext.define("Ext.selection.RowModel",{extend:"Ext.selection.Model",alias:"selection.rowmodel",requires:["Ext.util.KeyNav"],deltaScroll:5,enableKeyNav:true,ignoreRightMouseSelection:false,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select");this.views=[];this.callParent(arguments)},bindComponent:function(a){var b=this;b.views=b.views||[];b.views.push(a);b.bindStore(a.getStore(),true);a.on({itemmousedown:b.onRowMouseDown,scope:b});if(b.enableKeyNav){b.initKeyNav(a)}},initKeyNav:function(a){var b=this;if(!a.rendered){a.on("render",Ext.Function.bind(b.initKeyNav,b,[a],0),b,{single:true});return}a.el.set({tabIndex:-1});b.keyNav=new Ext.util.KeyNav({target:a,ignoreInputFields:true,eventName:"itemkeydown",processEvent:function(a,b,c,d,e){e.record=b;e.recordIndex=d;return e},up:b.onKeyUp,down:b.onKeyDown,right:b.onKeyRight,left:b.onKeyLeft,pageDown:b.onKeyPageDown,pageUp:b.onKeyPageUp,home:b.onKeyHome,end:b.onKeyEnd,space:b.onKeySpace,enter:b.onKeyEnter,scope:b})},getRowsVisible:function(){var a=false,b=this.views[0],c=b.getNode(0),d,e;if(c){d=Ext.fly(c).getHeight();e=b.el.getHeight();a=Math.floor(e/d)}return a},onKeyEnd:function(a){var b=this,c=b.store.getAt(b.store.getCount()-1);if(c){if(a.shiftKey){b.selectRange(c,b.lastFocused||0);b.setLastFocused(c)}else if(a.ctrlKey){b.setLastFocused(c)}else{b.doSelect(c)}}},onKeyHome:function(a){var b=this,c=b.store.getAt(0);if(c){if(a.shiftKey){b.selectRange(c,b.lastFocused||0);b.setLastFocused(c)}else if(a.ctrlKey){b.setLastFocused(c)}else{b.doSelect(c,false)}}},onKeyPageUp:function(a){var b=this,c=b.getRowsVisible(),d,e,f;if(c){d=a.recordIndex;e=d-c;if(e<0){e=0}f=b.store.getAt(e);if(a.shiftKey){b.selectRange(f,a.record,a.ctrlKey,"up");b.setLastFocused(f)}else if(a.ctrlKey){a.preventDefault();b.setLastFocused(f)}else{b.doSelect(f)}}},onKeyPageDown:function(a){var b=this,c=b.getRowsVisible(),d,e,f;if(c){d=a.recordIndex;e=d+c;if(e>=b.store.getCount()){e=b.store.getCount()-1}f=b.store.getAt(e);if(a.shiftKey){b.selectRange(f,a.record,a.ctrlKey,"down");b.setLastFocused(f)}else if(a.ctrlKey){a.preventDefault();b.setLastFocused(f)}else{b.doSelect(f)}}},onKeySpace:function(a){var b=this,c=b.lastFocused;if(c){if(b.isSelected(c)){b.doDeselect(c,false)}else{b.doSelect(c,true)}}},onKeyEnter:Ext.emptyFn,onKeyUp:function(a){var b=this,c=b.store.indexOf(b.lastFocused),d;if(c>0){d=b.store.getAt(c-1);if(a.shiftKey&&b.lastFocused){if(b.isSelected(b.lastFocused)&&b.isSelected(d)){b.doDeselect(b.lastFocused,true);b.setLastFocused(d)}else if(!b.isSelected(b.lastFocused)){b.doSelect(b.lastFocused,true);b.doSelect(d,true)}else{b.doSelect(d,true)}}else if(a.ctrlKey){b.setLastFocused(d)}else{b.doSelect(d)}}},onKeyDown:function(a){var b=this,c=b.store.indexOf(b.lastFocused),d;if(c+1<b.store.getCount()){d=b.store.getAt(c+1);if(b.selected.getCount()===0){if(!a.ctrlKey){b.doSelect(d)}else{b.setLastFocused(d)}}else if(a.shiftKey&&b.lastFocused){if(b.isSelected(b.lastFocused)&&b.isSelected(d)){b.doDeselect(b.lastFocused,true);b.setLastFocused(d)}else if(!b.isSelected(b.lastFocused)){b.doSelect(b.lastFocused,true);b.doSelect(d,true)}else{b.doSelect(d,true)}}else if(a.ctrlKey){b.setLastFocused(d)}else{b.doSelect(d)}}},scrollByDeltaX:function(a){var b=this.views[0],c=b.up(),d=c.horizontalScroller;if(d){d.scrollByDeltaX(a)}},onKeyLeft:function(a){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(a){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(a,b,c,d,e){if(!this.allowRightMouseSelection(e)){return}if(e.button===0||!this.isSelected(b)){this.selectWithEvent(b,e)}},allowRightMouseSelection:function(a){var b=this.ignoreRightMouseSelection&&a.button!==0;if(b){b=this.hasSelection()}return!b},onSelectChange:function(a,b,c,d){var e=this,f=e.views,g=f.length,h=e.store,i=h.indexOf(a),j=b?"select":"deselect",k=0;if((c||e.fireEvent("before"+j,e,a,i))!==false&&d()!==false){for(;k<g;k++){if(b){f[k].onRowSelect(i,c)}else{f[k].onRowDeselect(i,c)}}if(!c){e.fireEvent(j,e,a,i)}}},onLastFocusChanged:function(a,b,c){var d=this.views,e=d.length,f=this.store,g,h=0;if(a){g=f.indexOf(a);if(g!=-1){for(;h<e;h++){d[h].onRowFocus(g,false)}}}if(b){g=f.indexOf(b);if(g!=-1){for(h=0;h<e;h++){d[h].onRowFocus(g,true,c)}}}this.callParent()},onEditorTab:function(a,b){var c=this,d=c.views[0],e=a.getActiveRecord(),f=a.getActiveColumn(),g=d.getPosition(e,f),h=b.shiftKey?"left":"right";do{g=d.walkCells(g,h,b,c.preventWrap)}while(g&&!d.headerCt.getHeaderAtIndex(g.column).getEditor());if(g){a.startEditByPosition(g)}},getCurrentPosition:function(){var a=this.selected.items[0];if(a){return{row:this.store.indexOf(a),column:0}}},selectByPosition:function(a){var b=this.store.getAt(a.row);this.select(b)},selectNext:function(a,b){var c=this,d=c.store,e=c.getSelection(),f=e[e.length-1],g=d.indexOf(f)+1,h;if(g===d.getCount()||g===0){h=false}else{c.doSelect(g,a,b);h=true}return h},selectPrevious:function(a,b){var c=this,d=c.getSelection(),e=d[0],f=c.store.indexOf(e)-1,g;if(f<0){g=false}else{c.doSelect(f,a,b);g=true}return g}});Ext.define("Ext.data.NodeInterface",{requires:["Ext.data.Field"],statics:{decorate:function(a){var b,c;if(typeof a=="string"){a=Ext.ModelManager.getModel(a)}else if(a.isModel){a=Ext.ModelManager.getModel(a.modelName)}if(a.prototype.isNode){return}b=a.prototype.idProperty;idField=a.prototype.fields.get(b);c=a.prototype.fields.get(b).type.type;a.override(this.getPrototypeBody());this.applyFields(a,[{name:"parentId",type:c,defaultValue:null,useNull:idField.useNull},{name:"index",type:"int",defaultValue:null,persist:false},{name:"depth",type:"int",defaultValue:0,persist:false},{name:"expanded",type:"bool",defaultValue:false,persist:false},{name:"expandable",type:"bool",defaultValue:true,persist:false},{name:"checked",type:"auto",defaultValue:null,persist:false},{name:"leaf",type:"bool",defaultValue:false},{name:"cls",type:"string",defaultValue:null,persist:false},{name:"iconCls",type:"string",defaultValue:null,persist:false},{name:"icon",type:"string",defaultValue:null,persist:false},{name:"root",type:"boolean",defaultValue:false,persist:false},{name:"isLast",type:"boolean",defaultValue:false,persist:false},{name:"isFirst",type:"boolean",defaultValue:false,persist:false},{name:"allowDrop",type:"boolean",defaultValue:true,persist:false},{name:"allowDrag",type:"boolean",defaultValue:true,persist:false},{name:"loaded",type:"boolean",defaultValue:false,persist:false},{name:"loading",type:"boolean",defaultValue:false,persist:false},{name:"href",type:"string",defaultValue:null,persist:false},{name:"hrefTarget",type:"string",defaultValue:null,persist:false},{name:"qtip",type:"string",defaultValue:null,persist:false},{name:"qtitle",type:"string",defaultValue:null,persist:false},{name:"children",type:"auto",defaultValue:null,persist:false}])},applyFields:function(a,b){var c=a.prototype,d=c.fields,e=d.keys,f=b.length,g,h;for(h=0;h<f;h++){g=b[h];if(!Ext.Array.contains(e,g.name)){d.add(new Ext.data.Field(g))}}},getPrototypeBody:function(){return{isNode:true,constructor:function(){var a=this;this.callParent(arguments);Ext.applyIf(a,{firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,childNodes:[]});a.enableBubble(["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort"]);return a},createNode:function(a){if(Ext.isObject(a)&&!a.isModel){a=Ext.ModelManager.create(a,this.modelName)}if(!a.childNodes){Ext.applyIf(a,{firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,childNodes:[]})}return a},isLeaf:function(){return this.get("leaf")===true},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},updateInfo:function(a){var b=this,c=b.isRoot(),d=b.parentNode,e=!d||c?true:d.firstChild===b,f=!d||c?true:d.lastChild===b,g=0,h=b,i=b.childNodes,j=i.length,k=0,l=b.phantom;while(h.parentNode){++g;h=h.parentNode}b.beginEdit();b.set({isFirst:e,isLast:f,depth:g,index:d?d.indexOf(b):0,parentId:d?d.getId():null});b.endEdit(true);if(a){b.commit();b.phantom=l}for(k=0;k<j;k++){i[k].updateInfo(a)}},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var a=this;if(a.get("expandable")){return!(a.isLeaf()||a.isLoaded()&&!a.hasChildNodes())}return false},triggerUIUpdate:function(){this.afterEdit([])},appendChild:function(a,b,c){var d=this,e,f,g,h,i;if(Ext.isArray(a)){d.callStore("suspendAutoSync");for(e=0,f=a.length-1;e<f;e++){d.appendChild(a[e])}d.callStore("resumeAutoSync");d.appendChild(a[f])}else{a=d.createNode(a);if(b!==true&&(!d.hasListeners.beforeappend||d.fireEvent("beforeappend",d,a)===false)){return false}g=d.childNodes.length;h=a.parentNode;if(h){if(b!==true&&(!d.hasListeners.beforeremove||a.fireEvent("beforemove",a,h,d,g)===false)){return false}h.removeChild(a,false,false,true)}g=d.childNodes.length;if(g===0){d.setFirstChild(a)}d.childNodes.push(a);a.parentNode=d;a.nextSibling=null;d.setLastChild(a);i=d.childNodes[g-1];if(i){a.previousSibling=i;i.nextSibling=a;i.updateInfo(c)}else{a.previousSibling=null}a.updateInfo(c);if(!d.isLoaded()){d.set("loaded",true)}else if(d.childNodes.length===1){d.triggerUIUpdate()}if(!a.isLeaf()&&a.phantom){a.set("loaded",true)}if(b!==true){d.fireEvent("append",d,a,g);if(h){a.fireEvent("move",a,h,d,g)}}return a}},getBubbleTarget:function(){return this.parentNode},removeChild:function(a,b,c,d){var e=this,f=e.indexOf(a),g,h;if(f==-1||c!==true&&(!e.hasListeners.beforeremove||e.fireEvent("beforeremove",e,a,!!d)===false)){return false}Ext.Array.erase(e.childNodes,f,1);if(e.firstChild==a){e.setFirstChild(a.nextSibling)}if(e.lastChild==a){e.setLastChild(a.previousSibling)}if(a.previousSibling){a.previousSibling.nextSibling=a.nextSibling}if(a.nextSibling){a.nextSibling.previousSibling=a.previousSibling}for(g=f>0?f-1:0,h=e.childNodes.length;g<h;g++){e.childNodes[g].updateInfo()}if(!e.childNodes.length){e.triggerUIUpdate()}if(c!==true){if(e.hasListeners.remove){e.fireEvent("remove",e,a,!!d)}}if(b){a.destroy(true)}else{a.clear()}return a},copy:function(a,b){var c=this,d=c.callOverridden(arguments),e=c.childNodes?c.childNodes.length:0,f;if(b){for(f=0;f<e;f++){d.appendChild(c.childNodes[f].copy(true))}}return d},clear:function(a){var b=this;b.parentNode=b.previousSibling=b.nextSibling=null;if(a){b.firstChild=b.lastChild=null}},destroy:function(a){var b=this,c=b.destroyOptions,d=b.childNodes,e=d.length,f;if(a===true){b.clear(true);for(f=0;f<e;f++){d[f].destroy(true)}b.childNodes=null;delete b.destroyOptions;b.callOverridden([c])}else{b.destroyOptions=a;b.remove(true)}},insertBefore:function(a,b,c){var d=this,e=d.indexOf(b),f=a.parentNode,g=e,h,i,j;if(!b){return d.appendChild(a)}if(a==b){return false}a=d.createNode(a);if(c!==true&&(!d.hasListeners.beforeinsert||d.fireEvent("beforeinsert",d,a,b)===false)){return false}if(f==d&&d.indexOf(a)<e){g--}if(f){if(c!==true&&(!d.hasListeners.beforeremove||a.fireEvent("beforemove",a,f,d,e,b)===false)){return false}f.removeChild(a,false,false,true)}if(g===0){d.setFirstChild(a)}Ext.Array.splice(d.childNodes,g,0,a);a.parentNode=d;a.nextSibling=b;b.previousSibling=a;i=d.childNodes[g-1];if(i){a.previousSibling=i;i.nextSibling=a}else{a.previousSibling=null}for(j=g>0?g-1:0,h=d.childNodes.length;j<h;j++){d.childNodes[j].updateInfo()}if(!d.isLoaded()){d.set("loaded",true)}else if(d.childNodes.length===1){d.triggerUIUpdate()}if(!a.isLeaf()&&a.phantom){a.set("loaded",true)}if(c!==true){if(d.hasListeners.insert){d.fireEvent("insert",d,a,b)}if(f&&d.hasListeners.move){a.fireEvent("move",a,f,d,g,b)}}return a},insertChild:function(a,b){var c=this.childNodes[a];if(c){return this.insertBefore(b,c)}else{return this.appendChild(b)}},remove:function(a,b){var c=this.parentNode;if(c){c.removeChild(this,a,b)}return this},removeAll:function(a,b){var c=this.childNodes,d;while(d=c[0]){this.removeChild(d,a,b)}return this},getChildAt:function(a){return this.childNodes[a]},replaceChild:function(a,b,c){var d=b?b.nextSibling:null;this.removeChild(b,false,c);this.insertBefore(a,d,c);return b},indexOf:function(a){return Ext.Array.indexOf(this.childNodes,a)},indexOfId:function(a){var b=this.childNodes,c=b.length,d=0;for(;d<c;++d){if(b[d].getId()===a){return d}}return-1},getPath:function(a,b){a=a||this.idProperty;b=b||"/";var c=[this.get(a)],d=this.parentNode;while(d){c.unshift(d.get(a));d=d.parentNode}return b+c.join(b)},getDepth:function(){return this.get("depth")},bubble:function(a,b,c){var d=this;while(d){if(a.apply(b||d,c||[d])===false){break}d=d.parentNode}},cascade:function(){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead.")}return this.cascadeBy.apply(this,arguments)},cascadeBy:function(a,b,c){if(a.apply(b||this,c||[this])!==false){var d=this.childNodes,e=d.length,f;for(f=0;f<e;f++){d[f].cascadeBy(a,b,c)}}},eachChild:function(a,b,c){var d=this.childNodes,e=d.length,f;for(f=0;f<e;f++){if(a.apply(b||this,c||[d[f]])===false){break}}},findChild:function(a,b,c){return this.findChildBy(function(){return this.get(a)==b},null,c)},findChildBy:function(a,b,c){var d=this.childNodes,e=d.length,f=0,g,h;for(;f<e;f++){g=d[f];if(a.call(b||g,g)===true){return g}else if(c){h=g.findChildBy(a,b,c);if(h!==null){return h}}}return null},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){var b=this.parentNode;while(b){if(b==a){return true}b=b.parentNode}return false},sort:function(a,b,c){var d=this.childNodes,e=d.length,f,g;if(e>0){Ext.Array.sort(d,a);for(f=0;f<e;f++){g=d[f];g.previousSibling=d[f-1];g.nextSibling=d[f+1];if(f===0){this.setFirstChild(g)}if(f==e-1){this.setLastChild(g)}g.updateInfo();if(b&&!g.isLeaf()){g.sort(a,true,true)}}if(c!==true){this.fireEvent("sort",this,d)}}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){var a=this.parentNode;while(a){if(!a.isExpanded()){return false}a=a.parentNode}return true},expand:function(a,b,c){var d=this;if(!d.isLeaf()){if(d.isLoading()){d.on("expand",function(){d.expand(a,b,c)},d,{single:true})}else{if(!d.isExpanded()){d.fireEvent("beforeexpand",d,function(){d.set("expanded",true);if(d.hasListeners.expand){d.fireEvent("expand",d,d.childNodes,false)}if(a){d.expandChildren(true,b,c)}else{Ext.callback(b,c||d,[d.childNodes])}},d)}else if(a){d.expandChildren(true,b,c)}else{Ext.callback(b,c||d,[d.childNodes])}}}else{Ext.callback(b,c||d)}},expandChildren:function(a,b,c){var d=this,e=0,f=d.childNodes,g=f.length,h,i=0;for(;e<g;++e){h=f[e];if(!h.isLeaf()){i++;f[e].expand(a,function(){i--;if(b&&!i){Ext.callback(b,c||d,[d.childNodes])}})}}if(!i&&b){Ext.callback(b,c||d,[d.childNodes])}},collapse:function(a,b,c){var d=this;if(!d.isLeaf()){if(!d.collapsing&&d.isExpanded()){d.fireEvent("beforecollapse",d,function(){d.set("expanded",false);if(d.hasListeners.collapse){d.fireEvent("collapse",d,d.childNodes,false)}if(a){d.collapseChildren(true,b,c)}else{Ext.callback(b,c||d,[d.childNodes])}},d)}else if(a){d.collapseChildren(true,b,c)}else{Ext.callback(b,c||d,[d.childNodes])}}else{Ext.callback(b,c||d,[d.childNodes])}},collapseChildren:function(a,b,c){var d=this,e=0,f=d.childNodes,g=f.length,h,i=0;for(;e<g;++e){h=f[e];if(!h.isLeaf()){i++;f[e].collapse(a,function(){i--;if(b&&!i){Ext.callback(b,c||d,[d.childNodes])}})}}if(!i&&b){Ext.callback(b,c||d,[d.childNodes])}}}}}});Ext.define("Ext.grid.ColumnComponentLayout",{extend:"Ext.layout.component.Auto",alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:true,getContentHeight:function(a){return this.owner.isGroupHeader?a.getProp("contentHeight"):this.callParent(arguments)},calculateOwnerHeightFromContentHeight:function(a,b){var c=this.callParent(arguments);if(this.owner.isGroupHeader){c+=this.owner.titleEl.dom.offsetHeight}return c},getContentWidth:function(a){return this.owner.isGroupHeader?a.getProp("contentWidth"):this.callParent(arguments)},calculateOwnerWidthFromContentWidth:function(a,b){return b+a.getPaddingInfo().width}});Ext.define("Ext.grid.ColumnLayout",{extend:"Ext.layout.container.HBox",alias:"layout.gridcolumn",type:"gridcolumn",reserveOffset:false,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){this.grid=this.owner.up("[scrollerOwner]");this.callParent()},beginLayout:function(a){var b=this,c=b.grid,d=c.view,e=0,f=b.getVisibleItems(),g=f.length,h;a.gridContext=a.context.getCmp(b.grid);if(c.lockable){if(b.owner.up("tablepanel")===d.normalGrid){d=d.normalGrid.getView()}else{d=null}}b.callParent(arguments);for(;e<g;e++){h=f[e];h.removeCls([b.firstHeaderCls,b.lastHeaderCls]);h.el.setStyle({height:"auto"});h.titleEl.setStyle({height:"auto",paddingTop:""})}if(g>0){f[0].addCls(b.firstHeaderCls);f[g-1].addCls(b.lastHeaderCls)}if(!b.owner.isHeader&&Ext.getScrollbarSize().width&&!c.collapsed&&d&&d.table.dom&&(d.autoScroll||d.overflowY)){a.viewContext=a.context.getCmp(d)}},roundFlex:function(a){return Math.floor(a)},calculate:function(a){var b=this,c=a.viewContext,d,e;b.callParent(arguments);if(a.state.parallelDone){a.setProp("columnWidthsDone",true)}if(c&&!a.state.overflowAdjust.width&&!a.gridContext.heightModel.shrinkWrap){d=c.tableContext.getProp("height");e=c.getProp("height");if(isNaN(d+e)){b.done=false}else if(d>=e){a.gridContext.invalidate({after:function(){a.state.overflowAdjust={width:Ext.getScrollbarSize().width,height:0}}})}}},completeLayout:function(a){var b=this,c=b.owner,d=a.state,e=false,f=b.sizeModels.calculated,g,h,i,j,k;b.callParent(arguments);if(!d.flexesCalculated&&c.forceFit&&!c.isHeader){g=a.childItems;h=g.length;for(i=0;i<h;i++){j=g[i];k=j.target;if(k.width){k.flex=a.childItems[i].flex=k.width;delete k.width;j.widthModel=f;e=true}}if(e){b.cacheFlexes(a);a.invalidate({state:{flexesCalculated:true}})}}},finalizeLayout:function(){var a=this,b=0,c,d,e,f=a.owner,g=f.titleEl;c=a.getVisibleItems();d=c.length;e=f.el.getViewSize().height;if(g){e-=g.getHeight()}for(;b<d;b++){c[b].setPadding(e)}},publishInnerCtSize:function(a){var b=this,c=a.state.boxPlan.targetSize,d=a.peek("contentWidth"),e;if(d!=null&&!b.owner.isHeader){c.width=d;e=b.owner.ownerCt.view;if(e.autoScroll||e.overflowY){c.width+=Ext.getScrollbarSize().width}}return b.callParent(arguments)}});Ext.define("Ext.AbstractPlugin",{disabled:false,constructor:function(a){this.initialConfig=a;Ext.apply(this,a)},clone:function(){return new this.self(this.initialConfig)},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=true}});Ext.define("Ext.dd.DragZone",{extend:"Ext.dd.DragSource",constructor:function(a,b){this.callParent([a,b]);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(a,b);return true},afterRepair:function(){var a=this;if(Ext.enableFx){Ext.fly(a.dragData.ddel).highlight(a.repairHighlightColor)}a.dragging=false},getRepairXY:function(a){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent();if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.define("Ext.dd.Registry",{singleton:true,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(a,b){if(typeof a=="string"){return a}var c=a.id;if(!c&&b!==false){c="extdd-"+ ++this.autoIdSeed;a.id=c}return c},register:function(a,b){b=b||{};if(typeof a=="string"){a=document.getElementById(a)}b.ddel=a;this.elements[this.getId(a)]=b;if(b.isHandle!==false){this.handles[b.ddel.id]=b}if(b.handles){var c=b.handles,d,e;for(d=0,e=c.length;d<e;d++){this.handles[this.getId(c[d])]=b}}},unregister:function(a){var b=this.getId(a,false),c=this.elements[b],d,e,f;if(c){delete this.elements[b];if(c.handles){d=c.handles;for(e=0,f=d.length;e<f;e++){delete this.handles[this.getId(d[e],false)]}}}},getHandle:function(a){if(typeof a!="string"){a=a.id}return this.handles[a]},getHandleFromEvent:function(a){var b=a.getTarget();return b?this.handles[b.id]:null},getTarget:function(a){if(typeof a!="string"){a=a.id}return this.elements[a]},getTargetFromEvent:function(a){var b=a.getTarget();return b?this.elements[b.id]||this.handles[b.id]:null}});Ext.define("Ext.dd.ScrollManager",{singleton:true,requires:["Ext.dd.DragDropManager"],constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this);a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this);this.doScroll=Ext.Function.bind(this.doScroll,this);this.ddmInstance=a;this.els={};this.dragEl=null;this.proc={}},onStop:function(a){var b=Ext.dd.ScrollManager;b.dragEl=null;b.clearProc()},triggerRefresh:function(){if(this.ddmInstance.dragCurrent){this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)}},doScroll:function(){if(this.ddmInstance.dragCurrent){var a=this.proc,b=a.el,c=a.el.ddScrollConfig,d=c?c.increment:this.increment;if(!this.animate){if(b.scroll(a.dir,d)){this.triggerRefresh()}}else{b.scroll(a.dir,d,true,this.animDuration,this.triggerRefresh)}}},clearProc:function(){var a=this.proc;if(a.id){clearInterval(a.id)}a.id=0;a.el=null;a.dir=""},startProc:function(a,b){this.clearProc();this.proc.el=a;this.proc.dir=b;var c=a.ddScrollConfig?a.ddScrollConfig.ddGroup:undefined,d=a.ddScrollConfig&&a.ddScrollConfig.frequency?a.ddScrollConfig.frequency:this.frequency;if(c===undefined||this.ddmInstance.dragCurrent.ddGroup==c){this.proc.id=setInterval(this.doScroll,d)}},onFire:function(a,b){if(b||!this.ddmInstance.dragCurrent){return}if(!this.dragEl||this.dragEl!=this.ddmInstance.dragCurrent){this.dragEl=this.ddmInstance.dragCurrent;this.refreshCache()}var c=a.getXY(),d=a.getPoint(),e=this.proc,f=this.els,g,h,i,j;for(g in f){h=f[g];i=h._region;j=h.ddScrollConfig?h.ddScrollConfig:this;if(i&&i.contains(d)&&h.isScrollable()){if(i.bottom-d.y<=j.vthresh){if(e.el!=h){this.startProc(h,"down")}return}else if(i.right-d.x<=j.hthresh){if(e.el!=h){this.startProc(h,"left")}return}else if(d.y-i.top<=j.vthresh){if(e.el!=h){this.startProc(h,"up")}return}else if(d.x-i.left<=j.hthresh){if(e.el!=h){this.startProc(h,"right")}return}}}this.clearProc()},register:function(a){if(Ext.isArray(a)){for(var b=0,c=a.length;b<c;b++){this.register(a[b])}}else{a=Ext.get(a);this.els[a.id]=a}},unregister:function(a){if(Ext.isArray(a)){for(var b=0,c=a.length;b<c;b++){this.unregister(a[b])}}else{a=Ext.get(a);delete this.els[a.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:.4,ddGroup:undefined,refreshCache:function(){var a=this.els,b;for(b in a){if(typeof a[b]=="object"){a[b]._region=a[b].getRegion()}}}});Ext.define("Ext.dd.DDTarget",{extend:"Ext.dd.DragDrop",constructor:function(a,b,c){if(a){this.initTarget(a,b,c)}},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}});Ext.define("Ext.grid.plugin.HeaderResizer",{extend:"Ext.AbstractPlugin",requires:["Ext.dd.DragTracker","Ext.util.Region"],alias:"plugin.gridheaderresizer",disabled:false,config:{dynamic:false},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1e3,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(a){this.headerCt=a;a.on("render",this.afterHeaderRender,this,{single:true})},destroy:function(){if(this.tracker){this.tracker.destroy()}},afterHeaderRender:function(){var a=this.headerCt,b=a.el;a.mon(b,"mousemove",this.onHeaderCtMouseMove,this);this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:b})},onHeaderCtMouseMove:function(a,b){var c=this,d,e,f,g,h,i;if(c.headerCt.dragging){if(c.activeHd){c.activeHd.el.dom.style.cursor="";delete c.activeHd}}else{e=a.getTarget("."+c.colHeaderCls,3,true);if(e){f=Ext.getCmp(e.id);if(f.isOnLeftEdge(a)){g=f.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(g){i=c.headerCt.up("tablepanel");h=g.up("tablepanel");if(!(h===i||i.ownerCt.isXType("tablepanel")&&i.ownerCt.view.lockedGrid===h)){g=null}}}else if(f.isOnRightEdge(a)){g=f}else{g=null}if(g){if(g.isGroupHeader){d=g.getGridColumns();g=d[d.length-1]}if(g&&!(g.fixed||g.resizable===false||c.disabled)){c.activeHd=g;f.el.dom.style.cursor=c.eResizeCursor}}else{f.el.dom.style.cursor="";delete c.activeHd}}}},onBeforeStart:function(a){var b=a.getTarget();this.dragHd=this.activeHd;if(!!this.dragHd&&!Ext.fly(b).hasCls(Ext.baseCSSPrefix+"column-header-trigger")&&!this.headerCt.dragging){this.tracker.constrainTo=this.getConstrainRegion();return true}else{this.headerCt.dragging=false;return false}},getConstrainRegion:function(){var a=this,b=a.dragHd.el,c=Ext.util.Region.getRegion(b),d;if(a.headerCt.forceFit){d=a.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])")}return c.adjust(0,a.headerCt.forceFit?d?d.getWidth()-a.minColWidth:0:a.maxColWidth-b.getWidth(),0,a.minColWidth)},onStart:function(a){var b=this,c=b.dragHd,d=c.el,e=d.getWidth(),f=b.headerCt,g=a.getTarget(),h,i,j,k,l,m,n,o,p,q,r,s;if(b.dragHd&&!Ext.fly(g).hasCls(Ext.baseCSSPrefix+"column-header-trigger")){f.dragging=true}b.origWidth=e;if(!b.dynamic){h=d.getXY();i=f.up("[scrollerOwner]");j=b.dragHd.up(":not([isGroupHeader])");k=j.up();l=i.getLhsMarker();m=i.getRhsMarker();n=m.parent();o=n.getLocalX();p=n.getLocalY();q=n.translatePoints(h);r=k.body.getHeight()+f.getHeight();s=q.top-p;l.setTop(s);m.setTop(s);l.setHeight(r);m.setHeight(r);l.setLeft(q.left-o);m.setLeft(q.left+e-o)}},onDrag:function(a){if(!this.dynamic){var b=this.tracker.getXY("point"),c=this.headerCt.up("[scrollerOwner]"),d=c.getRhsMarker(),e=d.parent(),f=e.translatePoints(b),g=e.getLocalX();d.setLeft(f.left-g)}else{this.doResize()}},onEnd:function(a){this.headerCt.dragging=false;if(this.dragHd){if(!this.dynamic){var b=this.dragHd,c=this.headerCt.up("[scrollerOwner]"),d=c.getLhsMarker(),e=c.getRhsMarker(),f=-9999;d.setLeft(f);e.setLeft(f)}this.doResize()}},doResize:function(){if(this.dragHd){var a=this.dragHd,b,c=this.tracker.getOffset("point");if(a.flex){delete a.flex}Ext.suspendLayouts();a.setWidth(this.origWidth+c[0]);if(this.headerCt.forceFit){b=a.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(b){delete b.flex;b.setWidth(b.getWidth()-c[0])}}Ext.resumeLayouts(true)}},disable:function(){this.disabled=true;if(this.tracker){this.tracker.disable()}},enable:function(){this.disabled=false;if(this.tracker){this.tracker.enable()}}});Ext.define("Ext.data.ArrayStore",{extend:"Ext.data.Store",alias:"store.array",requires:["Ext.data.proxy.Memory","Ext.data.reader.Array"],constructor:function(a){a=Ext.apply({proxy:{type:"memory",reader:"array"}},a);this.callParent([a])},loadData:function(a,b){if(this.expandData===true){var c=[],d=0,e=a.length;for(;d<e;d++){c[c.length]=[a[d]]}a=c}this.callParent([a,b])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore});Ext.define("Ext.ComponentLoader",{extend:"Ext.ElementLoader",statics:{Renderer:{Data:function(a,b,c){var d=true;try{a.getTarget().update(Ext.decode(b.responseText))}catch(e){d=false}return d},Component:function(a,b,c){var d=true,e=a.getTarget(),f=[];if(!e.isContainer){Ext.Error.raise({target:e,msg:"Components can only be loaded into a container"})}try{f=Ext.decode(b.responseText)}catch(g){d=false}if(d){e.suspendLayouts();if(c.removeAll){e.removeAll()}e.add(f);e.resumeLayouts(true)}return d}}},target:null,loadMask:false,renderer:"html",setTarget:function(a){var b=this;if(Ext.isString(a)){a=Ext.getCmp(a)}if(b.target&&b.target!=a){b.abort()}b.target=a},removeMask:function(){this.target.setLoading(false)},addMask:function(a){this.target.setLoading(a)},setOptions:function(a,b){a.removeAll=Ext.isDefined(b.removeAll)?b.removeAll:this.removeAll},getRenderer:function(a){if(Ext.isFunction(a)){return a}var b=this.statics().Renderer;switch(a){case"component":return b.Component;case"data":return b.Data;default:return Ext.ElementLoader.Renderer.Html}}});Ext.define("Ext.form.field.Checkbox",{extend:"Ext.form.field.Base",alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",requires:["Ext.XTemplate","Ext.form.CheckboxManager"],componentLayout:"field",childEls:["boxLabelEl"],fieldSubTpl:["<tpl if=\"boxLabel && boxLabelAlign == 'before'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="button" id="{id}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls}" autocomplete="off" hidefocus="true" />',"<tpl if=\"boxLabel && boxLabelAlign == 'after'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",{disableFormats:true,compiled:true}],subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:true,focusCls:"form-cb-focus",fieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:false,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",onRe:/^on$/i,initComponent:function(){this.callParent(arguments);this.getManager().add(this)},initValue:function(){var a=this,b=!!a.checked;a.originalValue=a.lastValue=b;a.setValue(b)},getElConfig:function(){var a=this;if(a.isChecked(a.rawValue,a.inputValue)){a.addCls(a.checkedCls)}return a.callParent()},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},getSubTplData:function(){var a=this;return Ext.apply(a.callParent(),{disabled:a.readOnly||a.disabled,boxLabel:a.boxLabel,boxLabelCls:a.boxLabelCls,boxLabelAlign:a.boxLabelAlign})},initEvents:function(){var a=this;a.callParent();a.mon(a.inputEl,"click",a.onBoxClick,a)},onBoxClick:function(a){var b=this;if(!b.disabled&&!b.readOnly){this.setValue(!this.checked)}},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var a=this.uncheckedValue,b=Ext.isDefined(a)?a:null;return this.checked?this.inputValue:b},isChecked:function(a,b){return a===true||a==="true"||a==="1"||a===1||((Ext.isString(a)||Ext.isNumber(a))&&b?a==b:this.onRe.test(a))},setRawValue:function(a){var b=this,c=b.inputEl,d=b.isChecked(a,b.inputValue);if(c){b[d?"addCls":"removeCls"](b.checkedCls)}b.checked=b.rawValue=d;return d},setValue:function(a){var b=this,c,d,e,f;if(Ext.isArray(a)){c=b.getManager().getByName(b.name,b.getFormId()).items;e=c.length;for(d=0;d<e;++d){f=c[d];f.setValue(Ext.Array.contains(a,f.inputValue))}}else{b.callParent(arguments)}return b},valueToRaw:function(a){return a},onChange:function(a,b){var c=this,d=c.handler;if(d){d.call(c.scope||c,c,a)}c.callParent(arguments)},resetOriginalValue:function(a){var b=this,c,d,e,f;if(!a){c=b.getManager().getByName(b.name,b.getFormId()).items;e=c.length;for(f=0;f<e;++f){d=c[f];if(d!==b){c[f].resetOriginalValue(true)}}}b.callParent()},beforeDestroy:function(){this.callParent();this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=a.readOnly}},setReadOnly:function(a){var b=this,c=b.inputEl;if(c){c.dom.disabled=!!a||b.disabled}b.callParent(arguments)},getFormId:function(){var a=this,b;if(!a.formId){b=a.up("form");if(b){a.formId=b.id}}return a.formId}});Ext.define("Ext.menu.CheckItem",{extend:"Ext.menu.Item",alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:false,checkChangeDisabled:false,afterRender:function(){var a=this;a.callParent();a.checked=!a.checked;a.setChecked(!a.checked,true);if(a.checkChangeDisabled){a.disableCheckChange()}},initComponent:function(){var a=this;a.addEvents("beforecheckchange","checkchange");a.callParent(arguments);Ext.menu.Manager.registerCheckable(a);if(a.group){if(!a.iconCls){a.iconCls=a.groupCls}if(a.initialConfig.hideOnClick!==false){a.hideOnClick=true}}},disableCheckChange:function(){var a=this,b=a.iconEl;if(b){b.addCls(a.disabledCls)}if(!(Ext.isIE9&&Ext.isStrict)&&a.rendered){a.el.repaint()}a.checkChangeDisabled=true},enableCheckChange:function(){var a=this,b=a.iconEl;if(b){b.removeCls(a.disabledCls)}a.checkChangeDisabled=false},onClick:function(a){var b=this;if(!b.disabled&&!b.checkChangeDisabled&&!(b.checked&&b.group)){b.setChecked(!b.checked)}this.callParent([a])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);this.callParent(arguments)},setChecked:function(a,b){var c=this;if(c.checked!==a&&(b||c.fireEvent("beforecheckchange",c,a)!==false)){if(c.el){c.el[a?"addCls":"removeCls"](c.checkedCls)[!a?"addCls":"removeCls"](c.uncheckedCls)}c.checked=a;Ext.menu.Manager.onCheckChange(c,a);if(!b){Ext.callback(c.checkHandler,c.scope,[c,a]);c.fireEvent("checkchange",c,a)}}}});Ext.define("Ext.layout.container.Border",{alias:"layout.border",extend:"Ext.layout.container.Container",requires:["Ext.resizer.BorderSplitter","Ext.Component","Ext.fx.Anim"],alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",padding:undefined,percentageRe:/(\d+)%/,axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:true,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:false,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,collapseDirections:{north:"top",south:"bottom",east:"right",west:"left"},manageMargins:true,panelCollapseAnimate:true,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(a,b,c){var d=this,e=d.axisProps[c],f=!e.horizontal,g=e.sizeProp,h=0,i=a.childItems,j=i.length,k,l,m,n,o,p,q,r,s,t,u;for(l=0;l<j;++l){m=i[l];o=m.target;m.layoutPos={};if(o.region){m.region=p=o.region;m.isCenter=o.isCenter;m.isHorz=o.isHorz;m.isVert=o.isVert;m.weight=o.weight||d.regionWeights[p]||0;b[o.id]=m;if(o.isCenter){k=m;n=o.flex;a.centerRegion=k;continue}if(f!==m.isVert){continue}m.reverseWeighting=p==e.borderEnd;r=o[g];s=typeof r;if(!o.collapsed){if(s=="string"&&(q=d.percentageRe.exec(r))){m.percentage=parseInt(q[1],10)}else if(o.flex){h+=m.flex=o.flex}}}}if(k){t=k.target;if(u=t.placeholderFor){if(!n&&f===u.collapsedVertical()){n=0;k.collapseAxis=c}}else if(t.collapsed&&f===t.collapsedVertical()){n=0;k.collapseAxis=c}}if(n==null){n=1}h+=n;return Ext.apply({before:f?"top":"left",totalFlex:h},e)},beginLayout:function(a){var b=this,c=b.getLayoutItems(),d=b.padding,e=typeof d,f=false,g,h,i,j,k,l,m,n,o;if(d){if(e=="string"||e=="number"){d=Ext.util.Format.parseBox(d)}}else{d=a.getEl("getTargetEl").getPaddingInfo();f=true}a.outerPad=d;a.padOnContainer=f;for(j=0,i=c.length;j<i;++j){h=c[j];l=b.getSplitterTarget(h);if(l){n=!!h.hidden;if(!l.split){if(l.isCollapsingOrExpanding){m=!!l.collapsed}}else if(n!==l.hidden){m=!l.hidden}if(m===true){h.show()}else if(m===false){h.hide()}}}b.callParent(arguments);c=a.childItems;i=c.length;k={};a.borderAxisHorz=b.beginAxis(a,k,"horz");a.borderAxisVert=b.beginAxis(a,k,"vert");for(j=0;j<i;++j){g=c[j];l=b.getSplitterTarget(g.target);if(l){o=k[l.id];if(!o){o=a.getEl(l.el,b);o.region=l.region}g.collapseTarget=l=o;g.weight=l.weight;g.reverseWeighting=l.reverseWeighting;l.splitter=g;g.isHorz=l.isHorz;g.isVert=l.isVert}}b.sortWeightedItems(c,"reverseWeighting");b.setupSplitterNeighbors(c)},calculate:function(a){var b=this,c=b.getContainerSize(a),d=a.childItems,e=d.length,f=a.borderAxisHorz,g=a.borderAxisVert,h=a.outerPad,i=a.padOnContainer,j,k,l,m,n,o;f.begin=h.left;g.begin=h.top;n=f.end=f.flexSpace=c.width+(i?h.left:-h.right);o=g.end=g.flexSpace=c.height+(i?h.top:-h.bottom);for(j=0;j<e;++j){k=d[j];l=k.getMarginInfo();if(k.isHorz||k.isCenter){f.addUnflexed(l.width);n-=l.width}if(k.isVert||k.isCenter){g.addUnflexed(l.height);o-=l.height}if(!k.flex&&!k.percentage){if(k.isHorz||k.isCenter&&k.collapseAxis==="horz"){m=k.getProp("width");f.addUnflexed(m);if(k.collapseTarget){n-=m}}else if(k.isVert||k.isCenter&&k.collapseAxis==="vert"){m=k.getProp("height");g.addUnflexed(m);if(k.collapseTarget){o-=m}}}}for(j=0;j<e;++j){k=d[j];l=k.getMarginInfo();if(k.percentage){if(k.isHorz){m=Math.ceil(n*k.percentage/100);m=k.setWidth(m);f.addUnflexed(m)}else if(k.isVert){m=Math.ceil(o*k.percentage/100);m=k.setHeight(m);g.addUnflexed(m)}}}for(j=0;j<e;++j){k=d[j];if(!k.isCenter){b.calculateChildAxis(k,f);b.calculateChildAxis(k,g)}}if(b.finishAxis(a,g)+b.finishAxis(a,f)<2){b.done=false}else{b.finishPositions(d)}},calculateChildAxis:function(a,b){var c=a.collapseTarget,d="set"+b.sizePropCap,e=b.sizeProp,f=a.getMarginInfo()[e],g,h,i,j,k;if(c){g=c.region}else{g=a.region;i=a.flex}h=g==b.borderBegin;if(!h&&g!=b.borderEnd){a[d](b.end-b.begin-f);j=b.begin}else{if(i){k=Math.ceil(b.flexSpace*(i/b.totalFlex));k=a[d](k)}else if(a.percentage){k=a.peek(e)}else{k=a.getProp(e)}k+=f;if(h){j=b.begin;b.begin+=k}else{b.end=j=b.end-k}}a.layoutPos[b.posProp]=j},finishAxis:function(a,b){var c=b.end-b.begin,d=a.centerRegion;if(d){d["set"+b.sizePropCap](c-d.getMarginInfo()[b.sizeProp]);d.layoutPos[b.posProp]=b.begin}return Ext.isNumber(c)?1:0},finishPositions:function(a){var b=a.length,c,d;for(c=0;c<b;++c){d=a[c];d.setProp("x",d.layoutPos.x+d.marginInfo.left);d.setProp("y",d.layoutPos.y+d.marginInfo.top)}},getPlaceholder:function(a){return a.getPlaceholder&&a.getPlaceholder()},getSplitterTarget:function(a){var b=a.collapseTarget;if(b&&b.collapsed){return b.placeholder||b}return b},isItemBoxParent:function(a){return true},isItemShrinkWrap:function(a){return true},insertSplitter:function(a,b,c){var d=a.region,e={xtype:"bordersplitter",collapseTarget:a,id:a.id+"-splitter",hidden:c,canResize:a.splitterResize!==false},f=b+(d=="south"||d=="east"?0:1);if(a.isHorz){e.height=null}else{e.width=null}if(a.collapseMode=="mini"){e.collapsedCls=a.collapsedCls}a.splitter=this.owner.add(f,e)},onAdd:function(a,b){var c=this,d=a.placeholderFor,e=a.region,f,g;c.callParent(arguments);if(e){Ext.apply(a,c.regionFlags[e]);if(e=="center"){if(c.centerRegion){Ext.Error.raise("Cannot have multiple center regions in a BorderLayout.")}c.centerRegion=a}else{a.collapseDirection=this.collapseDirections[e];f=a.split;g=!!a.hidden;if((a.isHorz||a.isVert)&&(f||a.collapseMode=="mini")){c.insertSplitter(a,b,g||!f)}}if(!a.hasOwnProperty("collapseMode")){a.collapseMode=c.panelCollapseMode}if(!a.hasOwnProperty("animCollapse")){if(a.collapseMode!="placeholder"){a.animCollapse=false}else{a.animCollapse=c.panelCollapseAnimate}}}else if(d){Ext.apply(a,c.regionFlags[d.region]);a.region=d.region;a.weight=d.weight}},onDestroy:function(){this.centerRegion=null;this.callParent()},onRemove:function(a){var b=this,c=a.region,d=a.splitter;if(c){if(a.isCenter){b.centerRegion=null}delete a.isCenter;delete a.isHorz;delete a.isVert;if(d){b.owner.doRemove(d,true);delete a.splitter}}b.callParent(arguments)},regionFlags:{center:{isCenter:true,isHorz:false,isVert:false},north:{isCenter:false,isHorz:false,isVert:true},south:{isCenter:false,isHorz:false,isVert:true},west:{isCenter:false,isHorz:true,isVert:false},east:{isCenter:false,isHorz:true,isVert:false}},setupSplitterNeighbors:function(a){var b={},c=a.length,d=this.touchedRegions,e,f,g,h,i,j,k,l,m;for(e=0;e<c;++e){j=a[e].target;k=j.region;if(j.isCenter){g=j}else if(k){m=d[k];for(f=0,h=m.length;f<h;++f){i=b[m[f]];if(i){i.neighbors.push(j)}}if(j.placeholderFor){l=j.placeholderFor.splitter}else{l=j.splitter}if(l){l.neighbors=[]}b[k]=l}}if(g){m=d.center;for(f=0,h=m.length;f<h;++f){i=b[m[f]];if(i){i.neighbors.push(g)}}}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{setsWidth:1,setsHeight:0},horz:{setsWidth:0,setsHeight:1},flexAll:{setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a){var b=this,c=this.sizePolicies,d,e,f,g;if(a.isCenter){g=a.placeholderFor;if(g){if(g.collapsedVertical()){return c.vert}return c.horz}if(a.collapsed){if(a.collapsedVertical()){return c.vert}return c.horz}return c.flexAll}d=a.collapseTarget;if(d){return d.isVert?c.vert:c.horz}if(a.region){if(a.isVert){e=a.height;f=c.vert}else{e=a.width;f=c.horz}if(a.flex||typeof e=="string"&&b.percentageRe.test(e)){return c.flexAll}return f}return b.autoSizePolicy}},function(){var a={addUnflexed:function(a){this.flexSpace=Math.max(this.flexSpace-a,0)}},b=this.prototype.axisProps;Ext.apply(b.horz,a);Ext.apply(b.vert,a)});Ext.define("Ext.menu.KeyNav",{extend:"Ext.util.KeyNav",requires:["Ext.FocusManager"],constructor:function(a){var b=this;b.menu=a;b.callParent([a.el,{down:b.down,enter:b.enter,esc:b.escape,left:b.left,right:b.right,space:b.enter,tab:b.tab,up:b.up}])},down:function(a){var b=this,c=b.menu.focusedItem;if(c&&a.getKey()==Ext.EventObject.DOWN&&b.isWhitelisted(c)){return true}b.focusNextItem(1)},enter:function(a){var b=this.menu,c=b.focusedItem;if(b.activeItem){b.onClick(a)}else if(c&&c.isFormField){return true}},escape:function(a){Ext.menu.Manager.hideAll()},focusNextItem:function(a){var b=this.menu,c=b.items,d=b.focusedItem,e=d?c.indexOf(d):-1,f=e+a,g;while(f!=e){if(f<0){f=c.length-1}else if(f>=c.length){f=0}g=c.getAt(f);if(b.canActivateItem(g)){b.setActiveItem(g);break}f+=a}},isWhitelisted:function(a){return Ext.FocusManager.isWhitelisted(a)},left:function(a){var b=this.menu,c=b.focusedItem,d=b.activeItem;if(c&&this.isWhitelisted(c)){return true}b.hide();if(b.parentMenu){b.parentMenu.focus()}},right:function(a){var b=this.menu,c=b.focusedItem,d=b.activeItem,e;if(c&&this.isWhitelisted(c)){return true}if(d){e=b.activeItem.menu;if(e){d.expandMenu(0);Ext.defer(function(){e.setActiveItem(e.items.getAt(0))},25)}}},tab:function(a){var b=this;if(a.shiftKey){b.up(a)}else{b.down(a)}},up:function(a){var b=this,c=b.menu.focusedItem;if(c&&a.getKey()==Ext.EventObject.UP&&b.isWhitelisted(c)){return true}b.focusNextItem(-1)}});Ext.define("Ext.menu.Menu",{extend:"Ext.panel.Panel",alias:"widget.menu",requires:["Ext.layout.container.Fit","Ext.layout.container.VBox","Ext.menu.CheckItem","Ext.menu.Item","Ext.menu.KeyNav","Ext.menu.Manager","Ext.menu.Separator"],enableKeyNav:true,allowOtherMenus:false,ariaRole:"menu",defaultAlign:"tl-bl?",floating:true,constrain:true,hidden:true,hideMode:"visibility",ignoreParentClicks:false,isMenu:true,showSeparator:true,minWidth:undefined,defaultMinWidth:120,initComponent:function(){var a=this,b=Ext.baseCSSPrefix,c=[b+"menu"],d=a.bodyCls?[a.bodyCls]:[],e=a.floating!==false;a.addEvents("click","mouseenter","mouseleave","mouseover");Ext.menu.Manager.register(a);if(a.plain){c.push(b+"menu-plain")}a.cls=c.join(" ");d.unshift(b+"menu-body");a.bodyCls=d.join(" ");if(!a.layout){a.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"}}if(e&&a.minWidth===undefined){a.minWidth=a.defaultMinWidth}if(!e&&a.initialConfig.hidden!==true){a.hidden=false}a.callParent(arguments);a.on("beforeshow",function(){var b=!!a.items.length;if(b&&a.rendered){a.el.setStyle("visibility",null)}return b})},beforeRender:function(){this.callParent(arguments);if(!this.getSizeModel().width.shrinkWrap){this.layout.align="stretch"}},onBoxReady:function(){var a=this,b;a.callParent(arguments);if(a.showSeparator){b={cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"};if(!Ext.isStrict&&Ext.isIE||Ext.isIE6){b.style="height:"+a.el.getHeight()+"px"}a.iconSepEl=a.layout.getElementTarget().insertFirst(b)}a.mon(a.el,{click:a.onClick,mouseover:a.onMouseOver,scope:a});a.mouseMonitor=a.el.monitorMouseLeave(100,a.onMouseLeave,a);if(a.enableKeyNav){a.keyNav=new Ext.menu.KeyNav(a)}},getBubbleTarget:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(a){return a&&!a.isDisabled()&&a.isVisible()&&(a.canActivate||a.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(a){var b=this,c=b.activeItem,d=b.focusedItem;if(c){c.deactivate();if(!c.activated){delete b.activeItem}}if(d&&a){d.blur();delete b.focusedItem}},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(true);this.callParent(arguments)},getItemFromEvent:function(a){return this.getChildByElement(a.getTarget())},lookupComponent:function(a){var b=this;if(typeof a=="string"){a=b.lookupItemFromString(a)}else if(Ext.isObject(a)){a=b.lookupItemFromObject(a)}a.minWidth=a.minWidth||b.minWidth;return a},lookupItemFromObject:function(a){var b=this,c=Ext.baseCSSPrefix,d;if(!a.isComponent){if(!a.xtype){a=Ext.create("Ext.menu."+(Ext.isBoolean(a.checked)?"Check":"")+"Item",a)}else{a=Ext.ComponentManager.create(a,a.xtype)}}if(a.isMenuItem){a.parentMenu=b}if(!a.isMenuItem&&!a.dock){d=[c+"menu-item",c+"menu-item-cmp"];if(!b.plain&&(a.indent===true||a.iconCls==="no-icon")){d.push(c+"menu-item-indent")}if(a.rendered){a.el.addCls(d)}else{a.cls=(a.cls?a.cls:"")+" "+d.join(" ")}}return a},lookupItemFromString:function(a){return a=="separator"||a=="-"?new Ext.menu.Separator:new Ext.menu.Item({canActivate:false,hideOnClick:false,plain:true,text:a})},onClick:function(a){var b=this,c;if(b.disabled){a.stopEvent();return}c=a.type==="click"?b.getItemFromEvent(a):b.activeItem;if(c&&c.isMenuItem){if(!c.menu||!b.ignoreParentClicks){c.onClick(a)}else{a.stopEvent()}}if(!c||c.disabled){c=undefined}b.fireEvent("click",b,c,a)},onDestroy:function(){var a=this;Ext.menu.Manager.unregister(a);delete a.parentMenu;delete a.ownerButton;if(a.rendered){a.el.un(a.mouseMonitor);Ext.destroy(a.keyNav);delete a.keyNav}a.callParent(arguments)},onMouseLeave:function(a){var b=this;b.deactivateActiveItem();if(b.disabled){return}b.fireEvent("mouseleave",b,a)},onMouseOver:function(a){var b=this,c=a.getRelatedTarget(),d=!b.el.contains(c),e=b.getItemFromEvent(a),f=b.parentMenu,g=b.parentItem;if(d&&f){f.setActiveItem(g);g.cancelDeferHide();f.mouseMonitor.mouseenter()}if(b.disabled){return}if(e&&!e.activated){b.setActiveItem(e);if(e.activated&&e.expandMenu){e.expandMenu()}}if(d){b.fireEvent("mouseenter",b,a)}b.fireEvent("mouseover",b,e,a)},setActiveItem:function(a){var b=this;if(a&&a!=b.activeItem){b.deactivateActiveItem();if(b.canActivateItem(a)){if(a.activate){a.activate();if(a.activated){b.activeItem=a;b.focusedItem=a;b.focus()}}else{a.focus();b.focusedItem=a}}a.el.scrollIntoView(b.layout.getRenderTarget())}},showBy:function(a,b,c){var d=this;if(d.floating&&a){d.show();d.setPagePosition(d.el.getAlignToXY(a.el||a,b||d.defaultAlign,c));d.setVerticalPosition()}return d},show:function(){var a=this,b,c,d,e=a.maxHeight;if(!a.rendered){a.doAutoRender()}if(a.floating){b=Ext.fly(a.el.getScopeParent());c=b.getViewSize().height;a.maxHeight=Math.min(e||c,c)}d=a.callParent(arguments);a.maxHeight=e;return d},afterComponentLayout:function(a,b,c,d){var e=this;e.callParent(arguments);if(e.showSeparator){e.iconSepEl.setHeight(e.componentLayout.lastComponentSize.contentHeight)}},setVerticalPosition:function(){var a=this,b,c=a.el.getY(),d=c,e=a.getHeight(),f=Ext.Element.getViewportHeight().height,g=Ext.fly(a.el.getScopeParent()),h=g.getViewSize().height,i=c-g.getScroll().top;g=null;if(a.floating){b=a.maxHeight?a.maxHeight:h-i;if(e>h){d=c-i}else if(b<e){d=c-(e-b)}else if(c+e>f){d=f-e}}a.el.setY(d)}});Ext.define("Ext.draw.Sprite",{mixins:{observable:"Ext.util.Observable",animate:"Ext.util.Animate"},requires:["Ext.draw.SpriteDD"],dirty:false,dirtyHidden:false,dirtyTransform:false,dirtyPath:true,dirtyFont:true,zIndexDirty:true,isSprite:true,zIndex:0,fontProperties:["font","font-size","font-weight","font-style","font-family","text-anchor","text"],pathProperties:["x","y","d","path","height","width","radius","r","rx","ry","cx","cy"],constructor:function(a){var b=this;a=Ext.merge({},a||{});b.id=Ext.id(null,"ext-sprite-");b.transformations=[];Ext.copyTo(this,a,"surface,group,type,draggable");b.bbox={};b.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}};delete a.surface;delete a.group;delete a.type;delete a.draggable;b.setAttributes(a);b.addEvents("beforedestroy","destroy","render","mousedown","mouseup","mouseover","mouseout","mousemove","click");b.mixins.observable.constructor.apply(this,arguments)},initDraggable:function(){var a=this;a.draggable=true;if(!a.el){a.surface.createSpriteElement(a)}a.dd=new Ext.draw.SpriteDD(a,Ext.isBoolean(a.draggable)?null:a.draggable);a.on("beforedestroy",a.dd.destroy,a.dd)},setAttributes:function(a,b){var c=this,d=c.fontProperties,e=d.length,f=c.pathProperties,g=f.length,h=!!c.surface,i=h&&c.surface.customAttributes||{},j=c.attr,k=false,l,m,n,o,p,q,r,s;a=Ext.apply({},a);for(l in i){if(a.hasOwnProperty(l)&&typeof i[l]=="function"){Ext.apply(a,i[l].apply(c,[].concat(a[l])))}}if(!!a.hidden!==!!j.hidden){c.dirtyHidden=true}for(m=0;m<g;m++){l=f[m];if(l in a&&a[l]!==j[l]){c.dirtyPath=true;k=true;break}}if("zIndex"in a){c.zIndexDirty=true}if("text"in a){c.dirtyFont=true;k=true}for(m=0;m<e;m++){l=d[m];if(l in a&&a[l]!==j[l]){c.dirtyFont=true;k=true;break}}n=a.translation||a.translate;delete a.translate;delete a.translation;o=j.translation;if(n){if("x"in n&&n.x!==o.x||"y"in n&&n.y!==o.y){c.dirtyTransform=true;o.x=n.x;o.y=n.y}}p=a.rotation||a.rotate;q=j.rotation;delete a.rotate;delete a.rotation;if(p){if("x"in p&&p.x!==q.x||"y"in p&&p.y!==q.y||"degrees"in p&&p.degrees!==q.degrees){c.dirtyTransform=true;q.x=p.x;q.y=p.y;q.degrees=p.degrees}}r=a.scaling||a.scale;s=j.scaling;delete a.scale;delete a.scaling;if(r){if("x"in r&&r.x!==s.x||"y"in r&&r.y!==s.y||"cx"in r&&r.cx!==s.cx||"cy"in r&&r.cy!==s.cy){c.dirtyTransform=true;s.x=r.x;s.y=r.y;s.cx=r.cx;s.cy=r.cy}}if(!c.dirtyTransform&&k){if(j.scaling.x===null||j.scaling.y===null||j.rotation.y===null||j.rotation.y===null){c.dirtyTransform=true}}Ext.apply(j,a);c.dirty=true;if(b===true&&h){c.redraw()}return this},getBBox:function(){return this.surface.getBBox(this)},setText:function(a){return this.surface.setText(this,a)},hide:function(a){this.setAttributes({hidden:true},a);return this},show:function(a){this.setAttributes({hidden:false},a);return this},remove:function(){if(this.surface){this.surface.remove(this);return true}return false},onRemove:function(){this.surface.onRemove(this)},destroy:function(){var a=this;if(a.fireEvent("beforedestroy",a)!==false){a.remove();a.surface.onDestroy(a);a.clearListeners();a.fireEvent("destroy")}},redraw:function(){this.surface.renderItem(this);return this},setStyle:function(){this.el.setStyle.apply(this.el,arguments);return this},addCls:function(a){this.surface.addCls(this,a);return this},removeCls:function(a){this.surface.removeCls(this,a);return this}});Ext.define("Ext.draw.engine.Svg",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Svg",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http:/"+"/www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},parsers:{},minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSvgElement:function(a,b){var c=this.domRef.createElementNS("http:/"+"/www.w3.org/2000/svg",a),d;if(b){for(d in b){c.setAttribute(d,String(b[d]))}}return c},createSpriteElement:function(a){var b=this.createSvgElement(a.type);b.id=a.id;if(b.style){b.style.webkitTapHighlightColor="rgba(0,0,0,0)"}a.el=Ext.get(b);this.applyZIndex(a);a.matrix=new Ext.draw.Matrix;a.bbox={plain:0,transform:0};this.applyAttrs(a);this.applyTransformations(a);a.fireEvent("render",a);return b},getBBoxText:function(a){var b={},c,d,e,f,g,h;if(a&&a.el){h=a.el.dom;try{b=h.getBBox();return b}catch(i){}b={x:b.x,y:Infinity,width:0,height:0};g=h.getNumberOfChars();for(f=0;f<g;f++){c=h.getExtentOfChar(f);b.y=Math.min(c.y,b.y);d=c.y+c.height-b.y;b.height=Math.max(b.height,d);e=c.x+c.width-b.x;b.width=Math.max(b.width,e)}return b}},hide:function(){Ext.get(this.el).hide()},show:function(){Ext.get(this.el).show()},hidePrim:function(a){this.addCls(a,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){this.removeCls(a,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSvgElement("defs"))},transform:function(a,b){var c=this,d=new Ext.draw.Matrix,e=a.transformations,f=e.length,g=0,h,i;for(;g<f;g++){h=e[g];i=h.type;if(i=="translate"){d.translate(h.x,h.y)}else if(i=="rotate"){d.rotate(h.degrees,h.x,h.y)}else if(i=="scale"){d.scale(h.x,h.y,h.centerX,h.centerY)}}a.matrix=d;if(!b){a.el.set({transform:d.toSvg()})}},setSize:function(a,b){var c=this,d=c.el;a=+a||c.width;b=+b||c.height;c.width=a;c.height=b;d.setSize(a,b);d.set({width:a,height:b});c.callParent([a,b])},getRegion:function(){var a=this.el.getXY(),b=this.bgRect.getXY(),c=Math.max,d=c(a[0],b[0]),e=c(a[1],b[1]);return{left:d,top:e,right:d+this.width,bottom:e+this.height}},onRemove:function(a){if(a.el){a.el.destroy();delete a.el}this.callParent(arguments)},setViewBox:function(a,b,c,d){if(isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)){this.callParent(arguments);this.el.dom.setAttribute("viewBox",[a,b,c,d].join(" "))}},render:function(a){var b=this,c,d,e,f,g,h;if(!b.el){c=b.width||0;d=b.height||0;e=b.createSvgElement("svg",{xmlns:"http:/"+"/www.w3.org/2000/svg",version:1.1,width:c,height:d});f=b.getDefs();g=b.createSvgElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0});if(Ext.isSafari3){h=b.createSvgElement("rect",{x:-10,y:-10,width:"110%",height:"110%",fill:"none",stroke:"#000"})}e.appendChild(f);if(Ext.isSafari3){e.appendChild(h)}e.appendChild(g);a.appendChild(e);b.el=Ext.get(e);b.bgRect=Ext.get(g);if(Ext.isSafari3){b.webkitRect=Ext.get(h);b.webkitRect.hide()}b.el.on({scope:b,mouseup:b.onMouseUp,mousedown:b.onMouseDown,mouseover:b.onMouseOver,mouseout:b.onMouseOut,mousemove:b.onMouseMove,mouseenter:b.onMouseEnter,mouseleave:b.onMouseLeave,click:b.onClick,dblclick:b.onDblClick})}b.renderAll()},onMouseEnter:function(a){if(this.el.parent().getRegion().contains(a.getPoint())){this.fireEvent("mouseenter",a)}},onMouseLeave:function(a){if(!this.el.parent().getRegion().contains(a.getPoint())){this.fireEvent("mouseleave",a)}},processEvent:function(a,b){var c=b.getTarget(),d=this.surface,e;this.fireEvent(a,b);if(c.nodeName=="tspan"&&c.parentNode){c=c.parentNode}e=this.items.get(c.id);if(e){e.fireEvent(a,e,b)}},tuneText:function(a,b){var c=a.el.dom,d=[],e,f,g,h,i,j,k,l;if(b.hasOwnProperty("text")){g=a.tspans&&Ext.Array.map(a.tspans,function(a){return a.textContent}).join("");if(!a.tspans||b.text!=g){d=this.setText(a,b.text);a.tspans=d}else{d=a.tspans||[]}}if(d.length){e=this.getBBoxText(a).height;l=a.el.dom.getAttribute("x");for(h=0,i=d.length;h<i;h++){k=Ext.isFF3_0||Ext.isFF3_5?2:4;d[h].setAttribute("x",l);d[h].setAttribute("dy",h?e*1.2:e/k)}a.dirty=true}},setText:function(a,b){var c=this,d=a.el.dom,e=[],f,g,h,i,j,k;while(d.firstChild){d.removeChild(d.firstChild)}k=String(b).split("\n");for(i=0,j=k.length;i<j;i++){h=k[i];if(h){g=c.createSvgElement("tspan");g.appendChild(document.createTextNode(Ext.htmlDecode(h)));d.appendChild(g);e[i]=g}}return e},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(a){if(!this.el){return}if(!a.el){this.createSpriteElement(a)}if(a.zIndexDirty){this.applyZIndex(a)}if(a.dirty){this.applyAttrs(a);if(a.dirtyTransform){this.applyTransformations(a)}}},redraw:function(a){a.dirty=a.zIndexDirty=true;this.renderItem(a)},applyAttrs:function(a){var b=this,c=a.el,d=a.group,e=a.attr,f=b.parsers,g=b.gradientsMap||{},h=Ext.isSafari&&!Ext.isStrict,i,j,k,l,m,n,o,p,q;if(d){i=[].concat(d);k=i.length;for(j=0;j<k;j++){d=i[j];b.getGroup(d).add(a)}delete a.group}l=b.scrubAttrs(a)||{};a.bbox.plain=0;a.bbox.transform=0;if(a.type=="circle"||a.type=="ellipse"){l.cx=l.cx||l.x;l.cy=l.cy||l.y}else if(a.type=="rect"){l.rx=l.ry=l.r}else if(a.type=="path"&&l.d){l.d=Ext.draw.Draw.pathToString(Ext.draw.Draw.pathToAbsolute(l.d))}a.dirtyPath=false;if(l["clip-rect"]){b.setClip(a,l);delete l["clip-rect"]}if(a.type=="text"&&l.font&&a.dirtyFont){c.set({style:"font: "+l.font})}if(a.type=="image"){c.dom.setAttributeNS(b.xlink,"href",l.src)}Ext.applyIf(l,b.minDefaults[a.type]);if(a.dirtyHidden){e.hidden?b.hidePrim(a):b.showPrim(a);a.dirtyHidden=false}for(n in l){if(l.hasOwnProperty(n)&&l[n]!=null){if(h&&"color|stroke|fill".indexOf(n)>-1&&l[n]in g){l[n]=g[l[n]]}if(n=="hidden"&&a.type=="text"){continue}if(n in f){c.dom.setAttribute(n,f[n](l[n],a,b))}else{c.dom.setAttribute(n,l[n])}}}if(a.type=="text"){b.tuneText(a,l)}a.dirtyFont=false;o=e.style;if(o){c.setStyle(o)}a.dirty=false;if(Ext.isSafari3){b.webkitRect.show();setTimeout(function(){b.webkitRect.hide()})}},setClip:function(a,b){var c=this,d=b["clip-rect"],e,f;if(d){if(a.clip){a.clip.parentNode.parentNode.removeChild(a.clip.parentNode)}e=c.createSvgElement("clipPath");f=c.createSvgElement("rect");e.id=Ext.id(null,"ext-clip-");f.setAttribute("x",d.x);f.setAttribute("y",d.y);f.setAttribute("width",d.width);f.setAttribute("height",d.height);e.appendChild(f);c.getDefs().appendChild(e);a.el.dom.setAttribute("clip-path","url(#"+e.id+")");a.clip=f}},applyZIndex:function(a){var b=this,c=b.items,d=c.indexOf(a),e=a.el,f;if(b.el.dom.childNodes[d+2]!==e.dom){if(d>0){do{f=c.getAt(--d).el}while(!f&&d>0)}e.insertAfter(f||b.bgRect)}a.zIndexDirty=false},createItem:function(a){var b=new Ext.draw.Sprite(a);b.surface=this;return b},addGradient:function(a){a=Ext.draw.Draw.parseGradient(a);var b=this,c=a.stops.length,d=a.vector,e=Ext.isSafari&&!Ext.isStrict,f,g,h,i,j;j=b.gradientsMap||{};if(!e){if(a.type=="linear"){f=b.createSvgElement("linearGradient");f.setAttribute("x1",d[0]);f.setAttribute("y1",d[1]);f.setAttribute("x2",d[2]);f.setAttribute("y2",d[3])}else{f=b.createSvgElement("radialGradient");f.setAttribute("cx",a.centerX);f.setAttribute("cy",a.centerY);f.setAttribute("r",a.radius);if(Ext.isNumber(a.focalX)&&Ext.isNumber(a.focalY)){f.setAttribute("fx",a.focalX);f.setAttribute("fy",a.focalY)}}f.id=a.id;b.getDefs().appendChild(f);for(i=0;i<c;i++){g=a.stops[i];h=b.createSvgElement("stop");h.setAttribute("offset",g.offset+"%");h.setAttribute("stop-color",g.color);h.setAttribute("stop-opacity",g.opacity);f.appendChild(h)}}else{j["url(#"+a.id+")"]=a.stops[0].color}b.gradientsMap=j},hasCls:function(a,b){return b&&(" "+(a.el.dom.getAttribute("class")||"")+" ").indexOf(" "+b+" ")!=-1},addCls:function(a,b){var c=a.el,d,e,f,g=[],h=c.getAttribute("class")||"";if(!Ext.isArray(b)){if(typeof b=="string"&&!this.hasCls(a,b)){c.set({"class":h+" "+b})}}else{for(d=0,e=b.length;d<e;d++){f=b[d];if(typeof f=="string"&&(" "+h+" ").indexOf(" "+f+" ")==-1){g.push(f)}}if(g.length){c.set({"class":" "+g.join(" ")})}}},removeCls:function(a,b){var c=this,d=a.el,e=d.getAttribute("class")||"",f,g,h,i,j;if(!Ext.isArray(b)){b=[b]}if(e){j=e.replace(c.trimRe," ").split(c.spacesRe);for(f=0,h=b.length;f<h;f++){i=b[f];if(typeof i=="string"){i=i.replace(c.trimRe,"");g=Ext.Array.indexOf(j,i);if(g!=-1){Ext.Array.erase(j,g,1)}}}d.set({"class":j.join(" ")})}},destroy:function(){var a=this;a.callParent();if(a.el){a.el.remove()}if(a._defs){Ext.get(a._defs).destroy()}if(a.bgRect){Ext.get(a.bgRect).destroy()}if(a.webkitRect){Ext.get(a.webkitRect).destroy()}delete a.el}});Ext.define("Ext.draw.engine.Vml",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Color","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Vml",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s\-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVmlPathRe:/[ahqstv]/ig,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,baseVmlCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1e3,coordorigin:"0 0",zIndexShift:0,orderSpritesByZIndex:false,path2vml:function(a){var b=this,c=b.NonVmlPathRe,d=b.map,e=b.valRe,f=b.zoom,g=b.bitesRe,h=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw),i,j,k,l,m,n,o,p;if(String(a).match(c)){h=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw)}else if(!String(a).match(b.partialPathRe)){i=String(a).replace(g,function(a,b,c){var g=[],h=b.toLowerCase()=="m",i=d[b];c.replace(e,function(a){if(h&&g.length===2){i+=g+d[b=="m"?"l":"L"];g=[]}g.push(Math.round(a*f))});return i+g});return i}j=h(a);i=[];for(m=0,n=j.length;m<n;m++){k=j[m];l=j[m][0].toLowerCase();if(l=="z"){l="x"}for(o=1,p=k.length;o<p;o++){l+=Math.round(k[o]*b.zoom)+(o!=p-1?",":"")}i.push(l)}return i.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:'10px "Arial"',fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(a){this.fireEvent("mouseenter",a)},onMouseLeave:function(a){this.fireEvent("mouseleave",a)},processEvent:function(a,b){var c=b.getTarget(),d=this.surface,e;this.fireEvent(a,b);e=this.items.get(c.id);if(e){e.fireEvent(a,e,b)}},createSpriteElement:function(a){var b=this,c=a.attr,d=a.type,e=b.zoom,f=a.vml||(a.vml={}),g=Math.round,h=d==="image"?b.createNode("image"):b.createNode("shape"),i,j,k;h.coordsize=e+" "+e;h.coordorigin=c.coordorigin||"0 0";Ext.get(h).addCls(b.spriteCls);if(d=="text"){f.path=i=b.createNode("path");i.textpathok=true;f.textpath=k=b.createNode("textpath");k.on=true;h.appendChild(k);h.appendChild(i)}h.id=a.id;a.el=Ext.get(h);a.el.setStyle("zIndex",-b.zIndexShift);b.el.appendChild(h);if(d!=="image"){j=b.createNode("skew");j.on=true;h.appendChild(j);a.skew=j}a.matrix=new Ext.draw.Matrix;a.bbox={plain:null,transform:null};this.applyAttrs(a);this.applyTransformations(a);a.fireEvent("render",a);return a.el},getBBoxText:function(a){var b=a.vml;return{x:b.X+(b.bbx||0)-b.W/2,y:b.Y-b.H/2,width:b.W,height:b.H}},applyAttrs:function(a){var b=this,c=a.vml,d=a.group,e=a.attr,f=a.el,g=f.dom,h,i,j,k,l,m,n,o,p,q,r,s;if(d){j=[].concat(d);l=j.length;for(k=0;k<l;k++){d=j[k];b.getGroup(d).add(a)}delete a.group}m=b.scrubAttrs(a)||{};if(a.zIndexDirty){b.setZIndex(a)}Ext.applyIf(m,b.minDefaults[a.type]);if(a.type=="image"){Ext.apply(a.attr,{x:m.x,y:m.y,width:m.width,height:m.height});f.setStyle({width:m.width+"px",height:m.height+"px"});g.src=m.src}if(g.href){g.href=m.href}if(g.title){g.title=m.title}if(g.target){g.target=m.target}if(g.cursor){g.cursor=m.cursor}if(a.dirtyHidden){m.hidden?b.hidePrim(a):b.showPrim(a);a.dirtyHidden=false}if(a.dirtyPath){if(a.type=="circle"||a.type=="ellipse"){p=m.x;q=m.y;r=m.rx||m.r||0;s=m.ry||m.r||0;g.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((p-r)*b.zoom),Math.round((q-s)*b.zoom),Math.round((p+r)*b.zoom),Math.round((q+s)*b.zoom),Math.round(p*b.zoom));a.dirtyPath=false}else if(a.type!=="text"&&a.type!=="image"){a.attr.path=m.path=b.setPaths(a,m)||m.path;g.path=b.path2vml(m.path);a.dirtyPath=false}}if("clip-rect"in m){b.setClip(a,m)}if(a.type=="text"){b.setTextAttributes(a,m)}if(m.opacity||m["stroke-opacity"]||m.fill){b.setFill(a,m)}if(m.stroke||m["stroke-opacity"]||m.fill){b.setStroke(a,m)}h=e.style;if(h){f.setStyle(h)}a.dirty=false},setZIndex:function(a){var b=this,c=a.attr.zIndex,d=b.zIndexShift,e,f,g,h;if(c<d){e=b.items.items;f=e.length;for(h=0;h<f;h++){if((c=e[h].attr.zIndex)&&c<d){d=c}}b.zIndexShift=d;for(h=0;h<f;h++){g=e[h];if(g.el){g.el.setStyle("zIndex",g.attr.zIndex-d)}g.zIndexDirty=false}}else if(a.el){a.el.setStyle("zIndex",c-d);a.zIndexDirty=false}},setPaths:function(a,b){var c=a.attr,d=a.attr["stroke-width"]||1;a.bbox.plain=null;a.bbox.transform=null;if(a.type=="circle"){c.rx=c.ry=b.r;return Ext.draw.Draw.ellipsePath(a)}else if(a.type=="ellipse"){c.rx=b.rx;c.ry=b.ry;return Ext.draw.Draw.ellipsePath(a)}else if(a.type=="rect"){c.rx=c.ry=b.r;return Ext.draw.Draw.rectPath(a)}else if(a.type=="path"&&c.path){return Ext.draw.Draw.pathToAbsolute(c.path)}return false},setFill:function(a,b){var c=this,d=a.el.dom,e=d.fill,f=false,g,h,i,j,k;if(!e){e=d.fill=c.createNode("fill");f=true}if(Ext.isArray(b.fill)){b.fill=b.fill[0]}if(b.fill=="none"){e.on=false}else{if(typeof b.opacity=="number"){e.opacity=b.opacity}if(typeof b["fill-opacity"]=="number"){e.opacity=b["fill-opacity"]}e.on=true;if(typeof b.fill=="string"){i=b.fill.match(c.fillUrlRe);if(i){i=i[1];if(i.charAt(0)=="#"){h=c.gradientsColl.getByKey(i.substring(1))}if(h){j=b.rotation;k=-(h.angle+270+(j?j.degrees:0))%360;if(k===0){k=180}e.angle=k;e.type="gradient";e.method="sigma";if(e.colors){e.colors.value=h.colors}else{e.colors=h.colors}}else{e.src=i;e.type="tile"}}else{e.color=Ext.draw.Color.toHex(b.fill);e.src="";e.type="solid"}}}if(f){d.appendChild(e)}},setStroke:function(a,b){var c=this,d=a.el.dom,e=a.strokeEl,f=false,g,h;if(!e){e=a.strokeEl=c.createNode("stroke");f=true}if(Ext.isArray(b.stroke)){b.stroke=b.stroke[0]}if(!b.stroke||b.stroke=="none"||b.stroke==0||b["stroke-width"]==0){e.on=false}else{e.on=true;if(b.stroke&&!b.stroke.match(c.fillUrlRe)){e.color=Ext.draw.Color.toHex(b.stroke)}e.dashstyle=b["stroke-dasharray"]?"dash":"solid";e.joinstyle=b["stroke-linejoin"];e.endcap=b["stroke-linecap"]||"round";e.miterlimit=b["stroke-miterlimit"]||8;g=parseFloat(b["stroke-width"]||1)*.75;h=b["stroke-opacity"]||1;if(Ext.isNumber(g)&&g<1){e.weight=1;e.opacity=h*g}else{e.weight=g;e.opacity=h}}if(f){d.appendChild(e)}},setClip:function(a,b){var c=this,d=a.el,e=a.clipEl,f=String(b["clip-rect"]).split(c.separatorRe);if(!e){e=a.clipEl=c.el.insertFirst(Ext.getDoc().dom.createElement("div"));e.addCls(Ext.baseCSSPrefix+"vml-sprite")}if(f.length==4){f[2]=+f[2]+ +f[0];f[3]=+f[3]+ +f[1];e.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",f[0],f[1],f[2],f[3]));e.setSize(c.el.width,c.el.height)}else{e.setStyle("clip","")}},setTextAttributes:function(a,b){var c=this,d=a.vml,e=d.textpath.style,f=c.span.style,g=c.zoom,h=Math.round,i={fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"},j,k;if(a.dirtyFont){if(b.font){e.font=f.font=b.font}if(b["font-family"]){e.fontFamily='"'+b["font-family"].split(",")[0].replace(c.fontFamilyRe,"")+'"';f.fontFamily=b["font-family"]}for(j in i){k=b[i[j]];if(k){e[j]=f[j]=k}}c.setText(a,b.text);if(d.textpath.string){c.span.innerHTML=String(d.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br/>")}d.W=c.span.offsetWidth;d.H=c.span.offsetHeight+2;if(b["text-anchor"]=="middle"){e["v-text-align"]="center"}else if(b["text-anchor"]=="end"){e["v-text-align"]="right";d.bbx=-Math.round(d.W/2)}else{e["v-text-align"]="left";d.bbx=Math.round(d.W/2)}}d.X=b.x;d.Y=b.y;d.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(d.X*g),Math.round(d.Y*g),Math.round(d.X*g)+1);a.bbox.plain=null;a.bbox.transform=null;a.dirtyFont=false},setText:function(a,b){a.vml.textpath.string=Ext.htmlDecode(b)},hide:function(){this.el.hide()},show:function(){this.el.show()},hidePrim:function(a){a.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){a.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(a,b){var c=this;a=a||c.width;b=b||c.height;c.width=a;c.height=b;if(c.el){if(a!=undefined){c.el.setWidth(a)}if(b!=undefined){c.el.setHeight(b)}}c.callParent(arguments)},applyViewBox:function(){var a=this,b=a.viewBox,c=a.width,d=a.height,e,f,g;a.callParent();if(b&&(c||d)){e=a.items.items;f=e.length;for(g=0;g<f;g++){a.applyTransformations(e[g])}}},onAdd:function(a){this.callParent(arguments);if(this.el){this.renderItem(a)}},onRemove:function(a){if(a.el){a.el.remove();delete a.el}this.callParent(arguments)},render:function(a){var b=this,c=Ext.getDoc().dom,d;if(!b.createNode){try{if(!c.namespaces.rvml){c.namespaces.add("rvml","urn:schemas-microsoft-com:vml")}b.createNode=function(a){return c.createElement("<rvml:"+a+' class="rvml">')}}catch(e){b.createNode=function(a){return c.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}}if(!b.el){d=c.createElement("div");b.el=Ext.get(d);b.el.addCls(b.baseVmlCls);b.span=c.createElement("span");Ext.get(b.span).addCls(b.measureSpanCls);d.appendChild(b.span);b.el.setSize(b.width||0,b.height||0);a.appendChild(d);b.el.on({scope:b,mouseup:b.onMouseUp,mousedown:b.onMouseDown,mouseover:b.onMouseOver,mouseout:b.onMouseOut,mousemove:b.onMouseMove,mouseenter:b.onMouseEnter,mouseleave:b.onMouseLeave,click:b.onClick,dblclick:b.onDblClick})}b.renderAll()},renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(a){a.dirty=true;this.renderItem(a)},renderItem:function(a){if(!this.el){return}if(!a.el){this.createSpriteElement(a)}if(a.dirty){this.applyAttrs(a);if(a.dirtyTransform){this.applyTransformations(a)}}},rotationCompensation:function(a,b,c){var d=new Ext.draw.Matrix;d.rotate(-a,.5,.5);return{x:d.x(b,c),y:d.y(b,c)}},transform:function(a,b){var c=this,d=c.getBBox(a,true),e=d.x+d.width*.5,f=d.y+d.height*.5,g=new Ext.draw.Matrix,h=a.transformations,i=h.length,j=0,k=0,l=1,m=1,n="",o=a.el,p=o.dom,q=p.style,r=c.zoom,s=a.skew,t=c.viewBoxShift,u,v,w,x,y,z,A,B,C,D,E,F;for(;j<i;j++){w=h[j];x=w.type;if(x=="translate"){g.translate(w.x,w.y)}else if(x=="rotate"){g.rotate(w.degrees,w.x,w.y);k+=w.degrees}else if(x=="scale"){g.scale(w.x,w.y,w.centerX,w.centerY);l*=w.x;m*=w.y}}a.matrix=g.clone();if(b){return}if(t){g.prepend(t.scale,0,0,t.scale,t.dx*t.scale,t.dy*t.scale)}if(a.type!="image"&&s){s.origin="0,0";s.matrix=g.toString();F=g.offset();if(F[0]>32767){F[0]=32767}else if(F[0]<-32768){F[0]=-32768}if(F[1]>32767){F[1]=32767}else if(F[1]<-32768){F[1]=-32768}s.offset=F}else{q.filter=g.toFilter();q.left=Math.min(g.x(d.x,d.y),g.x(d.x+d.width,d.y),g.x(d.x,d.y+d.height),g.x(d.x+d.width,d.y+d.height))+"px";q.top=Math.min(g.y(d.x,d.y),g.y(d.x+d.width,d.y),g.y(d.x,d.y+d.height),g.y(d.x+d.width,d.y+d.height))+"px"}},createItem:function(a){return Ext.create("Ext.draw.Sprite",a)},getRegion:function(){return this.el.getRegion()},addCls:function(a,b){if(a&&a.el){a.el.addCls(b)}},removeCls:function(a,b){if(a&&a.el){a.el.removeCls(b)}},addGradient:function(a){var b=this.gradientsColl||(this.gradientsColl=Ext.create("Ext.util.MixedCollection")),c=[],d=Ext.create("Ext.util.MixedCollection"),e,f,g,h,i,j;d.addAll(a.stops);d.sortByKey("ASC",function(a,b){a=parseInt(a,10);b=parseInt(b,10);return a>b?1:a<b?-1:0});e=d.keys;f=d.items;g=e.length;for(j=0;j<g;j++){h=e[j];i=f[j];c.push(h+"% "+i.color)}b.add(a.id,{colors:c.join(","),angle:a.angle})},destroy:function(){var a=this;a.callParent(arguments);if(a.el){a.el.remove()}delete a.el}});Ext.define("Ext.layout.ContextItem",{requires:["Ext.layout.ClassList"],heightModel:null,widthModel:null,sizeModel:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:true,isContextItem:true,isTopLevel:false,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildLayouts:0,remainingComponentChildLayouts:0,remainingContainerChildLayouts:0,props:null,state:null,wrapsComponent:false,constructor:function(a){var b=this,c,d,e,f,g;Ext.apply(b,a);c=b.el;b.id=c.id;b.lastBox=c.lastBox;b.flushedProps={};b.props={};b.styles={};g=b.target;if(g.isComponent){b.wrapsComponent=true;d=g.ownerCt;if(d&&(e=b.context.items[d.el.id])){b.ownerCtContext=e}b.sizeModel=f=g.getSizeModel(e&&e.widthModel.pairsByHeightOrdinal[e.heightModel.ordinal]);b.widthModel=f.width;b.heightModel=f.height}},init:function(a,b){var c=this,d=c.props,e=c.dirty,f=c.ownerCtContext,g=c.target.ownerLayout,h=!c.state,i=a||h,j,k,l,m,n,o,p=c.heightModel,q=c.widthModel,r,s;c.dirty=c.invalid=false;c.props={};if(c.boxChildren){c.boxChildren.length=0}if(!h){c.clearAllBlocks("blocks");c.clearAllBlocks("domBlocks")}if(!c.wrapsComponent){return i}o=c.target;c.state={};if(h){if(o.beforeLayout){o.beforeLayout()}if(!f&&(m=o.ownerCt)){f=c.context.items[m.el.id]}if(f){c.ownerCtContext=f;c.isBoxParent=o.ownerLayout.isItemBoxParent(c)}else{c.isTopLevel=true}c.frameBodyContext=c.getEl("frameBody")}else{f=c.ownerCtContext;c.isTopLevel=!f;j=c.children;for(k=0,l=j.length;k<l;++k){j[k].init(true)}}c.hasRawContent=!(o.isContainer&&o.items.items.length>0);if(a){c.widthModel=c.heightModel=null;n=o.getSizeModel(f&&f.widthModel.pairsByHeightOrdinal[f.heightModel.ordinal]);if(h){c.sizeModel=n}c.widthModel=n.width;c.heightModel=n.height}else if(d){c.recoverProp("x",d,e);c.recoverProp("y",d,e);if(c.widthModel.calculated){c.recoverProp("width",d,e)}if(c.heightModel.calculated){c.recoverProp("height",d,e)}}if(d&&g&&g.manageMargins){c.recoverProp("margin-top",d,e);c.recoverProp("margin-right",d,e);c.recoverProp("margin-bottom",d,e);c.recoverProp("margin-left",d,e)}if(b){r=b.heightModel;s=b.widthModel;if(s&&r&&q&&p){if(q.shrinkWrap&&p.shrinkWrap){if(s.constrainedMax&&r.constrainedMin){r=null}}}if(s){c.widthModel=s}if(r){c.heightModel=r}if(b.state){Ext.apply(c.state,b.state)}}return i},initContinue:function(a){var b=this,c=b.ownerCtContext,d=b.widthModel,e;if(a){if(c&&d.shrinkWrap){e=c.isBoxParent?c:c.boxParent;if(e){e.addBoxChild(b)}}else if(d.natural){b.boxParent=c}}return a},initDone:function(a,b,c,d){var e=this,f=e.props,g=e.state;if(b){f.componentChildrenDone=true}if(c){f.containerChildrenDone=true}if(d){f.containerLayoutDone=true}if(e.boxChildren&&e.boxChildren.length&&e.widthModel.shrinkWrap){e.el.setWidth(1e4);g.blocks=(g.blocks||0)+1}},initAnimation:function(){var a=this,b=a.target,c=a.ownerCtContext;if(c&&c.isTopLevel){a.animatePolicy=b.ownerLayout.getAnimatePolicy(a)}else if(!c&&b.isCollapsingOrExpanding&&b.animCollapse){a.animatePolicy=b.componentLayout.getAnimatePolicy(a)}if(a.animatePolicy){a.context.queueAnimation(a)}},noFraming:{left:0,top:0,right:0,bottom:0,width:0,height:0},addCls:function(a){this.getClassList().addMany(a)},removeCls:function(a){this.getClassList().removeMany(a)},addBlock:function(a,b,c){var d=this,e=d[a]||(d[a]={}),f=e[c]||(e[c]={});if(!f[b.id]){f[b.id]=b;++b.blockCount;++d.context.blockCount}},addBoxChild:function(a){var b=this,c,d=a.widthModel;a.boxParent=this;a.measuresBox=d.shrinkWrap?a.hasRawContent:d.natural;if(a.measuresBox){c=b.boxChildren;if(c){c.push(a)}else{b.boxChildren=[a]}}},addTrigger:function(a,b){var c=this,d=b?"domTriggers":"triggers",e=c[d]||(c[d]={}),f=c.context,g=f.currentLayout,h=e[a]||(e[a]={});if(!h[g.id]){h[g.id]=g;++g.triggerCount;h=f.triggers[b?"dom":"data"];(h[g.id]||(h[g.id]=[])).push({item:this,prop:a});if(c.props[a]!==undefined){if(!b||!(c.dirty&&a in c.dirty)){++g.firedTriggers}}}},boxChildMeasured:function(){var a=this,b=a.state,c=b.boxesMeasured=(b.boxesMeasured||0)+1;if(c==a.boxChildren.length){b.clearBoxWidth=1;++a.context.progressCount;a.markDirty()}},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(a){var b=a.getStyles(a.borderNames,a.trblNames);b.width=b.left+b.right;b.height=b.top+b.bottom;return b},marginInfo:function(a){var b=a.getStyles(a.marginNames,a.trblNames);b.width=b.left+b.right;b.height=b.top+b.bottom;return b},paddingInfo:function(a){var b=a.frameBodyContext||a,c=b.getStyles(a.paddingNames,a.trblNames);c.width=c.left+c.right;c.height=c.top+c.bottom;return c}},checkCache:function(a){return this.cacheMissHandlers[a](this)},clearAllBlocks:function(a){var b=this[a],c;if(b){for(c in b){this.clearBlocks(a,c)}}},clearBlocks:function(a,b){var c=this[a],d=c&&c[b],e,f,g;if(d){delete c[b];e=this.context;for(g in d){f=d[g];--e.blockCount;if(!--f.blockCount&&!f.pending&&!f.done){e.queueLayout(f)}}}},block:function(a,b){this.addBlock("blocks",a,b)},domBlock:function(a,b){this.addBlock("domBlocks",a,b)},fireTriggers:function(a,b){var c=this[a],d=c&&c[b],e=this.context,f,g;if(d){for(g in d){f=d[g];++f.firedTriggers;if(!f.done&&!f.blockCount&&!f.pending){e.queueLayout(f)}}}},flush:function(){var a=this,b=a.dirty,c=a.state,d=a.el;a.dirtyCount=0;if(a.classList&&a.classList.dirty){a.classList.flush()}if("attributes"in a){d.set(a.attributes);delete a.attributes}if("innerHTML"in a){d.innerHTML=a.innerHTML;delete a.innerHTML}if(c&&c.clearBoxWidth){c.clearBoxWidth=0;a.el.setStyle("width",null);if(!--c.blocks){a.context.queueItemLayouts(a)}}if(b){delete a.dirty;a.writeProps(b,true)}},flushAnimations:function(){var a=this,b=a.lastBox,c,d,e,f,g,h,i,j,k,l,m;if(b){c=a.target;d=c.layout&&c.layout.animate;if(d){e=Ext.isNumber(d)?d:d.duration}f=Ext.Object.getKeys(a.animatePolicy);g=Ext.apply({},{from:{},to:{},duration:e||Ext.fx.Anim.prototype.duration},d);for(h=0,i=0,j=f.length;i<j;i++){k=f[i];l=b[k];m=a.peek(k);if(l!=m){k=a.translateProps[k]||k;g.from[k]=l;g.to[k]=m;++h}}if(h){if(a.isCollapsingOrExpanding===1){c.componentLayout.undoLayout(a)}else{a.writeProps(g.from)}a.el.animate(g);Ext.fx.Manager.getFxQueue(a.el.id)[0].on({afteranimate:function(){if(a.isCollapsingOrExpanding===1){c.componentLayout.redoLayout(a);c.afterCollapse(true)}else if(a.isCollapsingOrExpanding===2){c.afterExpand(true)}}})}}},getBorderInfo:function(){var a=this,b=a.borderInfo;if(!b){a.borderInfo=b=a.checkCache("borderInfo")}return b},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(a,b){var c=this,d,e,f;if(a){if(a.dom){e=a}else{d=c.target;if(b){d=b}e=d[a];if(typeof e=="function"){e=e.call(d);if(e===c.el){return this}}}if(e){f=c.context.getEl(c,e)}}return f||null},getFraming:function(){var a=this;if(!a.framingInfo){a.framingInfo=a.target.frameSize||a.noFraming}return a.framingInfo},getFrameInfo:function(){var a=this,b=a.frameInfo,c,d;if(!b){c=a.getFraming();d=a.getBorderInfo();a.frameInfo=b={top:c.top+d.top,right:c.right+d.right,bottom:c.bottom+d.bottom,left:c.left+d.left,width:c.width+d.width,height:c.height+d.height}}return b},getMarginInfo:function(){var a=this,b=a.marginInfo,c,d,e,f,g;if(!b){if(!a.wrapsComponent){b=a.checkCache("marginInfo")}else{c=a.target;f=c.ownerLayout;g=f?f.id:null;d=f&&f.manageMargins;b=c.margin$;if(b&&b.ownerId!==g){b=null}if(!b){b=a.parseMargins(c.margin)||a.checkCache("marginInfo");if(d){e=a.parseMargins(c.margins,f.defaultMargins);if(e){b={top:b.top+e.top,right:b.right+e.right,bottom:b.bottom+e.bottom,left:b.left+e.left}}a.setProp("margin-top",0);a.setProp("margin-right",0);a.setProp("margin-bottom",0);a.setProp("margin-left",0)}b.ownerId=g;c.margin$=b}b.width=b.left+b.right;b.height=b.top+b.bottom}a.marginInfo=b}return b},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var a=this,b=a.paddingInfo;if(!b){a.paddingInfo=b=a.checkCache("paddingInfo")}return b},getProp:function(a){var b=this,c=b.props[a];b.addTrigger(a);return c},getDomProp:function(a){var b=this,c=b.dirty&&a in b.dirty?undefined:b.props[a];b.addTrigger(a,true);return c},getStyle:function(a){var b=this,c=b.styles,d,e;if(a in c){e=c[a]}else{d=b.styleInfo[a];e=b.el.getStyle(a);if(d&&d.parseInt){e=parseInt(e,10)||0}c[a]=e}return e},getStyles:function(a,b){var c=this,d=c.styles,e={},f=0,g=a.length,h,i,j,k,l,m,n,o;b=b||a;for(h=0;h<g;++h){k=a[h];if(k in d){e[b[h]]=d[k];++f;if(h&&f==1){i=a.slice(0,h);j=b.slice(0,h)}}else if(f){(i||(i=[])).push(k);(j||(j=[])).push(b[h])}}if(f<g){i=i||a;j=j||b;m=c.styleInfo;n=c.el.getStyle(i);for(h=i.length;h--;){k=i[h];l=m[k];o=n[k];if(l&&l.parseInt){o=parseInt(o,10)||0}e[j[h]]=o;d[k]=o}}return e},hasProp:function(a){var b=this.getProp(a);return typeof b!="undefined"},hasDomProp:function(a){var b=this.getDomProp(a);return typeof b!="undefined"},invalidate:function(a){this.context.queueInvalidate(this,a)},markDirty:function(){if(++this.dirtyCount==1){this.context.queueFlush(this)}},onBoxMeasured:function(){var a=this.boxParent,b=this.state;if(a&&a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox){b.boxMeasured=1;a.boxChildMeasured()}},parseMargins:function(a,b){if(a===true){a=5}var c=typeof a,d;if(c=="string"||c=="number"){d=Ext.util.Format.parseBox(a)}else if(a||b){d={top:0,right:0,bottom:0,left:0};if(b){Ext.apply(d,this.parseMargins(b))}Ext.apply(d,a)}return d},peek:function(a){return this.props[a]},recoverProp:function(a,b,c){var d=this,e=d.props,f;if(a in b){e[a]=b[a];if(c&&a in c){f=d.dirty||(d.dirty={});f[a]=c[a]}}},redo:function(a){var b=this,c,d,e;b.revertProps(b.props);if(a&&b.wrapsComponent){if(b.childItems){for(e=0,c=b.childItems,d=c.length;e<d;e++){c[e].redo(a)}}for(e=0,c=b.children,d=c.length;e<d;e++){c[e].redo()}}},revertProps:function(a){var b,c=this.flushedProps,d={};for(b in a){if(c.hasOwnProperty(b)){d[b]=a[b]}}this.writeProps(d)},setAttribute:function(a,b){var c=this;if(!c.attributes){c.attributes={}}c.attributes[a]=b;c.markDirty()},setBox:function(a){var b=this;if("left"in a){b.setProp("x",a.left)}if("top"in a){b.setProp("y",a.top)}b.setSize(a.width,a.height)},setContentHeight:function(a,b){if(!b&&this.hasRawContent){return 1}return this.setProp("contentHeight",a)},setContentWidth:function(a,b){if(!b&&this.hasRawContent){return 1}return this.setProp("contentWidth",a)},setContentSize:function(a,b,c){return this.setContentWidth(a,c)+this.setContentHeight(b,c)==2},setProp:function(a,b,c){var d=this,e=typeof b,f,g;if(e=="undefined"||e==="number"&&isNaN(b)){return 0}if(d.props[a]===b){return 1}d.props[a]=b;++d.context.progressCount;if(c===false){d.fireTriggers("domTriggers",a);d.clearBlocks("domBlocks",a)}else{g=d.styleInfo[a];if(g){if(!d.dirty){d.dirty={}}if(a=="width"||a=="height"){f=d.isBorderBoxValue;if(f==null){d.isBorderBoxValue=f=!!d.el.isBorderBox()}if(!f){d.borderInfo||d.getBorderInfo();d.paddingInfo||d.getPaddingInfo()}}d.dirty[a]=b;d.markDirty()}}d.fireTriggers("triggers",a);d.clearBlocks("blocks",a);return 1},setHeight:function(a,b){var c=this,d=c.target,e,f,g;if(a<0){a=0}if(!c.wrapsComponent){if(!c.setProp("height",a,b)){return NaN}}else{a=Ext.Number.constrain(a,d.minHeight||0,d.maxHeight);if(!c.setProp("height",a,b)){return NaN}e=c.frameBodyContext;if(e){f=c.getFrameInfo();e.setHeight(a-f.height,b)}}return a},setWidth:function(a,b){var c=this,d=c.target,e,f,g;if(a<0){a=0}if(!c.wrapsComponent){if(!c.setProp("width",a,b)){return NaN}}else{a=Ext.Number.constrain(a,d.minWidth||0,d.maxWidth);if(!c.setProp("width",a,b)){return NaN}e=c.frameBodyContext;if(e){f=c.getFrameInfo();e.setWidth(a-f.width,b)}}return a},setSize:function(a,b,c){this.setWidth(a,c);this.setHeight(b,c)},translateProps:{x:"left",y:"top"},undo:function(a){var b=this,c,d,e;b.revertProps(b.lastBox);if(a&&b.wrapsComponent){if(b.childItems){for(e=0,c=b.childItems,d=c.length;e<d;e++){c[e].undo(a)}}for(e=0,c=b.children,d=c.length;e<d;e++){c[e].undo()}}},unsetProp:function(a){var b=this.dirty;delete this.props[a];if(b){delete b[a]}},writeProps:function(a,b){if(!(a&&typeof a=="object")){Ext.Logger.warn("writeProps expected dirtyProps to be an object");return}var c=this,d=c.el,e={},f=0,g=c.styleInfo,h,i,j,k="x"in a,l="y"in a,m=a.x,n=a.y,o=a.width,p=a.height,q=c.isBorderBoxValue,r=c.target,s=Math.max,t=0,u=0,v,w,x,y,z,A;if("displayed"in a){d.setDisplayed(a.displayed)}for(i in a){if(b){c.fireTriggers("domTriggers",i);c.clearBlocks("domBlocks",i);c.flushedProps[i]=1}h=g[i];if(h&&h.dom){if(h.suffix&&(j=parseInt(a[i],10))){e[i]=j+h.suffix}else{e[i]=a[i]}++f}}if(k||l){if(r.isComponent){r.setPosition(m||c.props.x,n||c.props.y)}else{if(k){e.left=m+"px";++f}if(l){e.top=n+"px";++f}}}if(!q&&(o>0||p>0)){if(!(c.borderInfo&&c.paddingInfo)){throw Error("Needed to have gotten the borderInfo and paddingInfo when the width or height was setProp'd")}if(!c.frameBodyContext){t=c.paddingInfo.width;u=c.paddingInfo.height}if(o){o=s(parseInt(o,10)-(c.borderInfo.width+t),0);e.width=o+"px";++f}if(p){p=s(parseInt(p,10)-(c.borderInfo.height+u),0);e.height=p+"px";++f}}if(c.wrapsComponent&&Ext.isIE9&&Ext.isStrict){if((v=o!==undefined&&c.hasOverflowY)||(w=p!==undefined&&c.hasOverflowX)){x=c.isAbsolute;if(x===undefined){x=false;A=c.target.getTargetEl();z=A.getStyle("position");if(z=="absolute"){z=A.getStyle("box-sizing");x=z=="border-box"}c.isAbsolute=x}if(x){y=Ext.getScrollbarSize();if(v){o=parseInt(o,10)+y.width;e.width=o+"px";++f}if(w){p=parseInt(p,10)+y.height;e.height=p+"px";++f}}}}if(f){d.setStyle(e)}}},function(){var a={dom:true,parseInt:true,suffix:"px"},b={dom:true},c={dom:false};this.prototype.styleInfo={childrenDone:c,componentChildrenDone:c,containerChildrenDone:c,containerLayoutDone:c,displayed:c,done:c,x:c,y:c,columnWidthsDone:c,left:a,top:a,right:a,bottom:a,width:a,height:a,"border-top-width":a,"border-right-width":a,"border-bottom-width":a,"border-left-width":a,"margin-top":a,"margin-right":a,"margin-bottom":a,"margin-left":a,"padding-top":a,"padding-right":a,"padding-bottom":a,"padding-left":a,"line-height":b,display:b}});Ext.define("Ext.layout.Context",{requires:["Ext.util.Queue","Ext.layout.ContextItem","Ext.layout.Layout","Ext.fx.Anim","Ext.fx.Manager"],remainingLayouts:0,state:0,constructor:function(a){var b=this;Ext.apply(b,a);b.items={};b.layouts={};b.blockCount=0;b.cycleCount=0;b.flushCount=0;b.calcCount=0;b.animateQueue=b.newQueue();b.completionQueue=b.newQueue();b.finalizeQueue=b.newQueue();b.finishQueue=b.newQueue();b.flushQueue=b.newQueue();b.invalidateData={};b.layoutQueue=b.newQueue();b.invalidQueue=[];b.triggers={data:{},dom:{}}},callLayout:function(a,b){this.currentLayout=a;a[b](this.getCmp(a.owner))},cancelComponent:function(a,b,c){var d=this,e=a,f=!a.isComponent,g=f?e.length:1,h,i,j,k,l,m,n,o,p,q;for(h=0;h<g;++h){if(f){a=e[h]}if(c&&a.ownerCt){q=this.items[a.ownerCt.el.id];if(q){Ext.Array.remove(q.childItems,d.getCmp(a))}}if(!b){n=d.invalidQueue;j=n.length;if(j){d.invalidQueue=m=[];for(i=0;i<j;++i){o=n[i];p=o.item.target;if(p!=a&&!p.isDescendant(a)){m.push(o)}}}}l=a.componentLayout;d.cancelLayout(l);if(l.getLayoutItems){k=l.getLayoutItems();if(k.length){d.cancelComponent(k,true)}}if(a.isContainer&&!a.collapsed){l=a.layout;d.cancelLayout(l);k=l.getVisibleItems();if(k.length){d.cancelComponent(k,true)}}}},cancelLayout:function(a){var b=this;b.completionQueue.remove(a);b.finalizeQueue.remove(a);b.finishQueue.remove(a);b.layoutQueue.remove(a);if(a.running){b.layoutDone(a)}a.ownerContext=null},clearTriggers:function(a,b){var c=a.id,d=this.triggers[b?"dom":"data"],e=d&&d[c],f=e&&e.length||0,d,g,h,i;for(g=0;g<f;++g){i=e[g];h=i.item;d=b?h.domTriggers:h.triggers;delete d[i.prop][c]}},flush:function(){var a=this,b=a.flushQueue.clear(),c=b.length,d;if(c){++a.flushCount;for(d=0;d<c;++d){b[d].flush()}}},flushAnimations:function(){var a=this,b=a.animateQueue.clear(),c=b.length,d;if(c){for(d=0;d<c;d++){if(b[d].target.animate!==false){b[d].flushAnimations()}}Ext.fx.Manager.runner()}},flushInvalidates:function(){var a=this,b=a.invalidQueue,c=b&&b.length,d,e,f,g;a.invalidQueue=[];if(c){e=[];for(g=0;g<c;++g){d=(f=b[g]).item.target;if(!d.container.isDetachedBody){e.push(d);if(f.options){a.invalidateData[d.id]=f.options}}}a.invalidate(e,null)}},flushLayouts:function(a,b,c){var d=this,e=c?d[a].items:d[a].clear(),f=e.length,g,h;if(f){for(g=0;g<f;++g){h=e[g];if(!h.running){d.callLayout(h,b)}}d.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(a,b){var c=this.getItem(b,b);if(!c.parent){c.parent=a;if(a.children.length){a.children.push(c)}else{a.children=[c]}}return c},getItem:function(a,b){var c=b.id,d=this.items,e=d[c]||(d[c]=new Ext.layout.ContextItem({context:this,target:a,el:b}));return e},handleFailure:function(){var a=this.layouts,b,c;Ext.failedLayouts=(Ext.failedLayouts||0)+1;Ext.log("Layout run failed");for(c in a){b=a[c];if(a.hasOwnProperty(c)){b.running=false;b.ownerContext=null}}},invalidate:function(a,b){var c=this,d=!a.isComponent,e,f,g,h,i,j,k,l,m,n,o,p,q;for(i=0,m=d?a.length:1;i<m;++i){j=d?a[i]:a;if(j.rendered&&!j.hidden){k=c.getCmp(j);n=j.componentLayout;h=!n.ownerContext;o=j.isContainer&&!j.collapsed?j.layout:null;p=c.invalidateData[k.id];delete c.invalidateData[k.id];q=k.init(b,p);if(p){c.processInvalidate(p,k,"before")}if(n.beforeLayoutCycle){n.beforeLayoutCycle(k)}q=k.initContinue(q);e=f=g=true;if(n.getLayoutItems){n.renderChildren();l=n.getLayoutItems();if(l.length){c.invalidate(l,true);e=false}}if(o){g=false;o.renderChildren();l=o.getVisibleItems();if(l.length){c.invalidate(l,true);f=false}}k.initDone(q,e,f,g);c.resetLayout(n,k,h);if(o){c.resetLayout(o,k,h)}k.initAnimation();if(p){c.processInvalidate(p,k,"after")}}}c.currentLayout=null},layoutDone:function(a){var b=a.ownerContext,c;a.running=false;if(a.isComponentLayout){if(b.measuresBox){b.onBoxMeasured()}b.setProp("done",true);c=b.ownerCtContext;if(c){if(b.target.ownerLayout.isComponentLayout){if(!--c.remainingComponentChildLayouts){c.setProp("componentChildrenDone",true)}}else{if(!--c.remainingContainerChildLayouts){c.setProp("containerChildrenDone",true)}}if(!--c.remainingChildLayouts){c.setProp("childrenDone",true)}}}else{b.setProp("containerLayoutDone",true)}--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(a,b,c){if(a[c]){var d=this,e=d.currentLayout;d.currentLayout=a.layout||null;a[c](b,a);d.currentLayout=e}},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},queueFlush:function(a){this.flushQueue.add(a)},chainFns:function(a,b,c){var d=this,e=a.layout,f=b.layout,g=a[c],h=b[c];return function(c){var i=d.currentLayout;if(g){d.currentLayout=e;g.call(a.scope||a,c,a)}d.currentLayout=f;h.call(b.scope||b,c,b);d.currentLayout=i}},queueInvalidate:function(a,b){var c=this,d=[],e=c.invalidQueue,f=e.length,g,h,i,j,k;if(a.isComponent){a=c.getCmp(g=a)}else{g=a.target}a.invalid=true;while(f--){h=e[f];i=h.item.target;if(g.isDescendant(i)){return}if(i==g){if(!(j=h.options)){h.options=b}else if(b){if(b.widthModel){j.widthModel=b.widthModel}if(b.heightModel){j.heightModel=b.heightModel}if(!(k=j.state)){j.state=b.state}else if(b.state){Ext.apply(k,b.state)}if(b.before){j.before=c.chainFns(j,b,"before")}if(b.after){j.after=c.chainFns(j,b,"after")}}return}if(!i.isDescendant(g)){d.push(h)}}d.push({item:a,options:b});c.invalidQueue=d},queueItemLayouts:function(a){var b=a.isComponent?a:a.target,c=b.componentLayout;if(!c.pending&&!c.invalid&&!c.done){this.queueLayout(c)}c=b.layout;if(c&&!c.pending&&!c.invalid&&!c.done){this.queueLayout(c)}},queueLayout:function(a){this.layoutQueue.add(a);a.pending=true},resetLayout:function(a,b,c){var d=this,e;d.currentLayout=a;a.done=false;a.pending=true;a.firedTriggers=0;d.layoutQueue.add(a);if(c){d.layouts[a.id]=a;a.running=true;if(a.finishedLayout){d.finishQueue.add(a)}++d.remainingLayouts;++a.layoutCount;a.ownerContext=b;a.beginCount=0;a.blockCount=0;a.calcCount=0;a.triggerCount=0;if(a.isComponentLayout&&(e=b.ownerCtContext)){if(b.target.ownerLayout.isComponentLayout){++e.remainingComponentChildLayouts}else{++e.remainingContainerChildLayouts}++e.remainingChildLayouts}if(!a.initialized){a.initLayout()}a.beginLayout(b)}else{++a.beginCount;if(!a.running){++d.remainingLayouts;a.running=true;if(a.isComponentLayout){b.unsetProp("done");e=b.ownerCtContext;if(e){if(b.target.ownerLayout.isComponentLayout){if(++e.remainingComponentChildLayouts==1){e.unsetProp("componentChildrenDone")}}else{if(++e.remainingContainerChildLayouts==1){e.unsetProp("containerChildrenDone")}}if(++e.remainingChildLayouts==1){e.unsetProp("childrenDone")}}}d.completionQueue.remove(a);d.finalizeQueue.remove(a)}}a.beginLayoutCycle(b,c)},run:function(){var a=this,b=false,c=100;a.flushInvalidates();a.state=1;a.totalCount=a.layoutQueue.getCount();a.flush();while((a.remainingLayouts||a.invalidQueue.length)&&c--){if(a.invalidQueue.length){a.flushInvalidates()}if(a.runCycle()){b=false}else if(!b){a.flush();b=true;a.flushLayouts("completionQueue","completeLayout")}else{a.state=2;break}if(!(a.remainingLayouts||a.invalidQueue.length)){a.flush();a.flushLayouts("completionQueue","completeLayout");a.flushLayouts("finalizeQueue","finalizeLayout")}}return a.runComplete()},runComplete:function(){var a=this;a.state=2;if(a.remainingLayouts){a.handleFailure();return false}a.flush();a.flushLayouts("finishQueue","finishedLayout",true);a.flushLayouts("finishQueue","notifyOwner");a.flush();a.flushAnimations();return true},runCycle:function(){var a=this,b=a.layoutQueue.clear(),c=b.length,d;++a.cycleCount;a.progressCount=0;for(d=0;d<c;++d){a.runLayout(a.currentLayout=b[d])}a.currentLayout=null;return a.progressCount>0},runLayout:function(a){var b=this,c=b.getCmp(a.owner);a.pending=false;if(c.state.blocks){return}a.done=true;++a.calcCount;++b.calcCount;a.calculate(c);if(a.done){b.layoutDone(a);if(a.completeLayout){b.queueCompletion(a)}if(a.finalizeLayout){b.queueFinalize(a)}}else if(!a.pending&&!a.invalid&&!(a.blockCount+a.triggerCount-a.firedTriggers)){b.queueLayout(a)}},setItemSize:function(a,b,c){var d=a,e=1,f,g;if(a.isComposite){d=a.elements;e=d.length;a=d[0]}else if(!a.dom&&!a.el){e=d.length;a=d[0]}for(g=0;g<e;){f=this.get(a);f.setSize(b,c);a=d[++g]}}});Ext.define("Ext.selection.TreeModel",{extend:"Ext.selection.RowModel",alias:"selection.treemodel",pruneRemoved:false,onKeyRight:function(a,b){var c=this.getLastFocused(),d=this.view;if(c){if(c.isExpanded()){this.onKeyDown(a,b)}else if(c.isExpandable()){d.expand(c)}}},onKeyLeft:function(a,b){var c=this.getLastFocused(),d=this.view,e=d.getSelectionModel(),f,g;if(c){f=c.parentNode;if(c.isExpanded()){d.collapse(c)}else if(f&&!f.isRoot()){if(a.shiftKey){e.selectRange(f,c,a.ctrlKey,"up");e.setLastFocused(f)}else if(a.ctrlKey){e.setLastFocused(f)}else{e.select(f)}}}},onKeySpace:function(a,b){this.toggleCheck(a)},onKeyEnter:function(a,b){this.toggleCheck(a)},toggleCheck:function(a){a.stopEvent();var b=this.getLastSelected();if(b){this.view.onCheckChange(b)}}});Ext.define("Ext.ux.desktop.StartMenu",{extend:"Ext.panel.Panel",requires:["Ext.menu.Menu","Ext.toolbar.Toolbar"],ariaRole:"menu",cls:"x-menu ux-start-menu",defaultAlign:"bl-tl",iconCls:"user",floating:true,shadow:true,width:300,initComponent:function(){var a=this,b=a.menu;a.menu=new Ext.menu.Menu({cls:"ux-start-menu-body",border:false,floating:false,items:b});a.menu.layout.align="stretch";a.items=[a.menu];a.layout="fit";Ext.menu.Manager.register(a);a.callParent();a.toolbar=new Ext.toolbar.Toolbar(Ext.apply({dock:"right",cls:"ux-start-menu-toolbar",vertical:true,width:100},a.toolConfig));a.toolbar.layout.align="stretch";a.addDocked(a.toolbar);delete a.toolItems;a.on("deactivate",function(){a.hide()})},addMenuItem:function(){var a=this.menu;a.add.apply(a,arguments)},addToolItem:function(){var a=this.toolbar;a.add.apply(a,arguments)},showBy:function(a,b,c){var d=this;if(d.floating&&a){d.layout.autoSize=true;d.show();a=a.el||a;var e=d.el.getAlignToXY(a,b||d.defaultAlign,c);if(d.floatParent){var f=d.floatParent.getTargetEl().getViewRegion();e[0]-=f.x;e[1]-=f.y}d.showAt(e);d.doConstrain()}return d}});Ext.define("Ext.ux.desktop.TaskBar",{extend:"Ext.toolbar.Toolbar",requires:["Ext.button.Button","Ext.resizer.Splitter","Ext.menu.Menu","Ext.ux.desktop.StartMenu"],alias:"widget.taskbar",cls:"ux-taskbar",startBtnText:"Start",initComponent:function(){var a=this;a.startMenu=new Ext.ux.desktop.StartMenu(a.startConfig);a.quickStart=new Ext.toolbar.Toolbar(a.getQuickStart());a.windowBar=new Ext.toolbar.Toolbar(a.getWindowBarConfig());a.tray=new Ext.toolbar.Toolbar(a.getTrayConfig());a.items=[{xtype:"button",cls:"ux-start-button",iconCls:"ux-start-button-icon",menu:a.startMenu,menuAlign:"bl-tl",text:a.startBtnText},a.quickStart,{xtype:"splitter",html:"&#160;",height:14,width:2,cls:"x-toolbar-separator x-toolbar-separator-horizontal"},a.windowBar,"-",a.tray];a.callParent()},afterLayout:function(){var a=this;a.callParent();a.windowBar.el.on("contextmenu",a.onButtonContextMenu,a)},getQuickStart:function(){var a=this,b={minWidth:20,width:60,items:[],enableOverflow:true};Ext.each(this.quickStart,function(c){b.items.push({tooltip:{text:c.name,align:"bl-tl"},overflowText:c.name,iconCls:c.iconCls,module:c.module,handler:a.onQuickStartClick,scope:a})});return b},getTrayConfig:function(){var a={width:80,items:this.trayItems};delete this.trayItems;return a},getWindowBarConfig:function(){return{flex:1,cls:"ux-desktop-windowbar",items:["&#160;"],layout:{overflowHandler:"Scroller"}}},getWindowBtnFromEl:function(a){var b=this.windowBar.getChildByElement(a);return b||null},onQuickStartClick:function(a){var b=this.app.getModule(a.module),c;if(b){c=b.createWindow();c.show()}},onButtonContextMenu:function(a){var b=this,c=a.getTarget(),d=b.getWindowBtnFromEl(c);if(d){a.stopEvent();b.windowMenu.theWin=d.win;b.windowMenu.showBy(c)}},onWindowBtnClick:function(a){var b=a.win;if(b.minimized||b.hidden){b.show()}else if(b.active){b.minimize()}else{b.toFront()}},addTaskButton:function(a){var b={iconCls:a.iconCls,enableToggle:true,toggleGroup:"all",width:140,margins:"0 2 0 3",text:Ext.util.Format.ellipsis(a.title,20),listeners:{click:this.onWindowBtnClick,scope:this},win:a};var c=this.windowBar.add(b);c.toggle(true);return c},removeTaskButton:function(a){var b,c=this;c.windowBar.items.each(function(c){if(c===a){b=c}return!b});if(b){c.windowBar.remove(b)}return b},setActiveButton:function(a){if(a){a.toggle(true)}else{this.windowBar.items.each(function(a){if(a.isButton){a.toggle(false)}})}}});Ext.define("Ext.ux.desktop.TrayClock",{extend:"Ext.toolbar.TextItem",alias:"widget.trayclock",cls:"ux-desktop-trayclock",html:"&#160;",timeFormat:"g:i A",tpl:"{time}",initComponent:function(){var a=this;a.callParent();if(typeof a.tpl=="string"){a.tpl=new Ext.XTemplate(a.tpl)}},afterRender:function(){var a=this;Ext.Function.defer(a.updateTime,100,a);a.callParent()},onDestroy:function(){var a=this;if(a.timer){window.clearTimeout(a.timer);a.timer=null}a.callParent()},updateTime:function(){var a=this,b=Ext.Date.format(new Date,a.timeFormat),c=a.tpl.apply({time:b});if(a.lastText!=c){a.setText(c);a.lastText=c}a.timer=Ext.Function.defer(a.updateTime,1e4,a)}});Ext.define("Ext.data.TreeStore",{extend:"Ext.data.AbstractStore",alias:"store.tree",requires:["Ext.util.Sorter","Ext.data.Tree","Ext.data.NodeInterface"],clearOnLoad:true,clearRemovedOnLoad:true,nodeParam:"node",defaultRootId:"root",defaultRootProperty:"children",rootProperty:"children",folderSort:false,constructor:function(a){var b=this,c,d,e;a=Ext.apply({},a);d=a.fields||b.fields;if(!d){a.fields=[{name:"text",type:"string"}];e=a.defaultRootProperty||b.defaultRootProperty;if(e!==b.defaultRootProperty){a.fields.push({name:e,type:"auto",defaultValue:null,persist:false})}}b.callParent([a]);b.tree=new Ext.data.Tree;b.relayEvents(b.tree,["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort","rootchange"]);b.tree.on({scope:b,remove:b.onNodeRemove,beforeexpand:b.onBeforeNodeExpand,beforecollapse:b.onBeforeNodeCollapse,append:b.onNodeAdded,insert:b.onNodeAdded,sort:b.onNodeSort});b.onBeforeSort();c=b.root;if(c){delete b.root;b.setRootNode(c)}if(Ext.isDefined(b.nodeParameter)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead.")}b.nodeParam=b.nodeParameter;delete b.nodeParameter}},setProxy:function(a){var b,c;if(a instanceof Ext.data.proxy.Proxy){c=Ext.isEmpty(a.getReader().root)}else if(Ext.isString(a)){c=true}else{b=a.reader;c=!(b&&!Ext.isEmpty(b.root))}a=this.callParent(arguments);if(c){b=a.getReader();b.root=this.defaultRootProperty;b.buildExtractors(true)}},onBeforeSort:function(){if(this.folderSort){this.sort({property:"leaf",direction:"ASC"},"prepend",false)}},onBeforeNodeExpand:function(a,b,c){if(a.isLoaded()){Ext.callback(b,c||a,[a.childNodes])}else if(a.isLoading()){this.on("load",function(){Ext.callback(b,c||a,[a.childNodes])},this,{single:true})}else{this.read({node:a,callback:function(){Ext.callback(b,c||a,[a.childNodes])}})}},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onBeforeNodeCollapse:function(a,b,c){b.call(c||a,a.childNodes)},onNodeRemove:function(a,b,c){var d=this,e=d.removed;if(!b.isReplace&&Ext.Array.indexOf(e,b)==-1){e.push(b)}if(d.autoSync&&!d.autoSyncSuspended&&!c){d.sync()}},onNodeAdded:function(a,b){var c=this,d=c.getProxy(),e=d.getReader(),f=b.raw||b[b.persistenceProperty],g;Ext.Array.remove(c.removed,b);if(!b.isLeaf()){g=e.getRoot(f);if(g){c.fillNode(b,e.extractData(g));delete f[e.root]}}if(c.autoSync&&!c.autoSyncSuspended&&(b.phantom||b.dirty)){c.sync()}},onNodeSort:function(){if(this.autoSync&&!this.autoSyncSuspended){this.sync()}},setRootNode:function(a,b){var c=this,d=c.model,e=d.prototype.idProperty;a=a||{};if(!a.isModel){Ext.applyIf(a,{id:c.defaultRootId,text:"Root",allowDrag:false});if(a[e]===undefined){a[e]=c.defaultRootId}Ext.data.NodeInterface.decorate(d);a=Ext.ModelManager.create(a,d)}else if(a.isModel&&!a.isNode){Ext.data.NodeInterface.decorate(d)}c.getProxy().getReader().buildExtractors(true);c.tree.setRootNode(a);if(b!==true&&!a.isLoaded()&&(c.autoLoad===true||a.isExpanded())){c.load({node:a})}return a},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(a){return this.tree.getNodeById(a)},getById:function(a){return this.getNodeById(a)},load:function(a){a=a||{};a.params=a.params||{};var b=this,c=a.node||b.tree.getRootNode();if(!c){c=b.setRootNode({expanded:true},true)}a.id=c.getId();if(b.clearOnLoad){if(b.clearRemovedOnLoad){b.clearRemoved(c)}b.tree.un("remove",b.onNodeRemove,b);c.removeAll(false);b.tree.on("remove",b.onNodeRemove,b)}Ext.applyIf(a,{node:c});a.params[b.nodeParam]=c?c.getId():"root";if(c){c.set("loading",true)}return b.callParent([a])},clearRemoved:function(a){var b=this,c=b.removed,d=a.getId(),e=c.length,f=e,g={},h=[],i={},j,k,l;if(a===b.getRootNode()){b.removed=[];return}for(;f--;){j=c[f];i[j.getId()]=j}for(f=e;f--;){j=c[f];k=j;while(k&&k.getId()!==d){l=k.get("parentId");k=k.parentNode||b.getNodeById(l)||i[l]}if(k){g[j.getId()]=j}}for(f=0;f<e;f++){j=c[f];if(!g[j.getId()]){h.push(j)}}b.removed=h},fillNode:function(a,b){var c=this,d=b?b.length:0,e=c.sorters,f,g,h=false,i=d&&c.sortOnLoad&&!c.remoteSort&&e&&e.items&&e.items.length,j,k;for(f=1;f<d;f++){j=b[f];k=b[f-1];h=j[j.persistenceProperty].index!=k[k.persistenceProperty].index;if(h){break}}if(i){if(h){c.sorters.insert(0,c.indexSorter)}g=new Ext.util.MixedCollection;g.addAll(b);g.sort(c.sorters.items);b=g.items;c.sorters.remove(c.indexSorter)}else if(h){Ext.Array.sort(b,c.sortByIndex)}a.set("loaded",true);for(f=0;f<d;f++){a.appendChild(b[f],undefined,true)}return b},sortByIndex:function(a,b){return a[a.persistenceProperty].index-b[b.persistenceProperty].index},onProxyLoad:function(a){var b=this,c=a.wasSuccessful(),d=a.getRecords(),e=a.node;b.loading=false;e.set("loading",false);if(c){if(!b.clearOnLoad){d=b.cleanRecords(e,d)}d=b.fillNode(e,d)}b.fireEvent("read",b,a.node,d,c);b.fireEvent("load",b,a.node,d,c);Ext.callback(a.callback,a.scope||b,[d,a,c])},onCreateRecords:function(a){this.callParent(arguments);var b=0,c=a.length,d=this.tree,e;for(;b<c;++b){e=a[b];d.onNodeIdChanged(e,null,e.getId())}},cleanRecords:function(a,b){var c={},d=a.childNodes,e=0,f=d.length,g=[],h;for(;e<f;++e){c[d[e].getId()]=true}for(e=0,f=b.length;e<f;++e){h=b[e];if(!c[h.getId()]){g.push(h)}}return g},removeAll:function(){var a=this.getRootNode();if(a){a.destroy(true)}this.fireEvent("clear",this)},doSort:function(a){var b=this;if(b.remoteSort){b.load()}else{b.tree.sort(a,true);b.fireEvent("datachanged",b);b.fireEvent("refresh",b)}b.fireEvent("sort",b)}},function(){var a=this.prototype;a.indexSorter=new Ext.util.Sorter({sorterFn:a.sortByIndex})});Ext.define("Ext.data.NodeStore",{extend:"Ext.data.Store",alias:"store.node",requires:["Ext.data.NodeInterface"],node:null,recursive:false,rootVisible:false,constructor:function(a){var b=this,c;a=a||{};Ext.apply(b,a);if(Ext.isDefined(b.proxy)){Ext.Error.raise("A NodeStore cannot be bound to a proxy. Instead bind it to a record "+"decorated with the NodeInterface by setting the node config.")}b.useModelWarning=false;a.proxy={type:"proxy"};b.callParent([a]);c=b.node;if(c){b.node=null;b.setNode(c)}},setNode:function(a){var b=this;if(b.node&&b.node!=a){b.mun(b.node,{expand:b.onNodeExpand,collapse:b.onNodeCollapse,append:b.onNodeAppend,insert:b.onNodeInsert,remove:b.onNodeRemove,sort:b.onNodeSort,scope:b});b.node=null}if(a){Ext.data.NodeInterface.decorate(a.self);b.removeAll();if(b.rootVisible){b.add(a)}else if(!a.isExpanded()&&b.treeStore.autoLoad!==false){a.expand()}b.mon(a,{expand:b.onNodeExpand,collapse:b.onNodeCollapse,append:b.onNodeAppend,insert:b.onNodeInsert,remove:b.onNodeRemove,sort:b.onNodeSort,scope:b});b.node=a;if(a.isExpanded()&&a.isLoaded()){b.onNodeExpand(a,a.childNodes,true)}}},onNodeSort:function(a,b){var c=this;if(c.indexOf(a)!==-1||a===c.node&&!c.rootVisible&&a.isExpanded()){c.onNodeCollapse(a,b,true);c.onNodeExpand(a,b,true)}},onNodeExpand:function(a,b,c){var d=this,e=d.indexOf(a)+1,f=b?b.length:0,g,h;if(!d.recursive&&a!==d.node){return}if(a!==this.node&&!d.isVisible(a)){return}if(!c&&d.fireEvent("beforeexpand",a,b,e)===false){return}if(f){d.insert(e,b);for(g=0;g<f;g++){h=b[g];if(h.isExpanded()){if(h.isLoaded()){d.onNodeExpand(h,h.childNodes,true)}else{h.set("expanded",false);h.expand()}}}}if(!c){d.fireEvent("expand",a,b)}},onNodeCollapse:function(a,b,c){var d=this,e=b.length,f=d.indexOf(a)+1,g,h;if(!d.recursive&&a!==d.node){return}if(!c&&d.fireEvent("beforecollapse",a,b,f)===false){return}for(g=0;g<e;g++){h=b[g];d.remove(h);if(h.isExpanded()){d.onNodeCollapse(h,h.childNodes,true)}}if(!c){d.fireEvent("collapse",a,b,f)}},onNodeAppend:function(a,b,c){var d=this,e,f;if(d.isVisible(b)){if(c===0){e=a}else{f=b.previousSibling;while(f.isExpanded()&&f.lastChild){f=f.lastChild}e=f}d.insert(d.indexOf(e)+1,b);if(!b.isLeaf()&&b.isExpanded()){if(b.isLoaded()){d.onNodeExpand(b,b.childNodes,true)}else{b.set("expanded",false);b.expand()}}}},onNodeInsert:function(a,b,c){var d=this,e=this.indexOf(c);if(e!=-1&&d.isVisible(b)){d.insert(e,b);if(!b.isLeaf()&&b.isExpanded()){if(b.isLoaded()){d.onNodeExpand(b,b.childNodes,true)}else{b.set("expanded",false);b.expand()}}}},onNodeRemove:function(a,b,c){var d=this;if(d.indexOf(b)!=-1){if(!b.isLeaf()&&b.isExpanded()){d.onNodeCollapse(b,b.childNodes,true)}d.remove(b)}},isVisible:function(a){var b=a.parentNode;while(b){if(b===this.node&&!this.rootVisible&&b.isExpanded()){return true}if(this.indexOf(b)===-1||!b.isExpanded()){return false}b=b.parentNode}return true}});Ext.define("Ext.tree.View",{extend:"Ext.view.Table",alias:"widget.treeview",requires:["Ext.data.NodeStore"],loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",blockRefresh:true,loadMask:false,rootVisible:true,deferInitialRefresh:false,expandDuration:250,collapseDuration:250,toggleOnDblClick:true,stripeRows:false,uiFields:["expanded","loaded","checked","expandable","leaf","icon","iconCls","loading","qtip","qtitle"],initComponent:function(){var a=this,b=a.panel.getStore();if(a.initialConfig.animate===undefined){a.animate=Ext.enableFx}a.store=new Ext.data.NodeStore({treeStore:b,recursive:true,rootVisible:a.rootVisible,listeners:{beforeexpand:a.onBeforeExpand,expand:a.onExpand,beforecollapse:a.onBeforeCollapse,collapse:a.onCollapse,write:a.onStoreWrite,datachanged:a.onStoreDataChanged,scope:a}});if(a.node){a.setRootNode(a.node)}a.animQueue={};a.animWraps={};a.addEvents("afteritemexpand","afteritemcollapse");a.callParent(arguments);a.on({element:"el",scope:a,delegate:a.expanderSelector,mouseover:a.onExpanderMouseOver,mouseout:a.onExpanderMouseOut});a.on({element:"el",scope:a,delegate:a.checkboxSelector,click:a.onCheckboxChange})},getMaskStore:function(){return this.panel.getStore()},afterComponentLayout:function(){this.callParent(arguments);var a=this.stretcher;if(a){a.setWidth(this.getWidth()-Ext.getScrollbarSize().width)}},processUIEvent:function(a){if(a.getTarget("."+this.nodeAnimWrapCls,this.el)){return false}return this.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(a){var b=this;b.store.setNode(a);b.node=a},onCheckboxChange:function(a,b){var c=this,d=a.getTarget(c.getItemSelector(),c.getTargetEl());if(d){c.onCheckChange(c.getRecord(d))}},onCheckChange:function(a){var b=a.get("checked");if(Ext.isBoolean(b)){b=!b;a.set("checked",b);this.fireEvent("checkchange",a,b)}},getChecked:function(){var a=[];this.node.cascadeBy(function(b){if(b.get("checked")){a.push(b)}});return a},isItemChecked:function(a){return a.get("checked")},createAnimWrap:function(a,b){var c="",d=this.panel.headerCt,e=d.getGridColumns(),f=0,g=e.length,h,i=this.getNode(a),j,k;for(;f<g;f++){h=e[f];c+='<th style="width: '+(h.hidden?0:h.getDesiredWidth())+'px; height: 0px;"></th>'}k=Ext.get(i);j=k.insertSibling({tag:"tr",html:['<td colspan="'+d.getColumnCount()+'">','<div class="'+this.nodeAnimWrapCls+'">','<table class="'+Ext.baseCSSPrefix+'grid-table" style="width: '+d.getFullWidth()+'px;"><tbody>',c,"</tbody></table>","</div>","</td>"].join("")},"after");return{record:a,node:i,el:j,expanding:false,collapsing:false,animating:false,animateEl:j.down("div"),targetEl:j.down("tbody")}},getAnimWrap:function(a,b){if(!this.animate){return null}var c=this.animWraps,d=c[a.internalId];if(b!==false){while(!d&&a){a=a.parentNode;if(a){d=c[a.internalId]}}}return d},doAdd:function(a,b,c){var d=this,e=b[0],f=e.parentNode,g=d.all.elements,h=0,i=d.getAnimWrap(f),j,k,l;if(!i||!i.expanding){return d.callParent(arguments)}f=i.record;j=i.targetEl;k=j.dom.childNodes;l=k.length-1;h=c-d.indexOf(f)-1;if(!l||h>=l){j.appendChild(a)}else{Ext.fly(k[h+1]).insertSibling(a,"before",true)}Ext.Array.insert(g,c,a);if(i.isAnimating){d.onExpand(f)}},beginBulkUpdate:function(){this.bulkUpdate=true},endBulkUpdate:function(){this.bulkUpdate=false},onRemove:function(a,b,c){var d=this,e=d.bulkUpdate;if(d.viewReady){d.doRemove(b,c);if(!e){d.updateIndexes(c)}if(d.store.getCount()===0){d.refresh()}if(!e){d.fireEvent("itemremove",b,c)}}},doRemove:function(a,b){var c=this,d=c.all,e=c.getAnimWrap(a),f=d.item(b),g=f?f.dom:null;if(!g||!e||!e.collapsing){return c.callParent(arguments)}e.targetEl.appendChild(g);d.removeElement(b)},onBeforeExpand:function(a,b,c){var d=this,e;if(!d.rendered||!d.animate){return}if(d.getNode(a)){e=d.getAnimWrap(a,false);if(!e){e=d.animWraps[a.internalId]=d.createAnimWrap(a);e.animateEl.setHeight(0)}else if(e.collapsing){e.targetEl.select(d.itemSelector).remove()}e.expanding=true;e.collapsing=false}},onExpand:function(a){var b=this,c=b.animQueue,d=a.getId(),e=b.getNode(a),f=e?b.indexOf(e):-1,g,h,i;if(b.singleExpand){b.ensureSingleExpand(a)}if(f===-1){return}g=b.getAnimWrap(a,false);if(!g){b.isExpandingOrCollapsing=false;b.fireEvent("afteritemexpand",a,f,e);return}h=g.animateEl;i=g.targetEl;h.stopAnimation();c[d]=true;h.slideIn("t",{duration:b.expandDuration,listeners:{scope:b,lastframe:function(){g.el.insertSibling(i.query(b.itemSelector),"before");g.el.remove();b.refreshSize();delete b.animWraps[g.record.internalId];delete c[d]}},callback:function(){b.isExpandingOrCollapsing=false;b.fireEvent("afteritemexpand",a,f,e)}});g.isAnimating=true},onBeforeCollapse:function(a,b,c){var d=this,e;if(!d.rendered||!d.animate){return}if(d.getNode(a)){e=d.getAnimWrap(a);if(!e){e=d.animWraps[a.internalId]=d.createAnimWrap(a,c)}else if(e.expanding){e.targetEl.select(this.itemSelector).remove()}e.expanding=false;e.collapsing=true}},onCollapse:function(a){var b=this,c=b.animQueue,d=a.getId(),e=b.getNode(a),f=e?b.indexOf(e):-1,g=b.getAnimWrap(a),h,i;if(f===-1){return}if(!g){b.isExpandingOrCollapsing=false;b.fireEvent("afteritemcollapse",a,f,e);return}h=g.animateEl;i=g.targetEl;c[d]=true;h.stopAnimation();h.slideOut("t",{duration:b.collapseDuration,listeners:{scope:b,lastframe:function(){g.el.remove();b.refreshSize();delete b.animWraps[g.record.internalId];delete c[d]}},callback:function(){b.isExpandingOrCollapsing=false;b.fireEvent("afteritemcollapse",a,f,e)}});g.isAnimating=true},isAnimating:function(a){return!!this.animQueue[a.getId()]},collectData:function(a){var b=this.callParent(arguments),c=b.rows,d=c.length,e=0,f,g;for(;e<d;e++){f=c[e];g=a[e];if(g.get("qtip")){f.rowAttr='data-qtip="'+g.get("qtip")+'"';if(g.get("qtitle")){f.rowAttr+=" "+'data-qtitle="'+g.get("qtitle")+'"'}}if(g.isExpanded()){f.rowCls=(f.rowCls||"")+" "+this.expandedCls}if(g.isLeaf()){f.rowCls=(f.rowCls||"")+" "+this.leafCls}if(g.isLoading()){f.rowCls=(f.rowCls||"")+" "+this.loadingCls}}return b},expand:function(a,b,c,d){return a.expand(b,c,d)},collapse:function(a,b,c,d){return a.collapse(b,c,d)},toggle:function(a,b,c,d){var e=this,f=!!this.animate;if(!f||!this.isExpandingOrCollapsing){if(!a.isLeaf()){this.isExpandingOrCollapsing=f}if(a.isExpanded()){e.collapse(a,b,c,d)}else{e.expand(a,b,c,d)}}},onItemDblClick:function(a,b,c){var d=this,e=d.editingPlugin;d.callParent(arguments);if(d.toggleOnDblClick&&a.isExpandable()&&!(e&&e.clicksToEdit===2)){d.toggle(a)}},onBeforeItemMouseDown:function(a,b,c,d){if(d.getTarget(this.expanderSelector,b)){return false}return this.callParent(arguments)},onItemClick:function(a,b,c,d){if(d.getTarget(this.expanderSelector,b)&&a.isExpandable()){this.toggle(a,d.ctrlKey);return false}return this.callParent(arguments)},onExpanderMouseOver:function(a,b){a.getTarget(this.cellSelector,10,true).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(a,b){a.getTarget(this.cellSelector,10,true).removeCls(this.expanderIconOverCls)},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(a){var b=a.parentNode;if(b){b.eachChild(function(b){if(b!==a&&b.isExpanded()){b.collapse()}})}},shouldUpdateCell:function(a,b){if(b){var c=0,d=b.length;for(;c<d;++c){if(Ext.Array.contains(this.uiFields,b[c])){return true}}}return this.callParent(arguments)},onStoreWrite:function(a,b){var c=this.panel.store;c.fireEvent("write",c,b)},onStoreDataChanged:function(a,b){var c=this.panel.store;c.fireEvent("datachanged",c)}});Ext.define("Ext.grid.header.DragZone",{extend:"Ext.dd.DragZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",maxProxyWidth:120,constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.callParent([a.el]);this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(a){var b=a.getTarget("."+this.colHeaderCls),c,d;if(b){c=Ext.getCmp(b.id);if(!this.headerCt.dragging&&c.draggable&&!(c.isOnLeftEdge(a)||c.isOnRightEdge(a))){d=document.createElement("div");d.innerHTML=Ext.getCmp(b.id).text;return{ddel:d,header:c}}}return false},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=true;this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=false;this.callParent(arguments)},afterRepair:function(){this.callParent();this.headerCt.dragging=false},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=true},enable:function(){this.disabled=false}});Ext.define("Ext.dd.DropTarget",{extend:"Ext.dd.DDTarget",requires:["Ext.dd.ScrollManager"],constructor:function(a,b){this.el=Ext.get(a);Ext.apply(this,b);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:true}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(a,b,c){if(this.overClass){this.el.addCls(this.overClass)}return this.dropAllowed},notifyOver:function(a,b,c){return this.dropAllowed},notifyOut:function(a,b,c){if(this.overClass){this.el.removeCls(this.overClass)}},notifyDrop:function(a,b,c){return false},destroy:function(){this.callParent();if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.define("Ext.dd.DropZone",{extend:"Ext.dd.DropTarget",requires:["Ext.dd.Registry"],getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(a,b,c,d){},onNodeOver:function(a,b,c,d){return this.dropAllowed},onNodeOut:function(a,b,c,d){},onNodeDrop:function(a,b,c,d){return false},onContainerOver:function(a,b,c){return this.dropNotAllowed},onContainerDrop:function(a,b,c){return false},notifyEnter:function(a,b,c){return this.dropNotAllowed},notifyOver:function(a,b,c){var d=this.getTargetFromEvent(b);if(!d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,b,c);this.lastOverNode=null}return this.onContainerOver(a,b,c)}if(this.lastOverNode!=d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,b,c)}this.onNodeEnter(d,a,b,c);this.lastOverNode=d}return this.onNodeOver(d,a,b,c)},notifyOut:function(a,b,c){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,b,c);this.lastOverNode=null}},notifyDrop:function(a,b,c){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,b,c);this.lastOverNode=null}var d=this.getTargetFromEvent(b);return d?this.onNodeDrop(d,a,b,c):this.onContainerDrop(a,b,c)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});Ext.define("Ext.grid.header.DropZone",{extend:"Ext.dd.DropZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.callParent([a.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(a){return a.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator){this.topIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-top",html:"&#160;"},true)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator){this.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-bottom",html:"&#160;"},true)}return this.bottomIndicator},getLocation:function(a,b){var c=a.getXY()[0],d=Ext.fly(b).getRegion(),e,f;if(d.right-c<=(d.right-d.left)/2){e="after"}else{e="before"}return{pos:e,header:Ext.getCmp(b.id),node:b}},positionIndicator:function(a,b,c){var d=this.getLocation(c,b),e=d.header,f=d.pos,g=a.nextSibling("gridcolumn:not([hidden])"),h=a.previousSibling("gridcolumn:not([hidden])"),i,j,k,l,m,n,o,p,q,r,s,t,u;if(!e.draggable&&e.getIndex()===0){return false}this.lastLocation=d;if(a!==e&&(f==="before"&&g!==e||f==="after"&&h!==e)&&!e.isDescendantOf(a)){r=Ext.dd.DragDropManager.getRelated(this);s=r.length;t=0;for(;t<s;t++){u=r[t];if(u!==this&&u.invalidateDrop){u.invalidateDrop()}}this.valid=true;i=this.getTopIndicator();j=this.getBottomIndicator();if(f==="before"){k="tl";l="bl"}else{k="tr";l="br"}m=e.el.getAnchorXY(k);n=e.el.getAnchorXY(l);o=this.headerCt.el;p=o.getLeft();q=o.getRight();m[0]=Ext.Number.constrain(m[0],p,q);n[0]=Ext.Number.constrain(n[0],p,q);m[0]-=4;m[1]-=9;n[0]-=4;i.setXY(m);j.setXY(n);i.show();j.show()}else{this.invalidateDrop()}},invalidateDrop:function(){this.valid=false;this.hideIndicators()},onNodeOver:function(a,b,c,d){var e=this,f=e.headerCt,g=true,h=d.header,i;if(d.header.el.dom===a){g=false}else{i=e.getLocation(c,a).header;g=h.ownerCt===i.ownerCt||!h.ownerCt.sealed&&!i.ownerCt.sealed}if(g){e.positionIndicator(d.header,a,c)}else{e.valid=false}return e.valid?e.dropAllowed:e.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide();this.getBottomIndicator().hide()},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(a,b,c,d){if(this.valid){var e=d.header,f=this.lastLocation,g=f.header,h=e.ownerCt,i=e.up("headercontainer:not(gridcolumn)"),j=h.items.indexOf(e),k=g.ownerCt,l=g.up("headercontainer:not(gridcolumn)"),m=k.items.indexOf(g),n=this.headerCt,o=n.getHeaderIndex(e),p=e.isGroupHeader?e.query(":not([isGroupHeader])").length:1,q=n.getHeaderIndex(g),r,s;if(f.pos==="after"){m++;q+=g.isGroupHeader?g.query(":not([isGroupHeader])").length:1}if(i!==l&&i.lockableInjected&&l.lockableInjected&&l.lockedCt){s=h.up("[scrollerOwner]");s.lock(e,m);this.onNodeDrop(a,b,c,d)}else if(i!==l&&i.lockableInjected&&l.lockableInjected&&i.lockedCt){s=h.up("[scrollerOwner]");s.unlock(e,m);this.onNodeDrop(a,b,c,d)}else{this.invalidateDrop();if(h===k&&m>j){m-=1}Ext.suspendLayouts();if(h!==k){h.remove(e,false);if(h.isGroupHeader){if(!h.items.getCount()){r=h.ownerCt;r.remove(h,false);h.el.dom.parentNode.removeChild(h.el.dom)}}}if(h===k){k.move(j,m)}else{k.insert(m,e)}if(k.isGroupHeader){if(k!==h){e.savedFlex=e.flex;delete e.flex;e.width=e.getWidth()}}else{if(e.savedFlex){e.flex=e.savedFlex;delete e.width}}n.purgeCache();Ext.resumeLayouts(true);n.onHeaderMoved(e,p,o,q);if(!h.items.getCount()){h.destroy()}}}}});Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:"Ext.AbstractPlugin",requires:["Ext.grid.header.DragZone","Ext.grid.header.DropZone"],alias:"plugin.gridheaderreorderer",init:function(a){this.headerCt=a;a.on({render:this.onHeaderCtRender,single:true,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var a=this;a.dragZone=new Ext.grid.header.DragZone(a.headerCt);a.dropZone=new Ext.grid.header.DropZone(a.headerCt);if(a.disabled){a.dragZone.disable()}},enable:function(){this.disabled=false;if(this.dragZone){this.dragZone.enable()}},disable:function(){this.disabled=true;if(this.dragZone){this.dragZone.disable()}}});Ext.define("Ext.grid.header.Container",{extend:"Ext.container.Container",requires:["Ext.grid.ColumnLayout","Ext.grid.plugin.HeaderResizer","Ext.grid.plugin.HeaderReorderer"],uses:["Ext.grid.column.Column","Ext.menu.Menu","Ext.menu.CheckItem","Ext.menu.Separator"],border:true,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:false,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",triStateSort:false,ddLock:false,dragging:false,sortable:true,initComponent:function(){var a=this;a.headerCounter=0;a.plugins=a.plugins||[];if(!a.isHeader){if(a.enableColumnResize){a.resizer=new Ext.grid.plugin.HeaderResizer;a.plugins.push(a.resizer)}if(a.enableColumnMove){a.reorderer=new Ext.grid.plugin.HeaderReorderer;a.plugins.push(a.reorderer)}}if(a.isHeader&&!a.items){a.layout=a.layout||"auto"}else{a.layout=Ext.apply({type:"gridcolumn",align:"stretchmax"},a.initialConfig.layout)}a.defaults=a.defaults||{};Ext.applyIf(a.defaults,{triStateSort:a.triStateSort,sortable:a.sortable});a.menuTask=new Ext.util.DelayedTask(a.updateMenuDisabledState,a);a.callParent();a.addEvents("columnresize","headerclick","headertriggerclick","columnmove","columnhide","columnshow","sortchange","menucreate")},onDestroy:function(){var a=this;a.menuTask.cancel();Ext.destroy(a.resizer,a.reorderer);a.callParent()},applyColumnsState:function(a){if(!a||!a.length){return}var b=this,c=b.items.items,d=c.length,e=0,f=a.length,g,h,i,j;for(g=0;g<f;g++){i=a[g];for(j=d;j--;){h=c[j];if(h.getStateId&&h.getStateId()==i.id){if(e!==j){b.moveHeader(j,e)}if(h.applyColumnState){h.applyColumnState(i)}++e;break}}}},getColumnsState:function(){var a=this,b=[],c;a.items.each(function(a){c=a.getColumnState&&a.getColumnState();if(c){b.push(c)}});return b},onAdd:function(a){var b=this,c=b.isHeader?b.getOwnerHeaderCt():b;if(!a.headerId){a.headerId=a.initialConfig.id||Ext.id(null,"header-")}if(!a.stateId){a.stateId=a.initialConfig.id||"h"+ ++b.headerCounter}if(Ext.global.console&&Ext.global.console.warn){if(!b._usedIDs){b._usedIDs={}}if(b._usedIDs[a.headerId]){Ext.global.console.warn(this.$className,"attempted to reuse an existing id",a.headerId)}b._usedIDs[a.headerId]=true}b.callParent(arguments);if(c){c.purgeCache()}},onRemove:function(a){var b=this,c=b.isHeader?b.getOwnerHeaderCt():b;b.callParent(arguments);if(!b._usedIDs){b._usedIDs={}}delete b._usedIDs[a.headerId];if(c){b.purgeCache()}},applyDefaults:function(a){var b;if(a&&!a.isComponent&&a.xtype=="rownumberer"){b=a}else{b=this.callParent(arguments);if(!a.isGroupHeader&&!("width"in b)&&!b.flex){b.width=this.defaultWidth}}return b},afterRender:function(){this.callParent();this.setSortState()},setSortState:function(){var a=this.up("[store]").store,b=a.getFirstSorter(),c;if(b){c=this.down("gridcolumn[dataIndex="+b.property+"]");if(c){c.setSortState(b.direction,false,true)}}else{this.clearOtherSortStates(null)}},getHeaderMenu:function(){var a=this.getMenu(),b;if(a){b=a.child("#columnItem");if(b){return b.menu}}return null},onHeaderVisibilityChange:function(a,b){var c=this,d=c.getHeaderMenu(),e;if(d){e=c.getMenuItemForHeader(d,a);if(e){e.setChecked(b,true)}c.menuTask.delay(50)}},getLeafMenuItems:function(){var a=this,b=a.getGridColumns(),c=[],d=0,e=0,f=b.length,g=a.getMenu(),h;for(;d<f;++d){h=b[d];if(h.hideable){h=a.getMenuItemForHeader(g,h);if(h){c.push(h);if(h.checked){++e}}}else if(!h.hidden&&!h.menuDisabled){++e}}return{items:c,checkedCount:e}},updateMenuDisabledState:function(){var a=this,b=a.getLeafMenuItems(),c=b.checkedCount,d=b.items,e=d.length,f=0,g=a.getMenu().child("#columnItem");if(c<=1){a.disableMenuItems(g,Ext.ComponentQuery.query("[checked=true]",d)[0])}else{for(;f<e;++f){a.setMenuItemState(c,g,d[f])}}},disableMenuItems:function(a,b){while(b&&b!=a){b.disableCheckChange();b=b.parentMenu.ownerItem}},setMenuItemState:function(a,b,c){var d,e;while(c&&c!=b){d=c.parentMenu;e=c.parentMenu.query("[checked=true]:not([menu])").length;c.enableCheckChange();c=d.ownerItem;if(e===a){break}}this.disableMenuItems(b,c)},getMenuItemForHeader:function(a,b){return b?a.down("menucheckitem[headerId="+b.id+"]"):null},onHeaderShow:function(a){var b=this,c=b.ownerCt;b.onHeaderVisibilityChange(a,true);if(!a.isGroupHeader){if(c){c.onHeaderShow(b,a)}}b.fireEvent("columnshow",b,a)},onHeaderHide:function(a){var b=this,c=b.ownerCt;b.onHeaderVisibilityChange(a,false);if(!a.isGroupHeader){if(c){c.onHeaderHide(b,a)}}b.fireEvent("columnhide",b,a)},tempLock:function(){this.ddLock=true;Ext.Function.defer(function(){this.ddLock=false},200,this)},onHeaderResize:function(a,b,c){var d=this,e=d.view,f=d.ownerCt;if(e&&e.table.dom){d.tempLock();if(f){f.onHeaderResize(d,a,b)}}d.fireEvent("columnresize",this,a,b)},onHeaderClick:function(a,b,c){a.fireEvent("headerclick",this,a,b,c);this.fireEvent("headerclick",this,a,b,c)},onHeaderTriggerClick:function(a,b,c){var d=this;if(a.fireEvent("headertriggerclick",d,a,b,c)!==false&&d.fireEvent("headertriggerclick",d,a,b,c)!==false){d.showMenuBy(c,a)}},showMenuBy:function(a,b){var c=this.getMenu(),d=c.down("#ascItem"),e=c.down("#descItem"),f;c.activeHeader=c.ownerCt=b;c.setFloatParent(b);b.titleEl.addCls(this.headerOpenCls);f=b.sortable?"enable":"disable";if(d){d[f]()}if(e){e[f]()}c.showBy(a)},onMenuDeactivate:function(){var a=this.getMenu();a.activeHeader.titleEl.removeCls(this.headerOpenCls)},moveHeader:function(a,b){this.tempLock();this.onHeaderMoved(this.move(a,b),1,a,b)},purgeCache:function(){var a=this;delete a.gridDataColumns;delete a.hideableColumns;if(a.menu){a.menu.hide();a.menu.destroy();delete a.menu}},onHeaderMoved:function(a,b,c,d){var e=this,f=e.ownerCt;if(f&&f.onHeaderMove){f.onHeaderMove(e,a,b,c,d)}e.fireEvent("columnmove",e,a,c,d)},getMenu:function(){var a=this;if(!a.menu){a.menu=new Ext.menu.Menu({hideOnParentHide:false,items:a.getMenuItems(),listeners:{deactivate:a.onMenuDeactivate,scope:a}});a.updateMenuDisabledState();a.fireEvent("menucreate",a,a.menu)}return a.menu},getMenuItems:function(){var a=this,b=[],c=a.enableColumnHide?a.getColumnMenu(a):null;if(a.sortable){b=[{itemId:"ascItem",text:a.sortAscText,cls:Ext.baseCSSPrefix+"hmenu-sort-asc",handler:a.onSortAscClick,scope:a},{itemId:"descItem",text:a.sortDescText,cls:Ext.baseCSSPrefix+"hmenu-sort-desc",handler:a.onSortDescClick,scope:a}]}if(c&&c.length){b.push("-",{itemId:"columnItem",text:a.columnsText,cls:Ext.baseCSSPrefix+"cols-icon",menu:c})}return b},onSortAscClick:function(){var a=this.getMenu(),b=a.activeHeader;b.setSortState("ASC")},onSortDescClick:function(){var a=this.getMenu(),b=a.activeHeader;b.setSortState("DESC")},getColumnMenu:function(a){var b=[],c=0,d,e=a.query(">gridcolumn[hideable]"),f=e.length,g;for(;c<f;c++){d=e[c];g=new Ext.menu.CheckItem({text:d.menuText||d.text,checked:!d.hidden,hideOnClick:false,headerId:d.id,menu:d.isGroupHeader?this.getColumnMenu(d):undefined,checkHandler:this.onColumnCheckChange,scope:this});b.push(g);d.on({destroy:Ext.Function.bind(g.destroy,g)})}return b},onColumnCheckChange:function(a,b){var c=Ext.getCmp(a.headerId);c[b?"show":"hide"]()},getColumnsForTpl:function(a){var b=[],c=this.getGridColumns(a),d=c.length,e=0,f,g;for(;e<d;e++){f=c[e];if(f.hidden||f.up("headercontainer[hidden=true]")){g=0}else{g=f.getDesiredWidth()}b.push({dataIndex:f.dataIndex,align:f.align,width:g,id:f.id,cls:f.tdCls,columnId:f.getItemId()})}return b},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(a){var b=0,c=this.getVisibleGridColumns(a),d=c.length,e=0,f;for(;e<d;e++){f=c[e];if(f.getDesiredWidth){b+=f.getDesiredWidth()||0}else{b+=f.getWidth()}}return b},clearOtherSortStates:function(a){var b=this.getGridColumns(),c=b.length,d=0;for(;d<c;d++){if(b[d]!==a){b[d].setSortState(null,true)}}},getVisibleGridColumns:function(a){return Ext.ComponentQuery.query(":not([hidden])",this.getGridColumns(a))},getGridColumns:function(a){var b=this,c=a?null:b.gridDataColumns;if(!c){b.gridDataColumns=c=[];b.cascade(function(a){if(a!==b&&!a.isGroupHeader){c.push(a)}})}return c},getHideableColumns:function(a){var b=this,c=a?null:b.hideableColumns;if(!c){c=b.hideableColumns=b.query("[hideable]")}return c},getHeaderIndex:function(a){if(a.isGroupHeader){a=a.down(":not([isgroupHeader])")}return Ext.Array.indexOf(this.getGridColumns(),a)},getHeaderAtIndex:function(a){var b=this.getGridColumns();return b.length?b[a]:null},getVisibleHeaderClosestToIndex:function(a){var b=this.getHeaderAtIndex(a);if(b&&b.hidden){b=b.next(":not([hidden])")||b.prev(":not([hidden])")}return b},prepareData:function(a,b,c,d,e){var f=this,g={},h=f.gridDataColumns||f.getGridColumns(),i=h.length,j=0,k,l,m,n,o,p=e.store;for(;j<i;j++){o={tdCls:"",style:""};k=h[j];l=k.id;m=k.renderer;n=a[k.dataIndex];if(typeof m=="function"){n=m.call(k.scope||f.ownerCt,n,o,c,b,j,p,d)}if(o.css){g.cssWarning=true;o.tdCls=o.css;delete o.css}if(f.markDirty){g[l+"-modified"]=c.isModified(k.dataIndex)?Ext.baseCSSPrefix+"grid-dirty-cell":""}g[l+"-tdCls"]=o.tdCls;g[l+"-tdAttr"]=o.tdAttr;g[l+"-style"]=o.style;if(typeof n==="undefined"||n===null||n===""){n=k.emptyCellText}g[l]=n}return g},expandToFit:function(a){var b=this.view;if(b){b.expandToFit(a)}}});Ext.define("Ext.grid.column.Column",{extend:"Ext.grid.header.Container",alias:"widget.gridcolumn",requires:["Ext.util.KeyNav","Ext.grid.ColumnComponentLayout","Ext.grid.ColumnLayout"],alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header "+Ext.baseCSSPrefix+"unselectable",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:5,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],renderTpl:'<div id="{id}-titleEl" {tipMarkup}class="'+Ext.baseCSSPrefix+'column-header-inner">'+'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'column-header-text">'+"{text}"+"</span>"+'<tpl if="!menuDisabled">'+'<div id="{id}-triggerEl" class="'+Ext.baseCSSPrefix+'column-header-trigger"></div>'+"</tpl>"+"</div>"+"{%this.renderContainer(out,values)%}",dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:true,resizable:true,hideable:true,menuDisabled:false,renderer:false,editRenderer:false,align:"left",draggable:true,tooltipType:"qtip",initDraggable:Ext.emptyFn,isHeader:true,componentLayout:"columncomponent",initResizable:Ext.emptyFn,initComponent:function(){var a=this,b;if(Ext.isDefined(a.header)){a.text=a.header;delete a.header}if(!a.triStateSort){a.possibleSortStates.length=2}if(Ext.isDefined(a.columns)){a.isGroupHeader=true;if(a.dataIndex){Ext.Error.raise("Ext.grid.column.Column: Group header may not accept a dataIndex")}if(a.width&&a.width!==Ext.grid.header.Container.prototype.defaultWidth||a.flex){Ext.Error.raise("Ext.grid.column.Column: Group header does not support setting explicit widths or flexs. The group header width is calculated by the sum of its children.")}a.items=a.columns;delete a.columns;delete a.flex;delete a.width;a.cls=(a.cls||"")+" "+Ext.baseCSSPrefix+"group-header";a.sortable=false;a.resizable=false;a.align="center"}else{a.isContainer=false;if(a.flex){a.minWidth=a.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth}}a.addCls(Ext.baseCSSPrefix+"column-header-align-"+a.align);b=a.renderer;if(b){if(typeof b=="string"){a.renderer=Ext.util.Format[b]}a.hasCustomRenderer=true}else if(a.defaultRenderer){a.scope=a;a.renderer=a.defaultRenderer}a.callParent(arguments);a.on({element:"el",click:a.onElClick,dblclick:a.onElDblClick,scope:a});a.on({element:"titleEl",mouseenter:a.onTitleMouseOver,mouseleave:a.onTitleMouseOut,scope:a})},onAdd:function(a){a.isSubHeader=true;a.addCls(Ext.baseCSSPrefix+"group-sub-header");this.callParent(arguments)},onRemove:function(a){a.isSubHeader=false;a.removeCls(Ext.baseCSSPrefix+"group-sub-header");this.callParent(arguments)},initRenderData:function(){var a=this,b="",c=a.tooltip,d=a.tooltipType=="qtip"?"data-qtip":"title";if(!Ext.isEmpty(c)){b=d+'="'+c+'" '}return Ext.applyIf(a.callParent(arguments),{text:a.text,menuDisabled:a.menuDisabled,tipMarkup:b})},applyColumnState:function(a){var b=this,c=Ext.isDefined;b.applyColumnsState(a.columns);if(c(a.hidden)){b.hidden=a.hidden}if(c(a.locked)){b.locked=a.locked}if(c(a.sortable)){b.sortable=a.sortable}if(c(a.width)){delete b.flex;b.width=a.width}else if(c(a.flex)){delete b.width;b.flex=a.flex}},getColumnState:function(){var a=this,b=a.items.items,c=b?b.length:0,d,e=[],f={id:a.getStateId()};a.savePropsToState(["hidden","sortable","locked","flex","width"],f);if(a.isGroupHeader){for(d=0;d<c;d++){e.push(b[d].getColumnState())}if(e.length){f.columns=e}}else if(a.isSubHeader&&a.ownerCt.hidden){delete a.hidden}if("width"in f){delete f.flex}return f},getStateId:function(){return this.stateId||this.headerId},setText:function(a){this.text=a;if(this.rendered){this.textEl.update(a)}},getOwnerHeaderCt:function(){return this.up(":not([isHeader])")},getIndex:function(){return this.isGroupColumn?false:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.isGroupColumn?false:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var a=this,b=a.up("tablepanel");a.callParent();if(b&&(!a.sortable||b.sortableColumns===false)&&!a.groupable&&!a.lockable&&(b.enableColumnHide===false||!a.getOwnerHeaderCt().getHideableColumns().length)){a.menuDisabled=true}},afterRender:function(){var a=this,b=a.el;a.callParent(arguments);if(a.overCls){b.addClsOnOver(a.overCls)}if(!Ext.isIE8||!Ext.isStrict){a.mon(a.getFocusEl(),{focus:a.onTitleMouseOver,blur:a.onTitleMouseOut,scope:a})}a.keyNav=new Ext.util.KeyNav(b,{enter:a.onEnterKey,down:a.onDownKey,scope:a})},afterComponentLayout:function(a,b,c,d){var e=this,f=e.getOwnerHeaderCt();e.callParent(arguments);if(f&&(c!=null||e.flex)&&a!==c){f.onHeaderResize(e,a,true)}},setPadding:function(a){var b=this,c=parseInt(b.textEl.getStyle("line-height"),10),d=b.textEl.dom.offsetHeight,e=b.titleEl,f=a-b.el.getBorderWidth("tb"),g;if(!b.isGroupHeader){if(e.getHeight()<f){e.setHeight(f);b.ownerCt.layout.innerCt.setHeight(a)}}g=e.getViewSize().height;if(d){if(c){d=Math.ceil(d/c)*c}e.setStyle({paddingTop:Math.floor(Math.max((g-d)/2,0))+"px"})}if(Ext.isIE&&b.triggerEl){b.triggerEl.setHeight(g)}},onDestroy:function(){var a=this;Ext.destroy(a.textEl,a.keyNav,a.field);delete a.keyNav;a.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(a){if(this.triggerEl){this.onElClick(a,this.triggerEl.dom||this.el.dom)}},onEnterKey:function(a){this.onElClick(a,this.el.dom)},onElDblClick:function(a,b){var c=this,d=c.ownerCt;if(d&&Ext.Array.indexOf(d.items,c)!==0&&c.isOnLeftEdge(a)){d.expandToFit(c.previousSibling("gridcolumn"))}},onElClick:function(a,b){var c=this,d=c.getOwnerHeaderCt();if(d&&!d.ddLock){if(c.triggerEl&&(a.target===c.triggerEl.dom||b===c.triggerEl.dom||a.within(c.triggerEl))){d.onHeaderTriggerClick(c,a,b)}else if(a.getKey()||!c.isOnLeftEdge(a)&&!c.isOnRightEdge(a)){c.toggleSortState();d.onHeaderClick(c,a,b)}}},processEvent:function(a,b,c,d,e,f){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var a=this,b,c;if(a.sortable){b=Ext.Array.indexOf(a.possibleSortStates,a.sortState);c=(b+1)%a.possibleSortStates.length;a.setSortState(a.possibleSortStates[c])}},doSort:function(a){var b=this.up("tablepanel").store;b.sort({property:this.getSortParam(),direction:a})},getSortParam:function(){return this.dataIndex},setSortState:function(a,b,c){var d=this,e=Ext.baseCSSPrefix+"column-header-sort-",f=e+"ASC",g=e+"DESC",h=e+"null",i=d.getOwnerHeaderCt(),j=d.sortState;if(j!==a&&d.getSortParam()){d.addCls(e+a);if(a&&!c){d.doSort(a)}switch(a){case"DESC":d.removeCls([f,h]);break;case"ASC":d.removeCls([g,h]);break;case null:d.removeCls([f,g]);break}if(i&&!d.triStateSort&&!b){i.clearOtherSortStates(d)}d.sortState=a;if(d.triStateSort||a!=null){i.fireEvent("sortchange",i,d,a)}}},hide:function(a){var b=this,c=b.getOwnerHeaderCt(),d=b.ownerCt,e=d.isGroupHeader,f,g,h,i;if(e&&!a){g=d.query(">:not([hidden])");if(g.length===1&&g[0]==b){b.ownerCt.hide();return}}Ext.suspendLayouts();if(b.isGroupHeader){g=b.items.items;for(i=0,h=g.length;i<h;i++){f=g[i];if(!f.hidden){f.hide(true)}}}b.callParent();c.onHeaderHide(b);Ext.resumeLayouts(true)},show:function(a,b){var c=this,d=c.ownerCt,e,f,g,h;Ext.suspendLayouts();if(c.isSubHeader&&d.hidden){d.show(false,true)}c.callParent(arguments);if(c.isGroupHeader&&b!==true&&!c.query(":not([hidden])").length){e=c.query(">*");for(g=0,f=e.length;g<f;g++){h=e[g];if(h.hidden){h.show(true)}}}Ext.resumeLayouts(true);d=c.getOwnerHeaderCt();if(d){d.onHeaderShow(c)}},getDesiredWidth:function(){var a=this;if(a.rendered&&a.componentLayout&&a.componentLayout.lastComponentSize){return a.componentLayout.lastComponentSize.width}else if(a.flex){return a.width}else{return a.width}},getCellSelector:function(){return"."+Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(a){return a.getXY()[0]-this.el.getLeft()<=this.handleWidth},isOnRightEdge:function(a){return this.el.getRight()-a.getXY()[0]<=this.handleWidth}});Ext.define("Ext.tree.Column",{extend:"Ext.grid.column.Column",alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",treePrefix:Ext.baseCSSPrefix+"tree-",elbowPrefix:Ext.baseCSSPrefix+"tree-elbow-",expanderCls:Ext.baseCSSPrefix+"tree-expander",imgText:'<img src="{1}" class="{0}" />',checkboxText:'<input type="button" role="checkbox" class="{0}" {1} />',initComponent:function(){var a=this;a.origRenderer=a.renderer||a.defaultRenderer;a.origScope=a.scope||window;a.renderer=a.treeRenderer;a.scope=a;a.callParent()},treeRenderer:function(a,b,c,d,e,f,g){var h=this,i=[],j=Ext.String.format,k=c.getDepth(),l=h.treePrefix,m=h.elbowPrefix,n=h.expanderCls,o=h.imgText,p=h.checkboxText,q=h.origRenderer.apply(h.origScope,arguments),r=Ext.BLANK_IMAGE_URL,s=c.get("href"),t=c.get("hrefTarget"),u=c.get("cls");while(c){if(!c.isRoot()||c.isRoot()&&g.rootVisible){if(c.getDepth()===k){i.unshift(j(o,l+"icon "+l+"icon"+(c.get("icon")?"-inline ":c.isLeaf()?"-leaf ":"-parent ")+(c.get("iconCls")||""),c.get("icon")||r));if(c.get("checked")!==null){i.unshift(j(p,l+"checkbox"+(c.get("checked")?" "+l+"checkbox-checked":""),c.get("checked")?'aria-checked="true"':""));if(c.get("checked")){b.tdCls+=" "+l+"checked"}}if(c.isLast()){if(c.isExpandable()){i.unshift(j(o,m+"end-plus "+n,r))}else{i.unshift(j(o,m+"end",r))}}else{if(c.isExpandable()){i.unshift(j(o,m+"plus "+n,r))}else{i.unshift(j(o,l+"elbow",r))}}}else{if(c.isLast()||c.getDepth()===0){i.unshift(j(o,m+"empty",r))}else if(c.getDepth()!==0){i.unshift(j(o,m+"line",r))}}}c=c.parentNode}if(s){i.push('<a href="',s,'" target="',t,'">',q,"</a>")}else{i.push(q)}if(u){b.tdCls+=" "+u}return i.join("")},defaultRenderer:function(a){return a}});Ext.define("Ext.tree.Panel",{extend:"Ext.panel.Table",alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],requires:["Ext.tree.View","Ext.selection.TreeModel","Ext.tree.Column","Ext.data.TreeStore"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",deferRowRender:false,rowLines:false,lines:true,useArrows:false,singleExpand:false,ddConfig:{enableDrag:true,enableDrop:true},rootVisible:true,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:true,constructor:function(a){a=a||{};if(a.animate===undefined){a.animate=Ext.isDefined(this.animate)?this.animate:Ext.enableFx}this.enableAnimations=a.animate;delete a.animate;this.callParent([a])},initComponent:function(){var a=this,b=[a.treeCls],c;if(a.useArrows){b.push(Ext.baseCSSPrefix+"tree-arrows");a.lines=false}if(a.lines){b.push(Ext.baseCSSPrefix+"tree-lines")}else if(!a.useArrows){b.push(Ext.baseCSSPrefix+"tree-no-lines")}if(Ext.isString(a.store)){a.store=Ext.StoreMgr.lookup(a.store)}else if(!a.store||Ext.isObject(a.store)&&!a.store.isStore){a.store=new Ext.data.TreeStore(Ext.apply({},a.store||{},{root:a.root,fields:a.fields,model:a.model,folderSort:a.folderSort}))}else if(a.root){a.store=Ext.data.StoreManager.lookup(a.store);a.store.setRootNode(a.root);if(a.folderSort!==undefined){a.store.folderSort=a.folderSort;a.store.sort()}}a.viewConfig=Ext.apply({},a.viewConfig);a.viewConfig=Ext.applyIf(a.viewConfig,{rootVisible:a.rootVisible,animate:a.enableAnimations,singleExpand:a.singleExpand,node:a.store.getRootNode(),hideHeaders:a.hideHeaders});a.mon(a.store,{scope:a,rootchange:a.onRootChange,clear:a.onClear});a.relayEvents(a.store,["beforeload","load"]);a.mon(a.store,{append:a.createRelayer("itemappend"),remove:a.createRelayer("itemremove"),move:a.createRelayer("itemmove",[0,4]),insert:a.createRelayer("iteminsert"),beforeappend:a.createRelayer("beforeitemappend"),beforeremove:a.createRelayer("beforeitemremove"),beforemove:a.createRelayer("beforeitemmove"),beforeinsert:a.createRelayer("beforeiteminsert"),expand:a.createRelayer("itemexpand",[0,1]),collapse:a.createRelayer("itemcollapse",[0,1]),beforeexpand:a.createRelayer("beforeitemexpand",[0,1]),beforecollapse:a.createRelayer("beforeitemcollapse",[0,1])});if(!a.columns){if(a.initialConfig.hideHeaders===undefined){a.hideHeaders=true}a.addCls(Ext.baseCSSPrefix+"autowidth-table");a.columns=[{xtype:"treecolumn",text:"Name",width:Ext.isIE6?null:1e4,dataIndex:a.displayField}]}if(a.cls){b.push(a.cls)}a.cls=b.join(" ");a.callParent();c=a.getView();a.relayEvents(c,["checkchange","afteritemexpand","afteritemcollapse"]);if(!c.rootVisible&&!a.getRootNode()){a.setRootNode({expanded:true})}},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)},getRootNode:function(){return this.store.getRootNode()},onRootChange:function(a){this.view.setRootNode(a)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(a){return a.get("checked")},expandNode:function(a,b,c,d){return this.getView().expand(a,b,c,d||this)},collapseNode:function(a,b,c,d){return this.getView().collapse(a,b,c,d||this)},expandAll:function(a,b){var c=this,d=c.getRootNode(),e=c.enableAnimations,f=c.getView();if(d){if(!e){f.beginBulkUpdate()}d.expand(true,a,b||c);if(!e){f.endBulkUpdate()}}},collapseAll:function(a,b){var c=this,d=c.getRootNode(),e=c.enableAnimations,f=c.getView();if(d){if(!e){f.beginBulkUpdate()}b=b||c;if(f.rootVisible){d.collapse(true,a,b)}else{d.collapseChildren(true,a,b)}if(!e){f.endBulkUpdate()}}},expandPath:function(a,b,c,d,e){var f=this,g=f.getRootNode(),h=1,i=f.getView(),j,k;b=b||f.getRootNode().idProperty;c=c||"/";if(Ext.isEmpty(a)){Ext.callback(d,e||f,[false,null]);return}j=a.split(c);if(g.get(b)!=j[1]){Ext.callback(d,e||f,[false,g]);return}k=function(){if(++h===j.length){Ext.callback(d,e||f,[true,g]);return}var a=g.findChild(b,j[h]);if(!a){Ext.callback(d,e||f,[false,g]);return}g=a;g.expand(false,k)};g.expand(false,k)},selectPath:function(a,b,c,d,e){var f=this,g,h,i;b=b||f.getRootNode().idProperty;c=c||"/";h=a.split(c);i=h.pop();if(h.length>1){f.expandPath(h.join(c),b,c,function(a,c){var g=c;if(a&&c){c=c.findChild(b,i);if(c){f.getSelectionModel().select(c);Ext.callback(d,e||f,[true,c]);return}}Ext.callback(d,e||f,[false,g])},f)}else{g=f.getRootNode();if(g.getId()===i){f.getSelectionModel().select(g);Ext.callback(d,e||f,[true,g])}else{Ext.callback(d,e||f,[false,null])}}}});Ext.define("Ext.resizer.ResizeTracker",{extend:"Ext.dd.DragTracker",dynamic:true,preserveRatio:false,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(a){var b=this,c,d,e;if(!a.el){if(a.target.isComponent){b.el=a.target.getEl()}else{b.el=a.target}}this.callParent(arguments);if(b.preserveRatio&&b.minWidth&&b.minHeight){c=b.minWidth/b.el.getWidth();d=b.minHeight/b.el.getHeight();if(d>c){b.minWidth=b.el.getWidth()*d}else{b.minHeight=b.el.getHeight()*c}}if(b.throttle){e=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(b,arguments)},b.throttle);b.resize=function(a,c,d){if(d){Ext.resizer.ResizeTracker.prototype.resize.apply(b,arguments)}else{e.apply(null,arguments)}}}},onBeforeStart:function(a){this.startBox=this.el.getBox()},getDynamicTarget:function(){var a=this,b=a.target;if(a.dynamic){return b}else if(!a.proxy){a.proxy=a.createProxy(b)}a.proxy.show();return a.proxy},createProxy:function(a){var b,c=this.proxyCls,d;if(a.isComponent){b=a.getProxy().addCls(c)}else{d=Ext.getBody();if(Ext.scopeResetCSS){d=Ext.getBody().createChild({cls:Ext.resetCls})}b=a.createProxy({tag:"div",cls:c,id:a.id+"-rzproxy"},d)}b.removeCls(Ext.baseCSSPrefix+"proxy-el");return b},onStart:function(a){this.activeResizeHandle=Ext.get(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox,{horizontal:"none",vertical:"none"})}},onDrag:function(a){if(this.dynamic||this.proxy){this.updateDimensions(a)}},updateDimensions:function(a,b){var c=this,d=c.activeResizeHandle.region,e=c.getOffset(c.constrainTo?"dragTarget":null),f=c.startBox,g,h=0,i=0,j,k,l=0,m=0,n,o=e[0]<0?"right":"left",p=e[1]<0?"down":"up",q,r,s,t,u;switch(d){case"south":i=e[1];r=2;break;case"north":i=-e[1];m=-i;r=2;break;case"east":h=e[0];r=1;break;case"west":h=-e[0];l=-h;r=1;break;case"northeast":i=-e[1];m=-i;h=e[0];q=[f.x,f.y+f.height];r=3;break;case"southeast":i=e[1];h=e[0];q=[f.x,f.y];r=3;break;case"southwest":h=-e[0];l=-h;i=e[1];q=[f.x+f.width,f.y];r=3;break;case"northwest":i=-e[1];m=-i;h=-e[0];l=-h;q=[f.x+f.width,f.y+f.height];r=3;break}s={width:f.width+h,height:f.height+i,x:f.x+l,y:f.y+m};j=Ext.Number.snap(s.width,c.widthIncrement);k=Ext.Number.snap(s.height,c.heightIncrement);if(j!=s.width||k!=s.height){switch(d){case"northeast":s.y-=k-s.height;break;case"north":s.y-=k-s.height;break;case"southwest":s.x-=j-s.width;break;case"west":s.x-=j-s.width;break;case"northwest":s.x-=j-s.width;s.y-=k-s.height}s.width=j;s.height=k}if(s.width<c.minWidth||s.width>c.maxWidth){s.width=Ext.Number.constrain(s.width,c.minWidth,c.maxWidth);if(l){s.x=f.x+(f.width-s.width)}}else{c.lastX=s.x}if(s.height<c.minHeight||s.height>c.maxHeight){s.height=Ext.Number.constrain(s.height,c.minHeight,c.maxHeight);if(m){s.y=f.y+(f.height-s.height)}}else{c.lastY=s.y}if(c.preserveRatio||a.shiftKey){g=c.startBox.width/c.startBox.height;t=Math.min(Math.max(c.minHeight,s.width/g),c.maxHeight);u=Math.min(Math.max(c.minWidth,s.height*g),c.maxWidth);if(r==1){s.height=t}else if(r==2){s.width=u}else{n=Math.abs(q[0]-this.lastXY[0])/Math.abs(q[1]-this.lastXY[1]);if(n>g){s.height=t}else{s.width=u}if(d=="northeast"){s.y=f.y-(s.height-f.height)}else if(d=="northwest"){s.y=f.y-(s.height-f.height);s.x=f.x-(s.width-f.width)}else if(d=="southwest"){s.x=f.x-(s.width-f.width)}}}if(i===0){p="none"}if(h===0){o="none"}c.resize(s,{horizontal:o,vertical:p},b)},getResizeTarget:function(a){return a?this.target:this.getDynamicTarget()},resize:function(a,b,c){var d=this.getResizeTarget(c);if(d.isComponent){d.setSize(a.width,a.height);if(d.floating){d.setPagePosition(a.x,a.y)}}else{d.setBox(a)}d=this.originalTarget;if(d&&(this.dynamic||c)){if(d.isComponent){d.setSize(a.width,a.height);if(d.floating){d.setPagePosition(a.x,a.y)}}else{d.setBox(a)}}},onEnd:function(a){this.updateDimensions(a,true);if(this.proxy){this.proxy.hide()}}});Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:"Ext.selection.RowModel",mode:"MULTI",injectCheckbox:0,checkOnly:false,showHeaderCheckbox:true,headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",refreshOnRemove:true,beforeViewRender:function(a){var b=this;b.callParent(arguments);if(!b.hasLockedHeader()||a.headerCt.lockedCt){if(b.showHeaderCheckbox!==false){a.headerCt.on("headerclick",b.onHeaderClick,b)}b.addCheckbox(a,true);b.mon(a.ownerCt,"reconfigure",b.onReconfigure,b)}},bindComponent:function(a){var b=this;b.sortable=false;b.callParent(arguments)},hasLockedHeader:function(){var a=this.views,b=a.length,c;for(c=0;c<b;c++){if(a[c].headerCt.lockedCt){return true}}return false},addCheckbox:function(a,b){var c=this,d=c.injectCheckbox,e=a.headerCt;if(d!==false){if(d=="first"){d=0}else if(d=="last"){d=e.getColumnCount()}Ext.suspendLayouts();e.add(d,c.getHeaderConfig());Ext.resumeLayouts()}if(b!==true){a.refresh()}},onReconfigure:function(a,b,c){if(c){this.addCheckbox(this.views[0])}},toggleUiHeader:function(a){var b=this.views[0],c=b.headerCt,d=c.child("gridcolumn[isCheckerHd]");if(d){if(a){d.el.addCls(this.checkerOnCls)}else{d.el.removeCls(this.checkerOnCls)}}},onHeaderClick:function(a,b,c){if(b.isCheckerHd){c.stopEvent();var d=this,e=b.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");d.preventFocus=true;if(e){d.deselectAll()}else{d.selectAll()}delete d.preventFocus}},getHeaderConfig:function(){var a=this,b=a.showHeaderCheckbox!==false;return{isCheckerHd:b,text:"&#160;",width:a.headerWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:b?Ext.baseCSSPrefix+"column-header-checkbox ":"",renderer:Ext.Function.bind(a.renderer,a),editRenderer:a.editRenderer||a.renderEmpty,locked:a.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},renderer:function(a,b,c,d,e,f,g){var h=Ext.baseCSSPrefix;b.tdCls=h+"grid-cell-special "+h+"grid-cell-row-checker";return'<div class="'+h+'grid-row-checker">&#160;</div>'},onRowMouseDown:function(a,b,c,d,e){a.el.focus();var f=this,g=e.getTarget("."+Ext.baseCSSPrefix+"grid-row-checker"),h;if(!f.allowRightMouseSelection(e)){return}if(f.checkOnly&&!g){return}if(g){h=f.getSelectionMode();if(h!=="SINGLE"){f.setSelectionMode("SIMPLE")}f.selectWithEvent(b,e);f.setSelectionMode(h)}else{f.selectWithEvent(b,e)}},onSelectChange:function(){var a=this;a.callParent(arguments);a.updateHeaderState()},onStoreLoad:function(){var a=this;a.callParent(arguments);a.updateHeaderState()},updateHeaderState:function(){var a=this.selected.getCount()===this.store.getCount();this.toggleUiHeader(a)}});Ext.define("Ext.selection.CellModel",{extend:"Ext.selection.Model",alias:"selection.cellmodel",requires:["Ext.util.KeyNav"],isCellModel:true,enableKeyNav:true,preventWrap:false,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents("deselect","select");this.callParent(arguments)},bindComponent:function(a){var b=this,c=a.ownerCt;b.primaryView=a;b.views=b.views||[];b.views.push(a);b.bindStore(a.getStore(),true);a.on({cellmousedown:b.onMouseDown,refresh:b.onViewRefresh,scope:b});if(c.optimizedColumnMove!==false){c.on("columnmove",b.onColumnMove,b)}if(b.enableKeyNav){b.initKeyNav(a)}},initKeyNav:function(a){var b=this;if(!a.rendered){a.on("render",Ext.Function.bind(b.initKeyNav,b,[a],0),b,{single:true});return}a.el.set({tabIndex:-1});b.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:true,up:b.onKeyUp,down:b.onKeyDown,right:b.onKeyRight,left:b.onKeyLeft,tab:b.onKeyTab,scope:b})},getHeaderCt:function(){var a=this.getCurrentPosition(),b=a?a.view:this.primaryView;return b.headerCt},onKeyUp:function(a,b){this.keyNavigation=true;this.move("up",a);this.keyNavigation=false},onKeyDown:function(a,b){this.keyNavigation=true;this.move("down",a);this.keyNavigation=false},onKeyLeft:function(a,b){this.keyNavigation=true;this.move("left",a);this.keyNavigation=false},onKeyRight:function(a,b){this.keyNavigation=true;this.move("right",a);this.keyNavigation=false},move:function(a,b){var c=this,d=c.getCurrentPosition(),e=d.view.walkCells(d,a,b,c.preventWrap);if(e){e.view=d.view;return c.setCurrentPosition(e)}return null},getCurrentPosition:function(){return this.selection},setCurrentPosition:function(a){var b=this;b.lastSelection=b.selection;if(b.selection){b.onCellDeselect(b.selection)}if(a){b.nextSelection=new b.Selection(b);b.nextSelection.setPosition(a);b.onCellSelect(b.nextSelection);return b.selection=b.nextSelection}return null},onStoreRemove:function(a,b,c){var d=this,e=d.getCurrentPosition();d.callParent(arguments);if(e){if(e.row==c){if(c<a.getCount()-1){e.setPosition(c,e.column);d.setCurrentPosition(e)}else{delete d.selection}}else if(c<e.row){e.setPosition(e.row-1,e.column);d.setCurrentPosition(e)}}},onMouseDown:function(a,b,c,d,e,f,g){this.setCurrentPosition({view:a,row:f,column:c})},onCellSelect:function(a,b){if(a&&a.row!==undefined&&a.row>-1){this.doSelect(a.view.getStore().getAt(a.row),false,b)}},onCellDeselect:function(a,b){if(a&&a.row!==undefined){this.doDeselect(a.view.getStore().getAt(a.row),b)}},onSelectChange:function(a,b,c,d){var e=this,f,g,h;if(b){f=e.nextSelection;g="select"}else{f=e.lastSelection||e.noSelection;g="deselect"}h=f.view||e.primaryView;if((c||e.fireEvent("before"+g,e,a,f.row,f.column))!==false&&d()!==false){if(b){h.onCellSelect(f);h.onCellFocus(f)}else{h.onCellDeselect(f);delete e.selection}if(!c){e.fireEvent(g,e,a,f.row,f.column)}}},onKeyTab:function(a,b){var c=this,d=c.getCurrentPosition().view.editingPlugin;if(d&&c.wasEditing){c.onEditorTab(d,a)}else{c.move(a.shiftKey?"left":"right",a)}},onEditorTab:function(a,b){var c=this,d=b.shiftKey?"left":"right",e=c.move(d,b);if(e){if(a.startEditByPosition(e)){c.wasEditing=false}else{c.wasEditing=true;if(!e.columnHeader.dataIndex){c.onEditorTab(a,b)}}}},refresh:function(){var a=this.getCurrentPosition(),b;if(a&&(b=this.store.indexOf(this.selected.last()))!==-1){a.row=b}},onColumnMove:function(a,b,c,d){var e=a.up("tablepanel");if(e){this.onViewRefresh(e.view)}},onViewRefresh:function(a){var b=this,c=b.getCurrentPosition(),d=a.headerCt,e,f;if(c&&c.view===a){e=c.record;f=c.columnHeader;if(!f.isDescendantOf(d)){f=d.queryById(f.id)||d.down('[text="'+f.text+'"]')||d.down('[dataIndex="'+f.dataIndex+'"]')}if(f&&a.store.indexOfId(e.getId())!==-1){b.setCurrentPosition({row:e,column:f,view:a})}}},selectByPosition:function(a){this.setCurrentPosition(a)}},function(){var a=this.prototype.Selection=function(a){this.model=a};a.prototype.setPosition=function(a,b){var c=this,d;if(arguments.length===1){if(a.view){c.view=d=a.view}b=a.column;a=a.row}if(!d){c.view=d=c.model.primaryView}if(typeof a==="number"){c.row=a;c.record=d.store.getAt(a)}else if(a.isModel){c.record=a;c.row=d.indexOf(a)}else if(a.tagName){c.record=d.getRecord(a);c.row=d.indexOf(c.record)}if(typeof b==="number"){c.column=b;c.columnHeader=d.getHeaderAtIndex(b)}else{c.columnHeader=b;c.column=b.getIndex()}return c}});Ext.define("Ext.grid.PagingScroller",{percentageFromEdge:.35,numFromEdge:2,trailingBufferZone:5,leadingBufferZone:15,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,tableStart:0,tableEnd:0,constructor:function(a){var b=this;b.variableRowHeight=a.variableRowHeight;b.bindView(a.view);Ext.apply(b,a);b.callParent(arguments)},bindView:function(a){var b=this,c={scroll:{fn:b.onViewScroll,element:"el",scope:b},render:b.onViewRender,resize:b.onViewResize,boxready:{fn:b.onViewResize,scope:b,single:true},beforerefresh:b.beforeViewRefresh,refresh:b.onViewRefresh,scope:b},d={guaranteedrange:b.onGuaranteedRange,scope:b},e={reconfigure:b.onGridReconfigure,scope:b},f;if(b.view){if(b.view.el){b.view.el.un("scroll",b.onViewScroll,b)}f=a.lockingPartner;if(f){f.un("refresh",b.onLockRefresh,b)}b.view.un(c);b.store.un(d);if(b.grid){b.grid.un(e)}delete b.view.refreshSize}b.view=a;b.grid=b.view.up("tablepanel");b.store=a.store;if(a.rendered){b.viewSize=b.store.viewSize=Math.ceil(a.getHeight()/b.rowHeight)+b.trailingBufferZone+b.numFromEdge*2+b.leadingBufferZone}f=a.lockingPartner;if(f){f.on("refresh",b.onLockRefresh,b)}b.view.mon(b.store.pageMap,{scope:b,clear:b.onCacheClear});b.view.refreshSize=Ext.Function.createInterceptor(b.view.refreshSize,b.beforeViewrefreshSize,b);b.position=0;if(b.grid){b.grid.on(e)}else{b.view.on({added:function(){b.grid=b.view.up("tablepanel");b.grid.on(e)},single:true})}b.view.on(b.viewListeners=c);b.store.on(d)},onCacheClear:function(){var a=this;if(a.view.rendered&&!a.store.isDestroyed){a.ignoreNextScrollEvent=a.view.el.dom.scrollTop!==0;a.view.el.dom.scrollTop=0;delete a.lastScrollDirection;delete a.scrollOffset;delete a.scrollProportion}},onGridReconfigure:function(a){this.bindView(a.view)},onViewRender:function(){var a=this,b=a.view,c=a.view.el,d;a.stretcher=a.createStretcher(b);b=b.lockingPartner;if(b){d=a.stretcher;a.stretcher=new Ext.CompositeElement(d);a.stretcher.add(a.createStretcher(b))}},createStretcher:function(a){var b=a.el;b.setStyle("position","relative");return b.createChild({style:{position:"absolute",width:"1px",height:0,top:0,left:0}},b.dom.firstChild)},onViewResize:function(a,b,c){var d=this,e;e=Math.ceil(c/d.rowHeight)+d.trailingBufferZone+d.numFromEdge*2+d.leadingBufferZone;if(e>d.viewSize){d.viewSize=d.store.viewSize=e;d.handleViewScroll(d.lastScrollDirection||1)}},beforeViewRefresh:function(){var a=this,b=a.view,c,d;a.focusOnRefresh=Ext.Element.getActiveElement===b.el.dom;if(a.variableRowHeight){d=a.lastScrollDirection;a.commonRecordIndex=undefined;if(d&&a.previousStart!==undefined&&a.scrollProportion===undefined&&(c=b.getNodes()).length){if(d===1){if(a.tableStart<=a.previousEnd){a.commonRecordIndex=c.length-1}}else if(d===-1){if(a.tableEnd>=a.previousStart){a.commonRecordIndex=0}}a.scrollOffset=-b.el.getOffsetsTo(c[a.commonRecordIndex])[1];a.commonRecordIndex-=a.tableStart-a.previousStart}else{a.scrollOffset=undefined}}},onLockRefresh:function(a){a.table.dom.style.position="absolute"},onViewRefresh:function(){var a=this,b=a.store,c,d=a.view,e=d.el,f=e.dom,g,h,i,j=d.table.dom,k,l;if(a.focusOnRefresh){e.focus();a.focusOnRefresh=false}a.disabled=true;if(b.getCount()===b.getTotalCount()||b.isFiltered()&&!b.remoteFilter){a.stretcher.setHeight(0);a.position=f.scrollTop=0;a.setTablePosition("absolute");return}a.stretcher.setHeight(c=a.getScrollHeight());l=f.scrollTop;a.isScrollRefresh=l>0;if(a.scrollProportion!==undefined){a.setTablePosition("absolute");a.setTableTop((a.scrollProportion?c*a.scrollProportion-j.offsetHeight*a.scrollProportion:0)+"px")}else{a.setTablePosition("absolute");a.setTableTop((k=(a.tableStart||0)*a.rowHeight)+"px");if(a.scrollOffset){g=d.getNodes();h=-e.getOffsetsTo(g[a.commonRecordIndex])[1];i=h-a.scrollOffset;a.position=f.scrollTop+=i}else if(k>l||k+j.offsetHeight<l+f.clientHeight){a.lastScrollDirection=-1;a.position=f.scrollTop=k}}a.disabled=false},setTablePosition:function(a){this.setViewTableStyle(this.view,"position",a)},setTableTop:function(a){this.setViewTableStyle(this.view,"top",a)},setViewTableStyle:function(a,b,c){a.el.child("table",true).style[b]=c;a=a.lockingPartner;if(a){a.el.child("table",true).style[b]=c}},beforeViewrefreshSize:function(){if(this.isScrollRefresh){this.view.table.attach(this.view.el.child("table",true));return this.isScrollRefresh=false}},onGuaranteedRange:function(a,b,c){var d=this,e=d.store;if(a.length&&d.visibleStart<a[0].index){return}d.previousStart=d.tableStart;d.previousEnd=d.tableEnd;d.tableStart=b;d.tableEnd=c;e.loadRecords(a,{start:b})},onViewScroll:function(a,b){var c=this,d=c.view,e=c.position;c.position=d.el.dom.scrollTop;if(c.ignoreNextScrollEvent){c.ignoreNextScrollEvent=false;return}if(!c.disabled){c.lastScrollDirection=c.position>e?1:-1;if(e!==c.position){c.handleViewScroll(c.lastScrollDirection)}}},handleViewScroll:function(a){var b=this,c=b.store,d=b.view,e=b.viewSize,f=c.getTotalCount(),g=f-e,h=b.getFirstVisibleRowIndex(),i=b.getLastVisibleRowIndex(),j=d.el.dom,k,l;if(f>=e){b.scrollProportion=undefined;if(a==-1){if(b.tableStart){if(h!==undefined){if(h<b.tableStart+b.numFromEdge){k=Math.max(0,i+b.trailingBufferZone-e)}}else{b.scrollProportion=j.scrollTop/(j.scrollHeight-j.clientHeight);k=Math.max(0,f*b.scrollProportion-e/2-b.numFromEdge-(b.leadingBufferZone+b.trailingBufferZone)/2)}}}else{if(h!==undefined){if(i>b.tableEnd-b.numFromEdge){k=Math.max(0,h-b.trailingBufferZone)}}else{b.scrollProportion=j.scrollTop/(j.scrollHeight-j.clientHeight);k=f*b.scrollProportion-e/2-b.numFromEdge-(b.leadingBufferZone+b.trailingBufferZone)/2}}if(k!==undefined){if(k>g){k=g&~1;l=f-1}else{k=k&~1;l=k+e-1}if(c.rangeCached(k,l)){b.cancelLoad();c.guaranteeRange(k,l)}else{b.attemptLoad(k,l)}}}},getFirstVisibleRowIndex:function(){var a=this,b=a.view,c=b.el.dom.scrollTop,d,e,f,g;if(a.variableRowHeight){d=b.getNodes();e=d.length;if(!e){return}g=Ext.fly(d[0]).getOffsetsTo(b.el)[1];for(f=0;f<e;f++){g+=d[f].offsetHeight;if(g>b.el.dom.clientHeight){return}if(g>0){return b.getRecord(d[f]).index}}}else{return Math.floor(c/a.rowHeight)}},getLastVisibleRowIndex:function(){var a=this,b=a.store,c=a.view,d=c.el.dom.clientHeight,e,f,g,h;if(a.variableRowHeight){e=c.getNodes();if(!e.length){return}f=b.getCount()-1;h=Ext.fly(e[f]).getOffsetsTo(c.el)[1]+e[f].offsetHeight;for(g=f;g>=0;g--){h-=e[g].offsetHeight;if(h<0){return}if(h<d){return c.getRecord(e[g]).index}}}else{return a.getFirstVisibleRowIndex()+Math.ceil(d/a.rowHeight)+1}},getScrollHeight:function(){var a=this,b=a.view,c,d,e=a.store,f=0,g=!a.hasOwnProperty("rowHeight");if(a.variableRowHeight){c=a.view.table.dom;if(g){a.initialTableHeight=c.offsetHeight;a.rowHeight=a.initialTableHeight/a.store.getCount()}else{f=c.offsetHeight-a.initialTableHeight;if(e.getCount()>a.viewSize){f-=a.rowHeight}}}else if(g){d=b.el.down(b.getItemSelector());if(d){a.rowHeight=d.getHeight(false,true)}}return Math.floor(e.getTotalCount()*a.rowHeight)+f},attemptLoad:function(a,b){var c=this;if(c.scrollToLoadBuffer){if(!c.loadTask){c.loadTask=new Ext.util.DelayedTask(c.doAttemptLoad,c,[])}c.loadTask.delay(c.scrollToLoadBuffer,c.doAttemptLoad,c,[a,b])}else{c.store.guaranteeRange(a,b)}},cancelLoad:function(){if(this.loadTask){this.loadTask.cancel()}},doAttemptLoad:function(a,b){this.store.guaranteeRange(a,b)},destroy:function(){var a=this,b=a.viewListeners.scroll;a.store.un({guaranteedrange:a.onGuaranteedRange,scope:a});a.view.un(a.viewListeners);if(a.view.rendered){a.stretcher.remove();a.view.el.un("scroll",b.fn,b.scope)}}});Ext.define("Ext.resizer.SplitterTracker",{extend:"Ext.dd.DragTracker",requires:["Ext.util.Region"],enabled:true,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var a;a=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"});a.unselectable();a.setSize(Ext.Element.getViewWidth(true),Ext.Element.getViewHeight(true));a.show()},getPrevCmp:function(){var a=this.getSplitter();return a.previousSibling()},getNextCmp:function(){var a=this.getSplitter();return a.nextSibling()},onBeforeStart:function(a){var b=this,c=b.getPrevCmp(),d=b.getNextCmp(),e=b.getSplitter().collapseEl,f=a.getTarget(),g;if(e&&f===b.getSplitter().collapseEl.dom){return false}if(d.collapsed||c.collapsed){return false}b.prevBox=c.getEl().getBox();b.nextBox=d.getEl().getBox();b.constrainTo=g=b.calculateConstrainRegion();if(!g){return false}b.createDragOverlay();return g},onStart:function(a){var b=this.getSplitter();b.addCls(b.baseCls+"-active")},calculateConstrainRegion:function(){var a=this,b=a.getSplitter(),c=b.getWidth(),d=b.defaultSplitMin,e=b.orientation,f=a.prevBox,g=a.getPrevCmp(),h=a.nextBox,i=a.getNextCmp(),j,k;if(e==="vertical"){j=new Ext.util.Region(f.y,(g.maxWidth?f.x+g.maxWidth:h.right-(i.minWidth||d))+c,f.bottom,f.x+(g.minWidth||d));k=new Ext.util.Region(h.y,h.right-(i.minWidth||d),h.bottom,(i.maxWidth?h.right-i.maxWidth:f.x+(f.minWidth||d))-c)}else{j=new Ext.util.Region(f.y+(g.minHeight||d),f.right,(g.maxHeight?f.y+g.maxHeight:h.bottom-(i.minHeight||d))+c,f.x);k=new Ext.util.Region((i.maxHeight?h.bottom-i.maxHeight:f.y+(g.minHeight||d))-c,h.right,h.bottom-(i.minHeight||d),h.x)}return j.intersect(k)},performResize:function(a,b){var c=this,d=c.getSplitter(),e=d.orientation,f=c.getPrevCmp(),g=c.getNextCmp(),h=d.ownerCt,i=h.query(">[flex]"),j=i.length,k=0,l,m,n=0;for(;k<j;k++){m=i[k].getWidth();n+=m;i[k].flex=m}b=b||c.getOffset("dragTarget");if(e==="vertical"){b=b[0];l="width"}else{l="height";b=b[1]}if(f){m=c.prevBox[l]+b;if(f.flex){f.flex=m}else{f[l]=m}}if(g){m=c.nextBox[l]-b;if(g.flex){g.flex=m}else{g[l]=m}}h.updateLayout()},endDrag:function(){var a=this;if(a.overlay){a.overlay.remove();delete a.overlay}a.callParent(arguments)},onEnd:function(a){var b=this,c=b.getSplitter();c.removeCls(c.baseCls+"-active");b.performResize(a,b.getOffset("dragTarget"))},onDrag:function(a){var b=this,c=b.getOffset("dragTarget"),d=b.getSplitter(),e=d.getEl(),f=d.orientation;if(f==="vertical"){e.setX(b.startRegion.left+c[0])}else{e.setY(b.startRegion.top+c[1])}},getSplitter:function(){return this.splitter}});Ext.define("Ext.resizer.BorderSplitterTracker",{extend:"Ext.resizer.SplitterTracker",requires:["Ext.util.Region"],getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var a=this,b=a.splitter,c=b.collapseTarget,d=b.defaultSplitMin,e=b.vertical?"Width":"Height",f="min"+e,g="max"+e,h="get"+e,i=b.neighbors,j=i.length,k=c.el.getBox(),l=k.x,m=k.y,n=k.right,o=k.bottom,p=b.vertical?n-l:o-m,q,r,s,t,u,v,w;s=(c[f]||Math.min(p,d))-p;t=c[g];if(!t){t=1e9}else{t-=p}w=p;for(q=0;q<j;++q){r=i[q];p=r[h]();u=p-r[g];v=p-(r[f]||Math.min(p,d));if(!isNaN(u)){if(s<u){s=u}}if(t>v){t=v}}if(t-s<2){return null}k=new Ext.util.Region(m,n,o,l);a.constraintAdjusters[b.collapseDirection](k,s,t,b);a.dragInfo={minRange:s,maxRange:t,targetSize:w};return k},constraintAdjusters:{left:function(a,b,c,d){a[0]=a.x=a.left=a.right+b;a.right+=c+d.getWidth()},top:function(a,b,c,d){a[1]=a.y=a.top=a.bottom+b;a.bottom+=c+d.getHeight()},bottom:function(a,b,c,d){a.bottom=a.top-b;a.top-=c+d.getHeight()},right:function(a,b,c,d){a.right=a.left-b;a.left-=c+d.getWidth()}},onBeforeStart:function(a){var b=this,c=b.splitter,d=c.collapseTarget,e=c.neighbors,f=b.getSplitter().collapseEl,g=a.getTarget(),h=e.length,i,j;if(f&&g===c.collapseEl.dom){return false}if(d.collapsed){return false}for(i=0;i<h;++i){j=e[i];if(j.collapsed&&j.isHorz===d.isHorz){return false}}if(!(b.constrainTo=b.calculateConstrainRegion())){return false}b.createDragOverlay();return true},performResize:function(a,b){var c=this,d=c.splitter,e=d.collapseDirection,f=d.collapseTarget,g=c.splitAdjusters[d.vertical?"horz":"vert"],h=b[g.index],i=c.dragInfo,j;if(e=="right"||e=="bottom"){h=-h}h=Math.min(Math.max(i.minRange,h),i.maxRange);if(h){(j=d.ownerCt).suspendLayouts();g.adjustTarget(f,i.targetSize,h);j.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(a,b,c){a.flex=null;a.setSize(b+c)}},vert:{index:1,adjustTarget:function(a,b,c){a.flex=null;a.setSize(undefined,b+c)}}}});Ext.define("Ext.view.TableLayout",{extend:"Ext.layout.component.Auto",alias:["layout.tableview"],type:"tableview",beginLayout:function(a){var b=this;b.callParent(arguments);if(b.owner.table.dom){a.tableContext=a.getEl(b.owner.table);a.headerContext=a.context.getCmp(b.headerCt)}},calculate:function(a){var b=this;b.callParent(arguments);if(a.tableContext){if(a.state.columnWidthsSynced){if(a.hasProp("columnWidthsFlushed")){a.tableContext.setHeight(a.tableContext.el.dom.offsetHeight,false)}else{b.done=false}}else{if(a.headerContext.hasProp("columnWidthsDone")){a.context.queueFlush(b);a.state.columnWidthsSynced=true}b.done=false}}},measureContentHeight:function(a){if(!a.headerContext||a.hasProp("columnWidthsFlushed")){return this.callParent(arguments)}},flush:function(){var a=this,b=a.ownerContext.context,c=a.headerCt.getGridColumns(),d=0,e=c.length,f=a.owner.el,g=0,h;b.currentLayout=a;for(d=0;d<e;d++){h=c[d].hidden?0:b.getCmp(c[d]).props.width;g+=h;f.select(a.getColumnSelector(c[d])).setWidth(h)}f.select("table."+Ext.baseCSSPrefix+"grid-table-resizer").setWidth(g);a.ownerContext.setProp("columnWidthsFlushed",true)},finishedLayout:function(){var a=this,b;a.callParent(arguments);if(Ext.isGecko){b=a.headerCt.getGridColumns()[0];if(b){b=a.owner.el.down(a.getColumnSelector(b));if(b){b.setStyle("display","none");b.dom.scrollWidth;b.setStyle("display","")}}}},getColumnSelector:function(a){return"th."+Ext.baseCSSPrefix+"grid-col-resizer-"+a.id}});Ext.define("Ext.view.TableChunker",{singleton:true,requires:["Ext.XTemplate"],metaTableTpl:["{%if (this.openTableWrap)out.push(this.openTableWrap())%}",'<table class="'+Ext.baseCSSPrefix+"grid-table "+Ext.baseCSSPrefix+'grid-table-resizer" border="0" cellspacing="0" cellpadding="0" {[this.embedFullWidth(values)]}>',"<tbody>",'<tr class="'+Ext.baseCSSPrefix+'grid-header-row">','<tpl for="columns">','<th class="'+Ext.baseCSSPrefix+'grid-col-resizer-{id}" style="width: {width}px; height: 0px;"></th>',"</tpl>","</tr>","{[this.openRows()]}","{row}",'<tpl for="features">',"{[this.embedFeature(values, parent, xindex, xcount)]}","</tpl>","{[this.closeRows()]}","</tbody>","</table>","{%if (this.closeTableWrap)out.push(this.closeTableWrap())%}"],constructor:function(){Ext.XTemplate.prototype.recurse=function(a,b){return this.apply(b?a[b]:a)}},embedFeature:function(a,b,c,d){var e="";if(!a.disabled){e=a.getFeatureTpl(a,b,c,d)}return e},embedFullWidth:function(a){var b='style="width:{fullWidth}px;';if(!a.rowCount){b+="height:1px;"}return b+'"'},openRows:function(){return'<tpl for="rows">'},closeRows:function(){return"</tpl>"},metaRowTpl:['<tr class="'+Ext.baseCSSPrefix+'grid-row {[this.embedRowCls()]}" {[this.embedRowAttr()]}>','<tpl for="columns">','<td class="{cls} '+Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+'grid-cell-{columnId} {{id}-modified} {{id}-tdCls} {[this.firstOrLastCls(xindex, xcount)]}" {{id}-tdAttr}>','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {unselectableCls}" style="text-align: {align}; {{id}-style};">{{id}}</div>',"</td>","</tpl>","</tr>"],firstOrLastCls:function(a,b){if(a===1){return Ext.view.Table.prototype.firstCls}else if(a===b){return Ext.view.Table.prototype.lastCls}},embedRowCls:function(){return"{rowCls}"},embedRowAttr:function(){return"{rowAttr}"},openTableWrap:undefined,closeTableWrap:undefined,getTableTpl:function(a,b){var c,d={openRows:this.openRows,closeRows:this.closeRows,embedFeature:this.embedFeature,embedFullWidth:this.embedFullWidth,openTableWrap:this.openTableWrap,closeTableWrap:this.closeTableWrap},e={},f=a.features||[],g=f.length,h=0,i={embedRowCls:this.embedRowCls,embedRowAttr:this.embedRowAttr,firstOrLastCls:this.firstOrLastCls,unselectableAttr:a.enableTextSelection?"":'unselectable="on"',unselectableCls:a.enableTextSelection?"":Ext.baseCSSPrefix+"unselectable"},j=Array.prototype.slice.call(this.metaRowTpl,0),k;for(;h<g;h++){if(!f[h].disabled){f[h].mutateMetaRowTpl(j);Ext.apply(i,f[h].getMetaRowTplFragments());Ext.apply(e,f[h].getFragmentTpl());Ext.apply(d,f[h].getTableFragments())}}j=new Ext.XTemplate(j.join(""),i);a.row=j.applyTemplate(a);k=new Ext.XTemplate(this.metaTableTpl.join(""),d);c=k.applyTemplate(a);if(!b){c=new Ext.XTemplate(c,e)}return c}});Ext.define("Ext.ShadowPool",{singleton:true,requires:["Ext.DomHelper"],markup:function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}(),shadows:[],pull:function(){var a=this.shadows.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup));a.autoBoxAdjust=false}return a},push:function(a){this.shadows.push(a)},reset:function(){var a=[].concat(this.shadows),b,c=a.length;for(b=0;b<c;b++){a[b].remove()}this.shadows=[]}});Ext.define("Ext.grid.LockingView",{mixins:{observable:"Ext.util.Observable"},eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell)/,constructor:function(a){var b=this,c=[],d=b.eventRelayRe,e=a.locked.getView(),f=a.normal.getView(),g,h;Ext.apply(b,{lockedView:e,normalView:f,lockedGrid:a.locked,normalGrid:a.normal,panel:a.panel});b.mixins.observable.constructor.call(b,a);g=e.events;for(h in g){if(g.hasOwnProperty(h)&&d.test(h)){c.push(h)}}b.relayEvents(e,c);b.relayEvents(f,c);f.on({scope:b,itemmouseleave:b.onItemMouseLeave,itemmouseenter:b.onItemMouseEnter});e.on({scope:b,itemmouseleave:b.onItemMouseLeave,itemmouseenter:b.onItemMouseEnter})},getGridColumns:function(){var a=this.lockedGrid.headerCt.getGridColumns();return a.concat(this.normalGrid.headerCt.getGridColumns())},getEl:function(a){return this.getViewForColumn(a).getEl()},getViewForColumn:function(a){var b=this.lockedView,c;b.headerCt.cascade(function(b){if(b===a){c=true;return false}});return c?b:this.normalView},onItemMouseEnter:function(a,b){var c=this,d=c.lockedView,e=c.normalView,f;if(a.trackOver){if(a!==d){e=d}f=e.getNode(b);e.highlightItem(f)}},onItemMouseLeave:function(a,b){var c=this,d=c.lockedView,e=c.normalView;if(a.trackOver){if(a!==d){e=d}e.clearHighlight()}},relayFn:function(a,b){b=b||[];var c=this.lockedView;c[a].apply(c,b||[]);c=this.normalView;c[a].apply(c,b||[])},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(a){return this.normalView.getNode(a)},getCell:function(a,b){var c=this.getViewForColumn(b),d;d=c.getNode(a);return Ext.fly(d).down(b.getCellSelector())},getRecord:function(a){var b=this.lockedView.getRecord(a);if(!a){b=this.normalView.getRecord(a)}return b},addElListener:function(a,b,c){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)}});Ext.define("Ext.Shadow",{requires:["Ext.ShadowPool"],constructor:function(a){var b=this,c,d,e;Ext.apply(b,a);if(!Ext.isString(b.mode)){b.mode=b.defaultMode}d=b.offset;e=Math.floor(d/2);b.opacity=50;switch(b.mode.toLowerCase()){case"drop":if(Ext.supports.CSS3BoxShadow){c={t:d,l:d,h:-d,w:-d}}else{c={t:-e,l:-e,h:-e,w:-e}}break;case"sides":if(Ext.supports.CSS3BoxShadow){c={t:d,l:0,h:-d,w:0}}else{c={t:-(1+e),l:1+e-2*d,h:-1,w:e-1}}break;case"frame":if(Ext.supports.CSS3BoxShadow){c={t:0,l:0,h:0,w:0}}else{c={t:1+e-2*d,l:1+e-2*d,h:d-e-1,w:d-e-1}}break}b.adjusts=c},getShadowSize:function(){var a=this,b=a.el?a.offset:0,c=[b,b,b,b],d=a.mode.toLowerCase();if(a.el&&d!=="frame"){c[0]=0;if(d=="drop"){c[3]=0}}return c},offset:4,defaultMode:"drop",boxShadowProperty:function(){var a="boxShadow",b=document.documentElement.style;if(!("boxShadow"in b)){if("WebkitBoxShadow"in b){a="WebkitBoxShadow"}else if("MozBoxShadow"in b){a="MozBoxShadow"}}return a}(),show:function(a){var b=this,c;a=Ext.get(a);if(!b.el){b.el=Ext.ShadowPool.pull();if(b.el.dom.nextSibling!=a.dom){b.el.insertBefore(a)}}c=parseInt(a.getStyle("z-index"),10)-1||0;b.el.setStyle("z-index",b.zIndex||c);if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){b.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+b.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+b.offset+")"}b.realign(a.getLocalX(),a.getLocalY(),a.dom.offsetWidth,a.dom.offsetHeight);b.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(a,b,c,d){if(!this.el){return}var e=this.adjusts,f=this.el.dom,g=f.style,h,i,j,k;g.left=a+e.l+"px";g.top=b+e.t+"px";h=Math.max(c+e.w,0);i=Math.max(d+e.h,0);j=h+"px";k=i+"px";if(g.width!=j||g.height!=k){g.width=j;g.height=k;if(Ext.supports.CSS3BoxShadow){g[this.boxShadowProperty]="0 0 "+this.offset+"px #888"}}},hide:function(){var a=this;if(a.el){a.el.dom.style.display="none";Ext.ShadowPool.push(a.el);delete a.el}},setZIndex:function(a){this.zIndex=a;if(this.el){this.el.setStyle("z-index",a)}},setOpacity:function(a){if(this.el){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){a=Math.floor(a*100/2)/100}this.opacity=a;this.el.setOpacity(a)}}});Ext.define("Ext.grid.Lockable",{requires:["Ext.grid.LockingView","Ext.view.Table"],syncRowHeight:true,headerCounter:0,scrollDelta:40,unlockText:"Unlock",lockText:"Lock",determineXTypeToCreate:function(){var a=this,b,c,d,e,f;if(a.subGridXType){b=a.subGridXType}else{c=this.getXTypes().split("/");d=c.length;e=c[d-1];f=c[d-2];if(f!=="tablepanel"){b=f}else{b=e}}return b},injectLockable:function(){this.lockable=true;this.hasView=true;var a=this,b=Ext.getScrollbarSize().width===0,c=a.store=Ext.StoreManager.lookup(a.store),d=a.determineXTypeToCreate(),e=a.getSelectionModel(),f,g,h,i,j,k,l,m,n,o,p,q,r,s;f=a.constructFeatures();a.cloneFeatures();g=a.constructFeatures();h=a.constructPlugins();a.clonePlugins();i=a.constructPlugins();delete a.features;delete a.plugins;for(l=0,m=f?f.length:0;l<m;l++){f[l].lockingPartner=g[l];g[l].lockingPartner=f[l]}j=Ext.apply({xtype:d,store:c,scrollerOwner:false,enableAnimations:false,scroll:b?"vertical":false,selModel:e,border:false,cls:Ext.baseCSSPrefix+"grid-inner-locked",isLayoutRoot:function(){return false},features:f,plugins:h},a.lockedGridConfig);k=Ext.apply({xtype:d,store:c,scrollerOwner:false,enableAnimations:false,selModel:e,border:false,isLayoutRoot:function(){return false},features:g,plugins:i},a.normalGridConfig);a.addCls(Ext.baseCSSPrefix+"grid-locked");Ext.copyTo(k,a,a.bothCfgCopy);Ext.copyTo(j,a,a.bothCfgCopy);Ext.copyTo(k,a,a.normalCfgCopy);Ext.copyTo(j,a,a.lockedCfgCopy);for(l=0;l<a.normalCfgCopy.length;l++){delete a[a.normalCfgCopy[l]]}for(l=0;l<a.lockedCfgCopy.length;l++){delete a[a.lockedCfgCopy[l]]}a.addEvents("lockcolumn","unlockcolumn");a.addStateEvents(["lockcolumn","unlockcolumn"]);a.lockedHeights=[];a.normalHeights=[];n=a.processColumns(a.columns);j.width=n.lockedWidth+Ext.num(e.headerWidth,0);j.columns=n.locked;k.columns=n.normal;k.flex=1;j.viewConfig=a.lockedViewConfig||{};j.viewConfig.loadingUseMsg=false;k.viewConfig=a.normalViewConfig||{};Ext.applyIf(j.viewConfig,a.viewConfig);Ext.applyIf(k.viewConfig,a.viewConfig);a.lockedGrid=Ext.ComponentManager.create(j);q=a.lockedGrid.getView();k.viewConfig.lockingPartner=q;a.normalGrid=Ext.ComponentManager.create(k);r=a.normalGrid.getView();a.view=new Ext.grid.LockingView({locked:a.lockedGrid,normal:a.normalGrid,panel:a});s={scroll:{fn:a.onLockedViewScroll,element:"el",scope:a}};if(!b){s.mousewheel={fn:a.onLockedViewMouseWheel,element:"el",scope:a}}if(a.syncRowHeight){s.refresh=a.onLockedViewRefresh;s.itemupdate=a.onLockedViewItemUpdate;s.scope=a}q.on(s);s={scroll:{fn:a.onNormalViewScroll,element:"el",scope:a},refresh:a.syncRowHeight?a.onNormalViewRefresh:a.updateSpacer,scope:a};r.on(s);o=a.lockedGrid.headerCt;p=a.normalGrid.headerCt;o.lockedCt=true;o.lockableInjected=true;p.lockableInjected=true;o.on({columnshow:a.onLockedHeaderShow,columnhide:a.onLockedHeaderHide,columnmove:a.onLockedHeaderMove,sortchange:a.onLockedHeaderSortChange,columnresize:a.onLockedHeaderResize,scope:a});p.on({columnmove:a.onNormalHeaderMove,sortchange:a.onNormalHeaderSortChange,scope:a});a.modifyHeaderCt();a.items=[a.lockedGrid,a.normalGrid];a.relayHeaderCtEvents(o);a.relayHeaderCtEvents(p);a.layout={type:"hbox",align:"stretch"}},processColumns:function(a){var b=0,c=a.length,d=0,e=[],f=[],g;for(;b<c;++b){g=a[b];if(!g.isComponent){g=Ext.apply({},a[b])}g.processed=true;if(g.locked){if(g.flex){Ext.Error.raise("Columns which are locked do NOT support a flex width. You must set a width on the "+a[b].text+"column.")}if(!g.hidden){d+=g.width||Ext.grid.header.Container.prototype.defaultWidth}e.push(g)}else{f.push(g)}if(!g.headerId){g.headerId=(g.initialConfig||g).id||"L"+ ++this.headerCounter}}return{lockedWidth:d,locked:{items:e,itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt"},normal:{items:f,itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt"}}},onLockedViewMouseWheel:function(a){var b=this,c=-b.scrollDelta,d=c*a.getWheelDeltas().y,e=b.lockedGrid.getView().el.dom,f,g;if(e){f=e.scrollTop!==e.scrollHeight-e.clientHeight;g=e.scrollTop!==0}if(d<0&&g||d>0&&f){a.stopEvent();b.scrolling=true;e.scrollTop+=d;b.normalGrid.getView().el.dom.scrollTop=e.scrollTop;b.scrolling=false;b.onNormalViewScroll()}},onLockedViewScroll:function(){var a=this,b=a.lockedGrid.getView(),c=a.normalGrid.getView(),d,e;if(!a.scrolling){a.scrolling=true;c.el.dom.scrollTop=b.el.dom.scrollTop;if(a.store.buffered){e=b.el.child("table",true);d=c.el.child("table",true);e.style.position="absolute"}a.scrolling=false}},onNormalViewScroll:function(){var a=this,b=a.lockedGrid.getView(),c=a.normalGrid.getView(),d,e;if(!a.scrolling){a.scrolling=true;b.el.dom.scrollTop=c.el.dom.scrollTop;if(a.store.buffered){e=b.el.child("table",true);d=c.el.child("table",true);e.style.position="absolute";e.style.top=d.style.top}a.scrolling=false}},onLockedHeaderMove:function(){if(this.syncRowHeight){this.onNormalViewRefresh()}},onNormalHeaderMove:function(){if(this.syncRowHeight){this.onLockedViewRefresh()}},updateSpacer:function(){var a=this,b=a.lockedGrid.getView().el,c=a.normalGrid.getView().el.dom,d=b.dom.id+"-spacer",e=c.offsetHeight-c.clientHeight+"px";a.spacerEl=Ext.getDom(d);if(a.spacerEl){a.spacerEl.style.height=e}else{Ext.core.DomHelper.append(b,{id:d,style:"height: "+e})}},onLockedViewRefresh:function(){if(this.normalGrid.headerCt.getGridColumns().length){var a=this,b=a.lockedGrid.getView(),c=b.el,d=c.query(b.getItemSelector()),e=d.length,f=0;a.lockedHeights=[];for(;f<e;f++){a.lockedHeights[f]=d[f].offsetHeight}a.syncRowHeights();a.updateSpacer()}},onNormalViewRefresh:function(){if(this.lockedGrid.headerCt.getGridColumns().length){var a=this,b=a.normalGrid.getView(),c=b.el,d=c.query(b.getItemSelector()),e=d.length,f=0;a.normalHeights=[];for(;f<e;f++){a.normalHeights[f]=d[f].offsetHeight}a.syncRowHeights();a.updateSpacer()}},onLockedViewItemUpdate:function(a,b,c){if(this.normalGrid.headerCt.getGridColumns().length){this.lockedHeights[b]=c.offsetHeight;this.syncRowHeights()}},onNormalViewItemUpdate:function(a,b,c){if(this.lockedGrid.headerCt.getGridColumns().length){this.normalHeights[b]=c.offsetHeight;this.syncRowHeights()}},syncRowHeights:function(){var a=this,b=a.lockedHeights,c=a.normalHeights,d=b.length,e=0,f,g,h,i,j;if(b.length&&c.length){f=a.lockedGrid.getView();g=a.normalGrid.getView();h=f.el.query(f.getItemSelector());i=g.el.query(g.getItemSelector());for(;e<d;e++){if(!isNaN(b[e])&&!isNaN(c[e])){if(b[e]>c[e]){Ext.fly(i[e]).setHeight(b[e])}else if(b[e]<c[e]){Ext.fly(h[e]).setHeight(c[e])}}}j=g.el.dom.scrollTop;g.el.dom.scrollTop=j;f.el.dom.scrollTop=j;a.lockedHeights=[];a.normalHeights=[]}},modifyHeaderCt:function(){var a=this;a.lockedGrid.headerCt.getMenuItems=a.getMenuItems(a.lockedGrid.headerCt.getMenuItems,true);a.normalGrid.headerCt.getMenuItems=a.getMenuItems(a.normalGrid.headerCt.getMenuItems,false)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},getMenuItems:function(a,b){var c=this,d=c.unlockText,e=c.lockText,f=Ext.baseCSSPrefix+"hmenu-unlock",g=Ext.baseCSSPrefix+"hmenu-lock",h=Ext.Function.bind(c.onUnlockMenuClick,c),i=Ext.Function.bind(c.onLockMenuClick,c);return function(){var c=a.call(this);c.push("-",{cls:f,text:d,handler:h,disabled:!b});c.push({cls:g,text:e,handler:i,disabled:b});return c}},lock:function(a,b){var c=this,d=c.normalGrid,e=c.lockedGrid,f=d.headerCt,g=e.headerCt;a=a||f.getMenu().activeHeader;if(a.flex){a.width=a.getWidth();delete a.flex}Ext.suspendLayouts();a.ownerCt.remove(a,false);a.locked=true;if(Ext.isDefined(b)){g.insert(b,a)}else{g.add(a)}c.syncLockedSection();Ext.resumeLayouts(true);c.updateSpacer();c.fireEvent("lockcolumn",c,a)},syncLockedSection:function(){var a=this;a.syncLockedWidth();a.lockedGrid.getView().refresh();a.normalGrid.getView().refresh()},syncLockedWidth:function(){var a=this,b=a.lockedGrid,c=b.headerCt.getFullWidth(true);Ext.suspendLayouts();if(c>0){b.setWidth(c);b.show()}else{b.hide()}Ext.resumeLayouts(true);return c>0},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(a,b,c){if(c){this.normalGrid.headerCt.clearOtherSortStates(null,true)}},onNormalHeaderSortChange:function(a,b,c){if(c){this.lockedGrid.headerCt.clearOtherSortStates(null,true)}},unlock:function(a,b){var c=this,d=c.normalGrid,e=c.lockedGrid,f=d.headerCt,g=e.headerCt,h=false;if(!Ext.isDefined(b)){b=0}a=a||g.getMenu().activeHeader;Ext.suspendLayouts();a.ownerCt.remove(a,false);if(c.syncLockedWidth()){h=true}a.locked=false;f.insert(b,a);c.normalGrid.getView().refresh();if(h){c.lockedGrid.getView().refresh()}Ext.resumeLayouts(true);c.fireEvent("unlockcolumn",c,a)},applyColumnsState:function(a){var b=this,c=b.lockedGrid,d=c.headerCt,e=b.normalGrid.headerCt,f=Ext.Array.toMap(d.items,"headerId"),g=Ext.Array.toMap(e.items,"headerId"),h=[],i=[],j=1,k=a.length,l,m,n,o;for(l=0;l<k;l++){o=a[l];n=f[o.id];m=n||g[o.id];if(m){if(m.applyColumnState){m.applyColumnState(o)}if(m.locked===undefined){m.locked=!!n}if(m.locked){h.push(m);if(!m.hidden&&typeof m.width=="number"){j+=m.width}}else{i.push(m)}}}if(h.length+i.length==d.items.getCount()+e.items.getCount()){d.removeAll(false);e.removeAll(false);d.add(h);e.add(i);c.setWidth(j)}},getColumnsState:function(){var a=this,b=a.lockedGrid.headerCt.getColumnsState(),c=a.normalGrid.headerCt.getColumnsState();return b.concat(c)},reconfigureLockable:function(a,b){var c=this,d=c.lockedGrid,e=c.normalGrid;if(b){Ext.suspendLayouts();d.headerCt.removeAll();e.headerCt.removeAll();b=c.processColumns(b);d.setWidth(b.lockedWidth);d.headerCt.add(b.locked.items);e.headerCt.add(b.normal.items);Ext.resumeLayouts(true)}if(a){a=Ext.data.StoreManager.lookup(a);c.store=a;d.bindStore(a);e.bindStore(a)}else{d.getView().refresh();e.getView().refresh()}},cloneFeatures:function(){var a=this,b=a.features,c,d=0,e;if(b){e=b.length;for(;d<e;d++){c=b[d];if(c.isFeature){b[d]=c.clone()}}}},clonePlugins:function(){var a=this,b=a.plugins,c,d=0,e;if(b){e=b.length;for(;d<e;d++){c=b[d];if(typeof c.init==="function"){b[d]=c.clone()}}}}},function(){this.borrow(Ext.view.Table,["constructFeatures"]);this.borrow(Ext.AbstractComponent,["constructPlugins","constructPlugin"])})